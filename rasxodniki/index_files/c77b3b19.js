flexbe_cli.entity.setClientJs("modal","PAY",{types:{},pay_id:"",hash:"",onLoad(){this.$content=this.$modal.find(".action-container"),this.start(),flexbe_cli.events.on("pay",(e=>{e&&("init"===e.action?this.start():"success"===e.action&&this.showSuccessAlert(e.withoutPay))}))},onClose(){try{window.history.pushState(null,null,window.location.pathname)}catch(e){}},start(){const e=this.getPayStatus();if(e){switch(e){case"success":this.showSuccessAlert();break;case"fail":this.showFailAlert();break;case"pay":this.getBill()}setTimeout((()=>{flexbe_cli.events.trigger("ui_modal_open",{id:"pay"})}),200)}},getPayStatus(){let e=!1;try{const t=new URL(window.location.href);e=[...t.searchParams.entries()].reduce(((e,[t,a])=>({...e,[t]:a})),{})}catch(e){return console.error(e),!1}return!(!e||!e.pay_id)&&(this.pay_id=e.pay_id,this.hash=e.h,e.pay_status||"pay")},getBillData(e){this.pay_id&&$.ajax({url:"/mod/pay/ajax",type:"GET",dataType:"json",data:{act:"payData",pay_id:this.pay_id,hash:this.hash}}).done((t=>{t.error&&3===t.status?this.showSuccessAlert(!0):"function"==typeof e&&e(t)}))},getBill(){this.pay_id&&!1!==this.pay_id&&this.getBillData((e=>{if(0===e.status)return setTimeout((()=>{flexbe_cli.events.trigger("ui_modal_close",{id:"pay"}),alert(e.error)}),200),!1;this.types=e.pay.support_types,2==+e.pay.pay_status?this.showAlreadyPayed(e.pay):this.cashonly()?this.showCashInstruction(e.pay):this.showBillForm(e.pay)}))},redirectToPayLink(e){"cash"!==e?window.location.href=`/mod/pay/?pay_type=${e}&pay_id=${this.pay_id}&h=${this.hash}`:this.showCashInstruction()},showBillForm(e){const t=Object.keys(this.types);this.renderView("bill");const a=this.$content,s=a.find(".pay-action"),i=a.find(".pay-methods-list-inner"),n=a.find(".component-button"),o={cash:"cash",bank_card:"cards",visa:"visa",mastercard:"mastercard",yandex:"yandex",qiwi:"qiwi",webmoney:"webmoney",webmoney_z:"webmoney",webmoney_u:"webmoney",mobile_megafon:"megafon",mobile_beeline:"bee",mobile_mts:"mts",mobile_tele2:"t2",sberbank:"sberbank",bank:"bank",w1:"w1",ibank_robo:"ibank_robo",yandex_kassa:"yandexkassa",yandexkassa:"yandexkassa",bank_company:"bank_company",paypal:"paypal"},c=t.reduce(((e,t,a)=>{const s=o[t],i=flexbe_cli.locale.tr(`pay.methods.${t}`);return`${e}<label class="item" title="${i}" for="${t}">\n                <input type="radio" name="form[pay_method]" value="${t}" id="${t}" ${0===a?'checked="checked"':""}>\n                <div class="item-inner">\n                        <span class="check"></span>\n\n                        <span class="icon">\n                            <img class="icon-inner" src="/_s/images/theme/res/pay/${s}.svg" />\n                        </span>\n\n                        <span class="item-name font-size-tiny">${i}</span>\n                </div>\n            </label>`}),"");i.html(c),s.find(".title > span.num").text(e.pay_id),s.find(".price").text(flexbe_cli.locale.formatMoney(e.pay_sum)),i.on("click",".item",(e=>(e.preventDefault(),$(e.currentTarget).find("input").prop("checked",!0),n.removeClass("disabled"),!1))),n.on("click",(e=>{const t=i.find("input:checked").val();if(!t)return i.removeClass("shake"),setTimeout((()=>{i.addClass("shake")}),30),!1;flexbe_cli.run.is_mobile&&flexbe_cli.run.is_OSX||$(e.currentTarget).addClass("submitting"),this.redirectToPayLink(t)}))},showCashInstruction(){this.renderView("loading"),$.ajax({url:"/mod/pay/ajax",type:"GET",dataType:"json",data:{act:"selectCash",pay_id:this.pay_id,hash:this.hash}}).done((e=>{e.link_redirect?window.location.href=e.link_redirect:(this.renderView("cash"),this.types.cash&&this.types.cash.instruction&&this.$content.find(".text").html(this.types.cash.instruction))}))},showAlreadyPayed(e){let t="";e.pay_time_done&&"0"!==e.pay_time_done&&e.pay_time_done_formatted&&(t=e.pay_time_done_formatted),this.renderView("already"),this.$content.find(".text > span.num").text(e.pay_id),this.$content.find(".title > span.num").text(e.pay_id),this.$content.find(".sub > span").text(t),this.$content.find(".price").text(flexbe_cli.locale.formatMoney(e.pay_sum))},showSuccessAlert(e=!1){setTimeout((()=>{flexbe_cli.stat.reachGoal(flexbe_cli.stat.getGoal("pay_done"))}),1e3),e?this.renderView("success"):this.renderView("pay_success")},showFailAlert(){this.renderView("fail"),this.getBillData((e=>{const t=this.$content.find(".pay-action");t.find(".title > span.num").text(e.pay.pay_id),t.find(".price").text(flexbe_cli.locale.formatMoney(e.pay.pay_sum)),this.$content.find(".component-button").off("click").on("click",(()=>{this.getBill()}))}))},cashonly(){return this.types.cash&&1===Object.keys(this.types).length},renderView(e){const t=this.$content,a=this.$area.find(`template[data-id=${e}]`)[0];t.attr("data-view",e).html(a.innerHTML)}});

!function(){const t={$container:".widget-data",$list:".order-list",$button:".cart-button",$buttonCount:".cart-button-count",$form:".component-form",$formButton:".form-field-submit",$count:".cart-checkout-count__value",$discountLine:".cart-checkout-discount",$promocodeLine:".cart-checkout-promocode",$shippingLine:".cart-checkout-shipping",$shipping:".cart-checkout-shipping__price",$subtotal:".cart-checkout-subtotal__price",$total:".cart-checkout-summary__price",$checkoutBlock:".cart-checkout-block",$minTotal:".cart-min-total",$shippingNotFix:".cart-shipping__not-fix-total",$untilFree:".cart-delivery-free",$nearestDiscount:".cart-info-block_discount",$promocodeField:".promocode-field",$promocodeBlock:".applied-promocode-block",$promocodeTextLink:".promocode-link"},e={key:"in_stock",class:"in-stock",title:"cart::quantity_status::in_stock"},o={key:"items_in_stock",class:"items-in-stock",title:"cart::quantity_status::items_in_stock"},i={key:"preorder",class:"preorder",title:"cart::quantity_status::preorder"},n={key:"out_of_stock",class:"out-of-stock",title:"cart::quantity_status::out_of_stock"},r={key:"items_left_in_stock",class:"items-left",title:"cart::quantity_status::items_left_in_stock"},s={key:"not_available",class:"not-available",title:"cart::quantity_status::not_available"},a={key:"unknown",class:"",title:""};function c(t){return null!=t.productId&&null!=t.variantId}function l(t){return"custom"===t.type||t.quantity===1/0||-1===t.quantity}function d(t){return!t.quantity||t.count>t.quantity}function h(t){return t.quantity>0&&!d(t)}function u(t){const u=flexbe_cli.locale.tr.bind(flexbe_cli.locale),{inStockStatus:m,outOfStockStatus:p,allowPreorder:f}=flexbe_cli.ecommerce.cartSettings;if(!c(t))return{...e,title:u(e.title),show:!0};if(t.hidden)return{...s,title:u(s.title),show:!0};if(l(t)||h(t)&&"in_stock"===m||d(t)&&f&&"in_stock"===p)return{...e,title:u(e.title),show:!0};if(h(t)&&"items_in_stock"===m)return{...o,title:u(o.title,{count:+t.quantity}),show:!0};if(d(t)){if(f&&"preorder"===p)return{...i,title:u(i.title),show:!0};if(!f&&!t.quantity)return{...n,title:u(n.title),show:!0};if(!f&&t.quantity>0)return{...r,title:u(r.title,{count:t.quantity}),show:!0}}return{show:!1,...a}}async function m(){const t=flexbe_cli.ecommerce.cartStore.getList();if(!t.some((t=>c(t))))return t;const e=t.map((t=>t.productId)).filter((t=>t)),{products:o}=await flexbe_cli.ecommerce.productsStore.loadProducts({showType:"select_products",productIds:e,limit:e.length});if(!Array.isArray(o))throw new Error("loadProductsList: empty result");return t.map((t=>{const e={...t},i=o.find((e=>e.id===t.productId)),n=i&&i.variants.find((e=>e.id===t.variantId));var r,s;return e.hidden=c(t)&&(!i||!n||!i.visible||!n.visible),n&&(e.img=(s=n,"product"===(r=i).display_image?s.default_image_id&&r.images.length?r.images.find((t=>t.unq_id===s.default_image_id))||r.images[0]:r.images.length?r.images[0]:null:s.images.length?s.images[0]:null),e.quantity=function(t){return l(t)?1/0:t.quantity}(n),e.title=i.name,e.price=n.price,e.vendorCode=n.vendor_code,e.optionsInfo=n.optionsInfo),e}))}let p,f;async function _(){const t=await m();flexbe_cli.ecommerce.cartStore.dispatch("updateList",t),clearTimeout(p),p=setTimeout((()=>_()),12e5)}const v="cart_changes",g='<svg class="arrow" viewBox="0 0 16 16"><path d="M3 8H13M13 8L10 5M13 8L10 11" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>';function y(t,e){const o=$(`\n        <div class="m_modal m_${v}" data-is="modal" data-id="${v}" data-m-id="cart_changes">\n            <div class="modal-data" data-overlay="true">\n                <div class="component-bg" data-type="color" data-component="background"><div class="layer2 overlay"></div></div>\n\n                <div class="modal-content" data-contrast="dark">\n                    ${function({title:t}){return`\n        <div class="modal-title">\n            <svg width="16" height="16" viewBox="0 0 16 16">\n                <path d="M7.00006 1C7.00006 0.447715 7.44778 0 8.00006 0C8.55235 0 9.00006 0.447715 9.00006 1V2.10002C11.2823 2.56329 13.0001 4.58104 13.0001 7V11H13L15 13H9.7325C9.90267 13.2942 10.0001 13.6357 10.0001 14C10.0001 15.1046 9.10463 16 8.00006 16C6.89549 16 6.00006 15.1046 6.00006 14C6.00006 13.6357 6.09746 13.2942 6.26763 13H1L3.00006 10.9999V7C3.00006 4.58104 4.71782 2.56329 7.00006 2.10002V1ZM5.00006 11H11.0001V7C11.0001 5.34315 9.65692 4 8.00006 4C6.34321 4 5.00006 5.34315 5.00006 7V11Z" fill="currentColor"/>\n            </svg>\n\n            <span class="text">${t}</span>\n            <a class="close close-times"></a>\n        </div>`}({title:t.title})}\n                    ${function(t){return`<div class="products-list">${t.list.map((t=>function(t){const e=t.changes||[],o=e.reduce(((t,e)=>(t+=`<div class="variant-change ${void 0!==e.isBad?"variant-change--"+(e.isBad?"bad":"good"):""}">`,e.message&&(t+=`<div class="variant-change__message">${e.message}</div>`),null!=e.from&&null!=e.to&&(t+=`<div class="variant-change__info">\n                <span class="from">${e.from}</span>\n                ${g}\n                <span class="to">${e.to}</span>\n            </div>`),t+="</div>")),"");return`\n        <div class="product-item">\n            <div class="product-title">${t.title}</div>\n            ${t.variant?`<div class="variant-title">${t.variant}</div>`:""}\n            <div class="variant-changes variant-changes--${e.length>1?"many":"one"}">${o}</div>\n            ${t.errorMessage?`<div class="variant__error-message">${t.errorMessage}</div>`:""}\n        </div>`}(t))).join("")}</div>`}(t)}\n\n                    ${e.showActions?function(){const{locale:t}=flexbe_cli;return`\n        <div class="modal-footer">\n            <div class="button filled" data-action="apply">\n                <div class="text">${t.tr("cart::price_confirmation::apply")}</div>\n            </div>\n\n            <div class="button" data-action="cancel">\n                <div class="text">${t.tr("cart::price_confirmation::cancel")}</div>\n            </div>\n        </div>`}():""}\n                </div>\n            </div>\n        </div>\n    `);return o.on("click","[data-action]",(t=>{const o=t.currentTarget.getAttribute("data-action");"apply"===o&&e.onConfirm&&e.onConfirm(),"cancel"===o&&e.onCancel&&e.onCancel()})),o}async function b(t,e){const{modal:o,entity:i,events:n}=flexbe_cli;return new Promise((r=>{let s;const a=function(t){const{locale:e}=flexbe_cli,o=e.tr("cart::promocode::block::title"),i=[];if(t.discount){const{oldData:o,newData:n}=t.discount;if([o,n].forEach((t=>{if(t){let o=e.formatMoney(+t.discount_amount);"percent"===t.discount_type&&(o=+t.discount_amount+"%"),t.delivery_free&&(o=`${o} + ${e.tr("cart::promocode::delivery_free").toLowerCase()}`),t.value=o}})),null!=o&&o.value||null!=n&&n.value){const t=+((null==o?void 0:o.discountValue)||0),r=+((null==n?void 0:n.discountValue)||0),s={type:"price",from:(null==o?void 0:o.value)||0,to:(null==n?void 0:n.value)||0,isBad:t>r};i.push({title:e.tr("cart::discount_title"),changes:[s]})}}if(t.promocode){const{oldData:o,newData:n,currentData:r,code:s}=t.promocode;if(r&&!r.isAvailable)i.push({title:e.tr("cart::promocode::not_applied_title",{code:r.code.toUpperCase()}),errorMessage:e.tr("cart::promotion::code::default_error")});else if(r&&!r.isActive)i.push({title:e.tr("cart::promocode::not_applied_title",{code:r.code.toUpperCase()}),errorMessage:e.tr("cart::promotion::code::amount_error",{amount:r.activeFrom})});else if(o&&n){[o,n].forEach((t=>{let o=e.formatMoney(+t.discount_amount);"percent"===t.discount_type&&(o=+t.discount_amount+"%"),"delivery"===t.discount_type?o=e.tr("cart::promocode::delivery_free"):t.delivery_free&&(o=`${o} + ${e.tr("cart::promocode::delivery_free").toLowerCase()}`),t.value=o}));const t={type:"price",from:o.value,to:n.value};if(o.discount_type===n.discount_type&&(!o.hasFreeDelivery&&!n.hasFreeDelivery||o.hasFreeDelivery&&n.hasFreeDelivery)){const e=+((null==o?void 0:o.discountValue)||0),i=+((null==n?void 0:n.discountValue)||0);t.isBad=e>i}i.push({title:`${e.tr("cart::promocode_title")} (${s.toUpperCase()})`,changes:[t]})}}return{title:o,list:i}}(t),c=()=>{s&&flexbe_cli.events.trigger("ui_modal_close",{id:s.id})},l=()=>(c(),e.onConfirm&&e.onConfirm(),r(!0));if(!a.list.length)return l();const d=y(a,{...e,onConfirm:l,onCancel:()=>(c(),e.onCancel&&e.onCancel(),r(!1))});o.$list.append(d),s=i.initArea(d),setTimeout((()=>{n.trigger("ui_modal_open",{id:s.id,options:{hash:!1,rise:!0,...e,onClose:()=>{e.onClose&&e.onClose(),d.remove()}}})}),30)}))}async function k(t,e){const{modal:o,entity:i,events:n}=flexbe_cli;return new Promise((r=>{let s;const a=function(t){const{locale:e}=flexbe_cli;return{title:flexbe_cli.locale.tr("cart::variant_confirmation::title"),list:t.filter((t=>c(t))).map((t=>{const o=u(t),i={title:t.title,variant:t.optionsInfo?t.optionsInfo.map((t=>t.name)).join(", "):"",changes:[]};return["not_available","out_of_stock"].includes(o.key)&&i.changes.push({isBad:!0,type:"not_available",message:o.title}),t.price!==t.orderPrice&&i.changes.push({isBad:t.orderPrice<t.price,type:"price",message:e.tr("cart::variant_confirmation::error::price_changed"),from:e.formatMoney(t.orderPrice,{freeLabel:!1}),to:e.formatMoney(t.price,{freeLabel:!1})}),"items_left_in_stock"===o.key&&i.changes.push({isBad:!0,type:"count",message:e.tr("cart::variant_confirmation::error::quantity_changed"),from:`${t.count} ${e.tr("cart::item")}`,to:`${t.quantity} ${e.tr("cart::item")}`}),i})).filter((t=>t.changes.length))}}(t),l=()=>{s&&flexbe_cli.events.trigger("ui_modal_close",{id:s.id})},d=()=>(l(),e.onConfirm&&e.onConfirm(),r(!0));if(!a.list.length)return void d();const h=y(a,{...e,onConfirm:d,onCancel:()=>(l(),e.onCancel&&e.onCancel(),r(!1))});o.$list.append(h),s=i.initArea(h),setTimeout((()=>{n.trigger("ui_modal_open",{id:s.id,options:{hash:!1,rise:!0,...e,onClose:()=>{e.onClose&&e.onClose(),h.remove()}}})}),30)}))}let C;var w={isOpened:!1,cartInited:!1,get cartStore(){return flexbe_cli.ecommerce.cartStore},get deliveryStore(){return flexbe_cli.ecommerce.deliveryStore},get promotionStore(){return flexbe_cli.ecommerce.promotionStore},get list(){return this.cartStore.getList()||[]},get changedPrices(){return this.list.filter((t=>c(t)&&null!=t.orderPrice&&t.orderPrice!==t.price))},get count(){var t;return null!=(t=this.cartStore.getCount())?t:0},get activeDiscount(){return this.promotionStore?this.promotionStore.activeDiscount:null},get activeDiscountAmount(){return this.activeDiscount?this.activeDiscount.discountValue:0},get appliedPromocode(){return this.promotionStore?this.promotionStore.appliedPromocode:null},get isDeliveryPromocode(){var t;return"delivery"===(null==(t=this.appliedPromocode)?void 0:t.discount_type)},get isPromocodeWithFreeDelivery(){var t;return null==(t=this.appliedPromocode)?void 0:t.delivery_free},get appliedPromocodeAmount(){return this.appliedPromocode?this.appliedPromocode.discountValue:0},get promocodeIsActive(){return!!this.appliedPromocode&&this.appliedPromocode.isActive},get deliveryMethods(){var t;return(null==(t=this.deliveryStore)?void 0:t.methods)||[]},get deliveryActiveMethod(){var t;return(null==(t=this.deliveryStore)?void 0:t.getActive())||{}},get deliveryActivePrice(){if(!(this.cartSettings.hasDelivery&&this.deliveryStore))return 0;return this.deliveryStore.getPrice().current},get subtotal(){var t;return null!=(t=this.cartStore.getTotal())?t:0},get total(){const t=this.subtotal,e=this.appliedPromocode,o=this.deliveryActivePrice,i=this.activeDiscountAmount,n=this.appliedPromocodeAmount;let r=t-i;return e&&this.promocodeIsActive&&(r=e.usage_with_any_discount?t-i-n:t-n),Math.max(0,r)+o},initCart(e=t){e={...t,...e},this.cartInited=!0;const o=this.$widget,i=o.find(e.$container);this.$content=i,this.$list=this.$widget.find(e.$list),this.$itemTemplate=this.$itemTemplate||this.$list.find("template").clone(),this.$button=o.find(e.$button),this.$buttonCount=o.find(e.$buttonCount),this.$form=o.find(e.$form),this.$formButton=this.$form.find(e.$formButton),this.$count=o.find(e.$count),this.$total=o.find(e.$total),this.$discountLine=o.find(e.$discountLine),this.$promocodeLine=o.find(e.$promocodeLine),this.$checkoutBlock=o.find(e.$checkoutBlock),this.$minTotal=o.find(e.$minTotal),this.$subtotal=o.find(e.$subtotal),this.$shipping=o.find(e.$shipping),this.$shippingLine=o.find(e.$shippingLine),this.$shippingNotFix=o.find(e.$shippingNotFix),this.$untilFree=o.find(e.$untilFree),this.$nearestDiscount=o.find(e.$nearestDiscount),this.$promocodeField=o.find(e.$promocodeField),this.$promocodeBlock=o.find(e.$promocodeBlock),this.$promocodeTextLink=o.find(e.$promocodeTextLink),this.cartSettings={...flexbe_cli.ecommerce.cartSettings,hasDelivery:this.$form.find('[data-type="delivery"]').length>0,showVendorCode:!!i.data("showVendorCode"),showInStockStatuses:!!i.data("showInStockStatuses"),showChangedPrices:!!i.data("showChangedPrices")},this.deliveryStore&&(this.arrMinDelivery=this.deliveryMethods.filter((t=>t.useMinTotal&&this.cartSettings.minTotal<+t.prices[0].from)).map((t=>(t.$item=this.$form.find(`[data-delivery="${t.id}"]`),t)))),$(".cart-button-holder").css("display","block"),this.initCartEvents(),this.renderCart()},initCartEvents(){flexbe_cli.events.off("hideShowUI.ecommerce").on("hideShowUI.ecommerce",(t=>{!!$(".header-cart")[0]&&$(".cart-button-holder").css("display","preview"===t?"none":"block")})),flexbe_cli.events.off("ui_cart_open.cart-widget").on("ui_cart_open.cart-widget",(async()=>{await this.open()})),flexbe_cli.events.off("ui_cart_close.cart-widget").on("ui_cart_close.cart-widget",(()=>{this.close()})),setTimeout((()=>{this.cartStore.on("dispatch.cart-widget",(({name:t})=>{["updateList","resetList","removeItem","updateCount","normalizeListItems"].includes(t)?(this.promotionStore&&!flexbe_cli.is_admin&&(this.promotionStore.updateActiveDiscount(),this.promotionStore.updateNearestDiscount()),this.renderCart()):"addItem"===t&&this.onItemsAdd()})),this.promotionStore&&!flexbe_cli.is_admin&&this.promotionStore.on("dispatch.cart-widget",(({name:t})=>{["applyPromocode","removePromocode","acceptPromotionChanges"].includes(t)&&this.renderCart()})),this.deliveryStore&&this.deliveryStore.on("dispatch.cart-widget",(({name:t})=>{"selectMethod"===t&&this.renderCart()}))}),40)},initFormComponent(){const t=flexbe_cli.components.initComponent(this.$form[0]);if(!t)return void console.error("Form not founded in cart!");this.formInstance=t;const e=e=>{const o=this.cartSettings.hasDelivery&&this.deliveryActiveMethod,i=function(t){return t.filter((t=>t.count&&!t.hidden)).map((t=>({id:t.id,type:t.type,count:t.count,price:t.price,title:t.title||"",img:t.img&&{id:t.img.id,ext:t.img.ext,unq_id:t.img.unq_id},product_id:t.productId,variant_id:t.variantId})))}(e);if(o){const e=[{name:"delivery[id]",value:o.id,type:"hidden"},{name:"delivery[price]",value:o.price.current,type:"hidden"}];t.addFields(e,!1)}return i},o=()=>{const{activeDiscount:e,appliedPromocode:o}=this.promotionStore,i=[];e&&i.push({name:"promotions[discount]",value:e.id,type:"hidden"}),o&&i.push({name:"promotions[promocode]",value:o.id,type:"hidden"}),i.length&&t.addFields(i,!1)};t.defineBeforeSend((async()=>{if(!flexbe_cli.run.is_preview)return!1;this.cartStore.dispatch("normalizeListItems",this.list,{price:!0,count:!0,unavailable:!0});const i=this.list;if(i&&i.length&&t.addItems(e(i)),this.promotionStore&&!flexbe_cli.is_admin){const{activeDiscount:t,promotionsChanges:e,appliedPromocode:i}=this.promotionStore;if(i)try{const t=await this.promotionStore.loadDataPromocode(i.code);this.promotionStore.updatePromocode(t)}catch(t){this.promotionStore.updatePromocode(void 0)}t&&await this.promotionStore.loadDiscountList();const n=this.promotionStore.appliedPromocode;if(!await b({discount:{...e.discount,currentData:this.promotionStore.activeDiscount},promocode:{...e.promocode,currentData:n}},{showActions:!0}))return this.renderCart(),!1;this.promotionStore.dispatch("acceptPromotionChanges"),!n||n.isActive&&n.isAvailable||this.promotionStore.removePromocode(),o()}return!0})),t.defineOnRequestError((async i=>{const n=i.status;if(500===n)return alert(flexbe.locale.tr("main::error::network_cart")),!1;if(409===n){const n=await m(),{activeDiscount:r,appliedPromocode:s}=this.promotionStore;if(s)try{const t=await this.promotionStore.loadDataPromocode(s.code);this.promotionStore.updatePromocode(t)}catch(t){this.promotionStore.updatePromocode(void 0)}r&&await this.promotionStore.loadDiscountList(),this.cartStore.updateList(n),this.promotionStore&&!flexbe_cli.is_admin&&(this.promotionStore.updateActiveDiscount(!0),this.promotionStore.updateAppliedPromocode()),this.renderCart();if(!await k(n,{showActions:!0}))return this.renderCart(),!1;if("Delivery not found"===i.message)return this.setDeliveryMethodError(this.deliveryActiveMethod.id),!1;if(this.promotionStore.dispatch("acceptPromotionChanges"),this.cartStore.dispatch("normalizeListItems",n,{price:!0,count:!0,unavailable:!0}),!n.length)return console.error("Product list is empty"),!1;t.addItems(e(n)),o(),t.sendForm()}return!0})),t.defineAfterSent((()=>{var t;this.close(),null==(t=this.promotionStore)||t.removePromocode(),this.cartStore.dispatch("purchase")}))},onItemsAdd(){this.$button.removeClass("blink"),this.$button.outerWidth(),this.$button.addClass("blink"),this.renderCart(),this.cartSettings.autoOpen&&1===this.count&&!this.isOpened&&setTimeout((()=>this.open()),200)},async open(){!this.isOpened&&this.cartInited&&(this.isOpened=!0,flexbe_cli.is_admin?this.$content.addClass("is-editor"):/cart/.test(window.location.hash)||(/^#{1,2}/.test(window.location.hash)&&(C=window.location.hash),flexbe_cli.lockPopstate=!0,window.history.pushState(null,null,"#cart"),flexbe_cli.lockPopstate=!1),this.renderCart(),$(document.body).addClass("is-cart-open"),this.$area.addClass("show"),this.$content.addClass("show"),this.$content.hasClass("noanimate")||this.$content.outerHeight(),this.$area.addClass("fade-in"),this.$content.addClass("fade-in"),this.$content.removeClass("noanimate"),this.$area.removeClass("noanimate"),this._onOpen(),flexbe_cli.scroll.scrollLock.lock(),flexbe_cli.events.trigger("cart_opened"),this.promotionStore&&!flexbe_cli.is_admin&&await this.promotionStore.loadDiscountList({updateChanges:!1}),_())},close(){if(this.isOpened&&this.cartInited){if(this.isOpened=!1,$(window).off("keyup.cart_esc_close"),this.$area.removeClass("show fade-in"),this.$content.removeClass("fade-in"),this.$area.addClass("fade-out"),this.$content.addClass("fade-out"),setTimeout((()=>{this.$area.removeClass("fade-out"),this.$content.removeClass("fade-out show noanimate"),$(document.body).removeClass("is-cart-open")}),350),this.formInstance.removeFieldsErrors(),/cart/.test(window.location.hash)){const t=C&&C!==window.location.hash&&"#"!==C?C:window.location.pathname;flexbe_cli.lockPopstate=!0,window.history.replaceState(null,null,t),flexbe_cli.lockPopstate=!1,C=null}Object.values(flexbe_cli.modal.opened).length||flexbe_cli.scroll.scrollLock.unlock(),flexbe_cli.events.trigger("cart_closed"),!this.count&&this.appliedPromocode&&this.promotionStore.removePromocode(),this._onClose(),flexbe_cli.is_admin||(this.list.forEach((t=>this.cancelRemoveItemDelayed(t.id))),this.cartStore.dispatch("updateList",this.list.filter((t=>0!==t.count))))}},renderCart(){const t=this.count;if(setTimeout((()=>{this.renderButton()}),50),this.isOpened){const{hasDelivery:e}=this.cartSettings,o=flexbe_cli.locale,i=this.activeDiscount,n=this.appliedPromocode,r=flexbe_cli.is_admin||i&&!(this.promocodeIsActive&&(null==n||!n.usage_with_any_discount)),s=flexbe_cli.is_admin||this.promocodeIsActive&&!this.isDeliveryPromocode;if(r){const t="percent"===(null==i?void 0:i.discount_type)?+i.discount_amount+"%":"",e=`- ${flexbe_cli.locale.formatMoney(this.activeDiscountAmount)}`;this.$discountLine.find(".cart-checkout-promotion__value").text(t),this.$discountLine.find(".cart-checkout-promotion__amount").text(e),this.$discountLine.show()}else this.$discountLine.hide();const a="percent"===(null==n?void 0:n.discount_type)?+n.discount_amount+"%":o.formatMoney((null==n?void 0:n.discount_amount)||0);if(n){const t=o.tr("cart::promocode::block_title",{code:n.code.toUpperCase()}),{hasDelivery:e}=this.cartSettings;let i="";i=this.isDeliveryPromocode?o.tr("cart::promocode::delivery_free"):`${o.tr("cart::discount_title")} ${a} ${this.isPromocodeWithFreeDelivery&&e?`+ ${o.tr("cart::promocode::delivery_free").toLowerCase()}`:""}`,this.$promocodeBlock.find(".applied-promocode-block__title span").text(t),this.$promocodeBlock.find(".applied-promocode-block__text").text(i)}if(s){const t="percent"===(null==n?void 0:n.discount_type),e=`- ${o.formatMoney(this.appliedPromocodeAmount)}`;this.$promocodeLine.find(".cart-checkout-promotion__value").text(t?a:""),this.$promocodeLine.find(".cart-checkout-promotion__amount").text(e),this.$promocodeLine.show()}else this.$promocodeLine.hide();this.$count.text(t),this.$subtotal.text(flexbe_cli.locale.formatMoney(this.subtotal)),flexbe_cli.locale.animateNumber({target:this.$total,to:this.total,asMoney:!0,freeLabel:!1}),this.$checkoutBlock.attr("data-hidden",flexbe_cli.is_admin||e||this.promocodeIsActive||this.activeDiscount?"false":"true"),this.renderList(),this.manageDeliveryBlock(),this.managePriceChangedBlock(),this.promotionStore&&!flexbe_cli.is_admin&&(this.manageDiscountBlock(),this.managePromotionChangedBlock(),this.managePromocode()),this.manageForm(),setTimeout((()=>function(t){if(!flexbe_cli.tip)return null;const e=t.is("[data-tip]")?t:t.find("[data-tip]");return e.length?(e.each(((t,e)=>flexbe_cli.tip.init(e))),e):null}(this.$widget)))}"function"==typeof this.onRenderCart&&this.onRenderCart()},renderButton(){const t=this.count,e=$(".is-mobile .nav-header-controls--cart").length>0,o=$(".header-cart-button-holder").closest(".b_block:not([data-hidden=desktop])").length>0;this.$buttonCount.text(t),this.$button.attr("data-count",t),flexbe_cli.is_admin?this.$button.attr("data-hidden","false"):e||o?this.$button.attr("data-hidden","true"):this.$button.attr("data-hidden",this.isOpened||0===t)},renderList(){const t=this.list,e=t.reduce(((t,e)=>t+this.renderItem(e)),"");!function(t){const e=t.find("input:focus")[0];f={},e&&(f.id=e.closest("[data-id]").getAttribute("data-id"),f.selectionStart=e.selectionStart,f.selectionEnd=e.selectionEnd)}(this.$list),this.$content.toggleClass("cart-is-empty",0===t.length),this.$list.html(e),function(t){const{id:e,selectionStart:o,selectionEnd:i}=f||{};if(e){const n=t.find(`[data-id="${e}"] .item-count__input`)[0];n&&(n.focus(),n.setSelectionRange(o,i)),f={}}}(this.$list),this.listRendered=!0},renderItem(t){const e=this.$itemTemplate.html(),o=u(t);o.show&&["in_stock","items_in_stock"].includes(o.key)&&(o.show=this.cartSettings.showInStockStatuses);const i=this.cartSettings.showVendorCode&&null!=t.vendorCode,n=this.cartSettings.allowPreorder,r=n||l(t),s=!t.hidden&&(r||t.count<t.quantity),a=!t.hidden&&t.count>0,c=d(t)&&!n;let h="";return n||(!t.quantity||/out_of_stock|not_available/.test(o.key)?h=flexbe_cli.locale.tr("cart::out_of_stock_tip"):t.count>=t.quantity&&(h=flexbe_cli.locale.tr("cart::quantity_status::items_left_in_stock",{count:t.quantity}))),function(t,e={}){const o=Object.keys(e),i=Object.values(e);return new Function(...o,`return \`${t}\`;`)(...i)}(e,{id:t.id,productId:t.productId,variantId:t.variantId,title:t.title,count:t.count,price:t.price,sum:t.count*(t.price||0),img:flexbe_cli.helpers.image.getImageUrl(t.img,200),vendorCode:i?t.vendorCode:null,optionsInfo:t.optionsInfo?t.optionsInfo.map((t=>t.name)).join(", "):"",status:o,priceText:flexbe_cli.locale.formatMoney(t.price),sumText:flexbe_cli.locale.formatMoney(t.count*t.price),plusTip:h,canIncrease:s,canDecrease:a,inputError:c,minCount:0,maxCount:r?1/0:t.quantity})},updateItemCount(t,e){const o=t.id;if(this.cartStore.dispatch("updateCount",{id:o,count:e}),this.cancelRemoveItemDelayed(o),!t.count){const e=u(t);e&&/out_of_stock|not_available/.test(e.key)?this.removeItem(o):this.removeItemDelayed(o)}},removeItem(t){flexbe_cli.is_admin||(this.cancelRemoveItemDelayed(t),this.cartStore.dispatch("removeItem",t))},removeItemDelayed(t,e=5e3){this[`removeTimer_${t}`]=setTimeout((()=>{this.removeItem(t)}),e)},cancelRemoveItemDelayed(t){clearTimeout(this[`removeTimer_${t}`]),delete this[`removeTimer_${t}`]},manageDeliveryBlock(){if(!this.deliveryStore)return;const t=this.subtotal,{minTotal:e,hasDelivery:o}=this.cartSettings,i=this.deliveryStore.getPrice(),{notFixedPrice:n,currentFormatted:r}=i,s=e-t,a=e>i.minTotal,c=a&&s>0;if(e&&this.$minTotal.length&&(this.$minTotal.attr("data-hidden",!c),this.$minTotal.find(".min-total__total").text(flexbe_cli.locale.formatMoney(e,{freeLabel:!0})),flexbe_cli.locale.animateNumber({target:this.$minTotal.find(".min-total__count"),to:s,asMoney:!0,freeLabel:!1})),this.arrMinDelivery.length&&this.arrMinDelivery.forEach((e=>{const o=e.prices[0].from>t;e.$item.toggleClass("form-field-delivery-item--blocked",o)})),this.$shippingLine.attr("data-hidden",o?"false":"true"),this.$shipping.text(r),this.$shippingNotFix.attr("data-hidden",!n),o&&this.$untilFree.length){const t=i.untilMinTotal/i.minTotal*100,e=i.untilFree/i.freeFrom*100,o=i.untilMinTotal?t:e,n=(i.untilFree||i.untilMinTotal)&&(!(s>0)||!a)&&!this.isPromocodeWithFreeDelivery;this.$untilFree.attr("data-hidden",!n),this.$untilFree.toggleClass("show-min-total",!!i.untilMinTotal),this.$untilFree.find(".progress-path").attr("stroke-dashoffset",o),flexbe_cli.locale.animateNumber({target:this.$untilFree.find(".delivery-free__count"),to:i.untilFree,asMoney:!0,freeLabel:!1}),flexbe_cli.locale.animateNumber({target:this.$untilFree.find(".delivery-min-total__count"),to:i.untilMinTotal,asMoney:!0,freeLabel:!1})}},manageDiscountBlock(){var t;const e=this.promotionStore.nearestDiscount,o=e&&(!this.promocodeIsActive||(null==(t=this.promotionStore.appliedPromocode)?void 0:t.usage_with_any_discount));if(this.$nearestDiscount.attr("data-hidden",!o),e){const t=100-this.subtotal/e.active_from*100,o="percent"===e.discount_type?+e.discount_amount+"%":flexbe_cli.locale.formatMoney(e.discount_amount,{useNonBreakingSpace:!0}),i=flexbe_cli.locale.formatMoney(e.active_from-this.subtotal,{useNonBreakingSpace:!0});this.$nearestDiscount.find(".progress-path").attr("stroke-dashoffset",t),this.$nearestDiscount.find(".cart-info__text").html(flexbe_cli.locale.tr("cart::neasted_discount",{discount:o,total:i}))}},managePriceChangedBlock(){if(!this.cartSettings.showChangedPrices)return;const t=this.changedPrices,e=this.$content.find(".cart-products-changed"),o=e.find(".cart-info-block__notice"),i=e.find(".cart-info-block__close"),n=e.find(".cart-info-block__more");e.attr("data-hidden",0===t.length),o.text(flexbe_cli.locale.tr("cart::price_confirmation::items_price_changed",{count:t.length})),n.off("click").on("click",(async()=>{await k(this.changedPrices,{showActions:!0})&&this.cartStore.dispatch("normalizeListItems",this.list,{price:!0})})),i.off("click").on("click",(()=>{this.cartStore.dispatch("normalizeListItems",this.list,{price:!0})}))},managePromotionChangedBlock(){const{hasPromotionChanges:t}=this.promotionStore,e=this.promotionStore.promotionsChanges,o=this.$content.find(".cart-discount-changed"),i=o.find(".cart-info-block__close"),n=o.find(".cart-info-block__more");o.attr("data-hidden",!t),n.off("click").on("click",(async()=>{await b(e,{showActions:!0})&&this.promotionStore.dispatch("acceptPromotionChanges")})),i.off("click").on("click",(()=>{this.promotionStore.dispatch("acceptPromotionChanges")}))},manageForm(){this.formInstance||this.initFormComponent(),this.manageFormButton()},async managePromocode(){const t=flexbe_cli.locale,e=this.$widget.find(".cart-field-promocode");if(!e.length)return;const o=this.$promocodeField.find(".apply-button"),i=this.$promocodeBlock.find(".applied-promocode-block__remove"),n=this.$promocodeField.find(".hide-promocode-field"),r=this.$promocodeField.find('input[type="promocode"]'),s=this.$promocodeField.find(".error-text"),a=this.$promocodeBlock.find(".error-text"),c=e.find(".form-field").data("showPromocodeLink"),l=()=>this.$promocodeField.attr("data-status"),d=t=>{if(o.removeClass("submitting success"),r.removeAttr("disabled"),"applied"===t){const t=l();o.addClass("success"),r.attr("disabled","disabled"),setTimeout((()=>{this.$promocodeBlock.attr("data-hidden",!1),this.$promocodeField.attr("data-hidden",!0)}),"loading"===t?1e3:0)}else"loading"===t?(o.addClass("submitting"),r.attr("disabled","disabled")):"error"===t?(this.$promocodeField.addClass("is_error"),o.removeAttr("disabled")):t||(this.$promocodeField.removeClass("is_error"),o.removeAttr("disabled"),this.$promocodeBlock.attr("data-hidden",!0),this.$promocodeField.attr("data-hidden",!1));this.$promocodeField.attr("data-status",t)},h=t=>{t.target.value=t.target.value.replace(/[^.-\dA-Z_a-zЁА-яё]/g,""),"error"===l()&&d("")},u=()=>{c&&(this.$promocodeTextLink.toggleClass("hide"),this.$promocodeField.toggleClass("hide"))},m=async()=>{const e=r[0].value.trim().toLowerCase();if(""!==e){d("loading");try{await this.promotionStore.dispatch("applyPromocode",e),d("applied")}catch(e){let o=t.tr(e.message||"cart::promotion::code::notfound_error");"total_error"===e.name?(o=t.tr("cart::promotion::code::amount_error",{amount:flexbe_cli.locale.formatMoney(+e.message)}),setTimeout((()=>{d("")}),3e3)):"default_error"===e.name?o=t.tr("cart::promotion::code::default_error"):"timeout_error"===e.name&&(o=t.tr("cart::promotion::code::timeout_error")),s.text(o),d("error")}this.renderCart()}};if(this.appliedPromocode)if(this.appliedPromocode.isAvailable)if(this.promocodeIsActive)this.$promocodeBlock.removeClass("is_error");else{const e=flexbe_cli.locale.formatMoney(this.appliedPromocode.active_from),o=t.tr("cart::promotion::code::amount_error",{amount:e});a.html(o),this.$promocodeBlock.addClass("is_error")}else{const e=t.tr("cart::promotion::code::default_error");a.html(e),this.$promocodeBlock.addClass("is_error")}this.$promocodeTextLink.off("click").on("click",(()=>{u(),setTimeout((()=>{r.focus()}),20)})),n.off("click").on("click",u),r.off("input").on("input",h),r.off("change").on("change",h),o.off("click").on("click",m),i.off("click").on("click",(async()=>{await this.promotionStore.dispatch("removePromocode"),d(""),r[0].value="",r.focus(),this.renderCart()})),r.off("keydown").on("keydown",(t=>{"Enter"===t.key&&m()})),!l()&&this.appliedPromocode?(d("applied"),this.$promocodeTextLink.addClass("hide"),this.$promocodeField.removeClass("hide"),r.val(this.appliedPromocode.code)):"applied"!==l()||this.appliedPromocode||(d(""),r.val(""),u(),this.$promocodeBlock.attr("data-hidden",!this.appliedPromocode))},setDeliveryMethodError(t){this.$form.find(".form-field-delivery-item").eq(0).trigger("click");this.$form.find(`[data-delivery=${t}]`).addClass("delivery-error"),this.renderCart()},manageFormButton(){var t,e;const o=flexbe_cli.locale;let i=!1,n="";const r=this.list,s=this.subtotal,a=0===r.filter((t=>0!==t.count)).length,c=null==(t=this.deliveryStore)?void 0:t.getPrice(),l=null==(e=this.formInstance.$delivery)?void 0:e.length,h=(null==c?void 0:c.minTotal)||0,u=this.cartSettings.minTotal,m=u>h,p=this.cartSettings.allowPreorder,f=r.some((t=>t.hidden||!p&&d(t)));a?i=!0:m&&u>s?(i=!0,n=`${o.tr("cart::min_total_tip")} ${o.formatMoney(u,{freeLabel:!1})}`):!m&&h>s&&l?(i=!0,n=`${o.tr("cart::min_total_delivery_tip")} ${o.formatMoney(h,{freeLabel:!1})}`):f&&(i=!0,n=`${o.tr("cart::some_items_not_available_tip")}`),i?this.formInstance.disableSubmit(n):this.formInstance.enableSubmit()}};const S=Object.defineProperties(w,Object.getOwnPropertyDescriptors({components:["background","form","icon","button"],onReady(){this.initCart(),this.initUIEvents(),this.updated&&this.isOpened&&(this.$area.addClass("show"),this.$content.addClass("show fade-in"))},initUIEvents(){let t,e;$(document).off("keyup.cart_esc_close").on("keyup.cart_esc_close",(t=>{27===t.which&&flexbe_cli.run.is_preview&&!flexbe_cli.modal.$list.hasClass("rise")&&this.close()})),this.$widget.off(".close-overlay").on("pointerup.close-overlay pointerdown.close-overlay",'[data-overlay="true"]',(o=>{flexbe_cli.run.is_preview&&("pointerdown"===o.type?(t=o.target,e=o.target.clientWidth<=o.clientX):o.target!==t||o.target!==o.currentTarget||e||(t=null,this.close()))})),this.$content.off("click.close-button").on("click.close-button","a.close",(t=>{this.close()})),this.$widget.off("click.cart-button").on("click.cart-button",".cart-button",(()=>{this.isOpened?this.close():this.open()})),this.$widget.off("click.cart-actions").on("click.cart-actions","[data-action]",(t=>{const e=$(t.currentTarget),o=e.attr("data-action"),i=e.hasClass("disabled"),n=e.closest("li").attr("data-id"),r=this.list.find((t=>t.id===n));n&&r&&!i&&("remove"===o?this.removeItem(n):"+"!==o&&"-"!==o||this.updateItemCount(r,o))})),this.$widget.off(".cart-input").on("input.cart-input blur.cart-input","input.count",(t=>{const e=t.currentTarget.value,o=$(t.currentTarget).closest("li").attr("data-id"),i=e?Math.abs(+e):0,n="blur"===t.type||"focusout"===t.type,r=this.list.find((t=>t.id===o));r&&r.count!==i&&(i||n)&&this.updateItemCount(r,i)}))}}));flexbe_cli.entity.setClientJs("widget","CART",S)}();

flexbe_cli.entity.setClientJs("element","header_contacts",{components:["icon"],onInit(){this.initNodes(),this.fixDesc()},onUpdate(){this.initNodes(),this.fixDesc()},onMsg(t){"change_contact"===t&&this.fixDesc()},initNodes(){this.$desc=this.$area.find(".element-text--desc"),this.$icon=this.$area.find(".component-icon"),this.$contact=this.$area.find(".element-text--contact")},fixDesc(){if(this.$desc.length&&this.$contact.length&&this.$icon.length){const t=this.$contact[0].offsetHeight,i=this.$icon[0].offsetHeight;if(t>i){const e=t/2-i/2;this.$icon.css("margin-top",`${e}px`)}else this.$icon.css("margin-top","")}}});

flexbe_cli.entity.setClientJs("element","menu01",{components:["menu"]});

!function(){function e(){return React.h("div",{className:"zone-products__empty"},React.h("svg",{width:"50",height:"76",viewBox:"0 0 50 76",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M34 16V10C34 5.02944 29.9706 1 25 1C20.0294 1 16 5.02944 16 10V16H34ZM35 16V10C35 4.47715 30.5228 0 25 0C19.4772 0 15 4.47715 15 10V16H1H0V17V75V76H1H49H50V75V17V16H49H35ZM34 17V23V24H35V23V17H49V75H1V17H15V23V24H16V23V17H34Z",fill:"currentColor"})),React.h("div",{className:"zone-products--empty_title"},flexbe_cli.locale.tr("ecommerce::section::empty")))}class t{get isOnScreen(){if(!this.$tabsList)return!1;const{top:e,height:t}=this.$tabsList[0].getBoundingClientRect();return e>0&&e+t<flexbe_cli.resize.viewportHeight}constructor(e){if(this.inited=!1,this.interacted=!1,this.opts=void 0,this.$area=void 0,this.uidAttr=void 0,this.classContainer=void 0,this.activeUid=void 0,this.$activeTab=void 0,this.$activeSection=void 0,this.$mainContainer=void 0,this.$tabsContainer=void 0,this.$tabsList=void 0,this.$swiperHelper=void 0,this.$tabs=void 0,this.$sections=void 0,this.opts=e,this.$area=e.$area,this.uidAttr=e.uidAttr||"data-tab-uid",this.classContainer=e.classContainer,this.initTabs(),e.activeUid)this.selectTab(e.activeUid);else if(window.location.hash){const e=window.location.hash.replace("#",""),t=$(`._anchor[name="${e}" i]`),a=t.length?t.closest("[data-id]"):$(`[data-id="${e}" i]`),i=t[0]||a[0];i&&this.selectTabFromTarget(i)}this.$area.on("bringIntoView",(e=>this.selectTabFromTarget(e.target)))}initTabs(){if(this.$mainContainer="self"===this.classContainer?this.$area:this.$area.find(this.classContainer),this.$tabsContainer=this.$area.find(".container-tabs"),this.$tabsList=this.$area.find('[role="tablist"]'),this.$swiperHelper=this.$area.find(".tab-swiper-helper"),this.inited=!!this.$tabsList.length,this.inited&&(this.$tabs=this.$tabsList.find('[role="tab"]'),this.$sections=this.$mainContainer.find('[role="tabpanel"]'),this.normalizeLines(),setTimeout((()=>{this.$mainContainer.addClass("main-area--tabs-inited")}),50),this.$tabsContainer.on("click",".tab",(e=>{const t=$(e.currentTarget).closest(`[${this.uidAttr}]`).attr(`${this.uidAttr}`);t&&this.selectTab(t)})),this.$tabsList.on("wheel",(e=>{flexbe_cli.run.is_pointer&&0===e.originalEvent.wheelDeltaX&&0!==e.originalEvent.wheelDeltaY&&(e.preventDefault(),this.$tabsList[0].scrollLeft+=e.originalEvent.wheelDeltaY)})),this.$tabsList.on("touchstart",(()=>{this.interacted=!0,this.destroySwipeAnimation()})),flexbe_cli.is_admin)){let e;this.$tabsContainer.on("mouseenter",".tab",(t=>{1===t.buttons&&document.body.classList.contains("state--in-move")&&(clearTimeout(e),e=setTimeout((()=>{const e=$(t.target).closest(`[${this.uidAttr}]`).attr(`${this.uidAttr}`);this.selectTab(e)}),700))})),this.$tabsContainer.on("mouseleave",".tab",(()=>{clearTimeout(e)}))}}swipeAnimationController(){if(!this.inited)return;const e=this.$tabsList[0]&&this.$tabsList[0].scrollWidth>this.$tabsList[0].clientWidth,t=this.isOnScreen;e&&t?this.initSwiperAnimation():t||this.destroySwipeAnimation()}initSwiperAnimation(){this.$swiperHelper.hasClass("show")||this.interacted||this.$swiperHelper.addClass("show")}destroySwipeAnimation(){this.$swiperHelper.hasClass("show")&&this.$swiperHelper.removeClass("show")}selectTabFromIndex(e){const t=this.$tabs.get(e);this.selectTabFromTarget(t)}selectTabFromTarget(e){const t=$(e).closest(`[${this.uidAttr}]`).attr(`${this.uidAttr}`);this.selectTab(t)}selectTab(e,{force:t}={}){var a,i;if(!e||!t&&this.activeUid===e)return;this.inited||this.initTabs();const n=null!=(a=null==(i=this.$tabs)?void 0:i.filter(`[${this.uidAttr}="${e}"]`))?a:[];if(!n.length)return;const o=this.$sections.filter(".active"),l=o[0]&&o[0].offsetTop,s=this.$sections.filter(`[${this.uidAttr}="${e}"]`);this.scrollToTab(n),this.$tabs.removeClass("active").attr("aria-selected",!1).attr("tabindex",-1),n.addClass("active").attr("aria-selected",!0).attr("tabindex",0),this.$sections.removeClass("active").prop("hidden",!0),s.addClass("active").prop("hidden",!1);const r=s[0]&&s[0].offsetTop;if(this.activeUid=e,this.$activeTab=n,this.$activeSection=s,o[0].dispatchEvent(new CustomEvent("element-become-hidden")),s[0].dispatchEvent(new CustomEvent("element-become-visible")),"function"==typeof this.opts.onSelectTab&&this.opts.onSelectTab({uid:e,$tab:n}),!flexbe_cli.run.is_mobile&&null!=l&&null!=r&&Math.abs(l-r)>0&&"undefined"!=typeof anime){const e=this.$mainContainer,t=l-r;e.css("will-change","transform"),anime({targets:e[0],translateY:[t,0],duration:250,easing:"easeOutCubic",complete:()=>{e.css({transform:"","will-change":""})}})}}normalizeLines(){if(!this.inited)return;let e;const t=this.$tabs;this.$tabsList.find(".tab-spacer").remove(),t.removeClass("first-in-line last-in-line"),t.first().addClass("first-in-line"),t.last().addClass("last-in-line"),t.each(((t,a)=>{e&&e.offsetTop!==a.offsetTop&&($(a).addClass("first-in-line"),$(e).addClass("last-in-line"),$(e).after('<span class="tab-spacer"></span>')),e=a}))}scrollToTab(e){if(!this.inited)return;const t=this.$tabsList,a=t[0].scrollWidth;if(a>t[0].offsetWidth){const i=e[0].offsetLeft,n=e[0].getBoundingClientRect(),o=flexbe_cli.resize.viewportWidth;let l;n.width>o||n.left<20?l=i-20:n.right>o-20&&(l=i-(o-20-n.width)),null!=l&&(l=Math.max(0,Math.min(a-o,l)),t.animate({scrollLeft:l},{duration:250}))}}resetHash(){if(!this.inited)return;String(window.location.hash).replace(/^#{1,2}(tab)?/,"")===this.activeUid&&(flexbe_cli.lockPopstate=!0,window.history.replaceState(null,null,window.location.pathname),flexbe_cli.lockPopstate=!1)}}function a({tabs:e,options:a}){const i=e.list,n=e.styles||{},o=e.stylesMobile||{};let l,s;React.useEffect((()=>{s=new t({$area:$(this.base.parentNode),classContainer:"self",activeUid:l,onSelectTab:({uid:e})=>{l=e}}),s.swipeAnimationController()}));const{style:r="button-filled",shape:c="rounded",size:d="medium",color:u="contrast",justify:p="center",weight:h="normal",line_size:m="small",wide:g=0}=n;let{justify:b="inherit",size:v="inherit",weight:f="inherit"}=o;"inherit"===b&&(b=p),"inherit"===v&&(v=d),"inherit"===f&&(f=h);const _=["layout-type-tabs",`justify--${p}`,`justify-am--${b}`,`style--${r}`,`shape--${c}`,`size--${d}`,`weight--${h}`,`weight-am--${f}`,`line-size--${m}`,`size-am--${v}`,`color--${u.includes("#")?"hex":u}`,"wide--"+(g?"enable":"disable"),...a.rootClass||[]].join(" "),y=["tabs-list",...a.navClass||[]].join(" ");return React.h("div",{className:_},React.h("div",{className:y,role:"tablist"},i.map(((e,t)=>{var a;const n=e.id||(null==(a=e.zone)?void 0:a.zone_id)||t+1;return React.h("div",{key:n,className:`tab-wrap ${t?"":"first-tab first-in-line"} ${t?"":"active"} ${t===i.length-1?" last-tab last-in-line":""}`,"data-item-id":t+1,"data-tab-uid":n,"aria-selected":!t,tabindex:"-1",role:"tab"},React.h("a",{className:"tab",href:`#tab${n}`,draggable:"false"},React.h("span",{className:"tab-label text-keep-wrap"},e.title)))}))),React.h("div",{className:"swiper-mobile-helper tab-swiper-helper"}))}const i=(e,t,a)=>!(!Array.isArray(t)||!Array.isArray(a)||t.length!==a.length)&&t.every(((t,i)=>e?a.includes(t):a[i]===t));i.bind(null,!0),i.bind(null,!1);const n=e=>{const t=u(e);return t&&[3,6,8].includes(t.length)};function o(e){return/^\s*(?:linear-gradient|repeat-linear-gradient|radial-gradient)\(.*\)/i.test(e)}function l(e){return!o(e)&&(function(e){if(r(e)||s(e))return!1;if(e=u(e),!n(e))return!1;return/^#?([\da-f]{3}|[\da-f]{6})$/i.test(e)}(e)||function(e){if(r(e)||s(e))return!1;if(e=d(e),!n(e))return!1;return/^#?[\da-f]{8}$/i.test(e)}(e)||r(e)||s(e))}function s(e){return/^rgba\((?:\s*0*(?:\d{1,2}(?:\.\d+)?(?:\s*%)?|\.\d+\s*%|100(?:\.0*)?\s*%|(?:1\d{2}|2[0-4]\d|25[0-5])(?:\.\d+)?)\s*,){3}\s*0*(?:\.\d+|1?)\s*\)$/.test(e)}function r(e){return/^rgb\((?:\s*0*(?:\d{1,2}(?:\.\d+)?(?:\s*%)?|\.\d+\s*%|100(?:\.0*)?\s*%|(?:1\d{2}|2[0-4]\d|25[0-5])(?:\.\d+)?)\s*,?){3}\)$/.test(e)}function c(e){return o(e)?"gradient":l(e)?"color":"not_color"}function d(e=""){return"string"!=typeof e?e:String(e).replace(/[^\da-f]/gi,"").slice(0,8)}function u(e,t=!1){return"string"!=typeof e?e:(3===(e=d(e)).length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),7===e.length&&(e+=e[6]),8===e.length&&/ff$/i.test(e)&&(e=e.slice(0,6)),t?`#${e}`:e)}function p(e){let t=String(e);const a=t.match(/<!--.*?-->/gi)||[];if(a.length&&a.forEach((e=>{t=t.replace(e,"")})),/<!/.test(t))return!1;if(["<!doctype","<area","<base","<br","<col","<embed","<hr","<img","<input","<keygen","<link","<meta","<param","<source","<track","<wbr"].forEach((e=>{const a=t.match(RegExp(`${e}.*?>`,"gi"))||[];a.length&&a.forEach((e=>{t=t.replace(e,"")}))})),!/<[/?a-z]/i.test(t))return!0;const i=t.match(/<[/a-z].*?>/gi)||[];if(!i.length)return!1;if(/<\//.test(i[0]))return!1;for(const e of i)if(e.match(/<[/a-z]/gi).length>1)return!1;const n=[];(t.match(/<[a-z].*?[\s>]/gi)||[]).reverse().forEach((e=>{n.push(e.substr(1,e.length-2))}));const o=t.match(/<\/.*?>/gi)||[];if(n.length!==o.length)return!1;for(const e of n){let a=0;const i=t.match(RegExp(`<${e}`,"gi"))||[];if(!i.length)return!1;i.forEach((e=>{a=t.indexOf(e,a),a+=1}));const n=t.substr(a).match(RegExp(`${e}.*?</${e}>`,"i"))||[];if(!n.length)return!1;if(t=t.replace(n[0],""),!/<[/?a-z]/i.test(t))return!0}return!1}function h(e,t=!1){if(!e||"string"!=typeof e)return e;return[["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"]].forEach((([a,i])=>{const n=t?i:a,o=t?a:i;e=e.replace(new RegExp(n,"g"),o)})),e}function m(){var e;const t="object"==typeof flexbe_cli&&(null==(e=flexbe_cli.vars)?void 0:e._group.images)||{};return{lazy:!0,lazy_priority:!1,avif:!1,webp:!1,avif_support:t.avif_support,webp_support:t.webp_support,slow_network:!1,quality_map:{jpg:70,webp:70,avif:55}}}function g(e,t=null,a=null){var i;a={...m(),...a};const{id:n,ext:o}=e;if(!n)return"";t||"webp"!==e.ext||a.webp_support||(t=Math.min(e.width||2160,2160));const l=null!=(i=e.animated)?i:"gif"===o,s=`/img/${n}.${o}`;if(!t||l||"svg"===o)return s;const r=function(e,t){const a=t.avif_support,i=t.webp_support,n=t.avif,o=t.webp;let l=e.ext;return a&&n?l="avif":i&&o?l="webp":"webp"===e.ext&&(l=i?"webp":e.transparent?"png":"jpg"),l}(e,a),c=a.slow_network&&"4g"!==((null==(d=navigator.connection)?void 0:d.effectiveType)||"4g");var d;let u=a.quality_map;switch(c&&(u={jpg:50,webp:50,avif:45}),r){case"png":return`/img/${n}_${t}.png`;case"avif":case"webp":case"jpg":return`/img/${n}_${t}_q${u[r]}.${r}`;case"gif":default:return s}}function b(e){if("string"==typeof e&&(e=function(e){if("string"!=typeof e)return e;e=e.replace(/(\/img\/[\d_q]+)\/[\w-]+(\.\w{3,4})/i,"$1$2");let[,t,a,i,n]=e.match(/\/img\/(\d+)_?(\d+)?_?q?(\d+)?\.(\w{3,4})/i)||[];return a=a?+a:0,i=i?+i:"none",{id:t,ext:n,name:`${t}.${n}`,size:a,quality:i}}(e)),!e||"object"!=typeof e)return{};let t=e.img_ext||e.ext;const a=e.img_id||e.id,i=e.img_name||e.name;t&&"false"!==t||(t=i?function(e){const t=String(e).match(/\.(jpg|jpeg|png|gif|svg|bmp|webp)$/i);return t&&t[1]?t[1]:""}(i):"jpg");const n=e.img_border||e.border;return{id:a,ext:t,average:function(e){return"transparent"!==e?e:"#000000"}(e.img_average||e.average),preview:e.img_preview||e.preview||"",width:e.img_width||e.width||0,height:e.img_height||e.height||0,proportion:+(+e.img_proportion||+e.proportion||0).toFixed(2),border:n,animated:e.img_animated||e.animated||"gif"===t,transparent:e.img_transparent||e.transparent||0}}function v(e,t=0,a){return g(b(e),"number"==typeof t?Math.round(t):t,a)}let f;!function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(f||(f={}));const _=function(){function e(e,t,a,i){return this.x=e,this.y=t,this.width=a,this.height=i,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Object.freeze(this)}return e.prototype.toJSON=function(){let e=this;return{x:e.x,y:e.y,top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),y="undefined"!=typeof window?window:{};/msie|trident/i.test(y.navigator&&y.navigator.userAgent);const R=function(e,t,a){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===a&&(a=!1),Object.freeze({inlineSize:(a?t:e)||0,blockSize:(a?e:t)||0})};Object.freeze({devicePixelContentBoxSize:R(),borderBoxSize:R(),contentBoxSize:R(),contentRect:new _(0,0,0,0)});const w=(e,t,a)=>!(!e||!t||t&&"none"===a)&&("none"!==e.border&&(("color"!==a||"transparent"!==e.border&&!e.transparent)&&!("blur"===a&&e.animated)));function x({image:e,style:t,action:a,productData:i,productKey:n,openOptionModal:o,options:l={}}){const s=React.useRef(null);React.useLayoutEffect((()=>{flexbe_cli.components.initComponent(this.base,null,"update")}),[e]);const r=flexbe_cli.vars._group.images,c=flexbe_cli.vars._globals.userAgent.toLowerCase(),d=flexbe_cli.vars._group.optimization.critical_css,u=c.includes("mobile")&&c.includes("safari"),p=flexbe_cli.vars._globals.isEditor,h=d&&!p,m=r.effect,g=React.useMemo((()=>({...e,...b(e)})),[e]),f=React.useMemo((()=>({type:t.overlay_type||g.overlay_type||"none",position:t.overlay_position||g.overlay_position||"center",color:t.overlay_color||g.overlay_color,opacity:t.overlay_opacity||g.overlay_opacity,contrast:t.overlay_contrast||g.overlay_contrast})),[t]),_="none"!==f.type,y=React.useMemo((()=>{var a,i,n,o,s,c;return{lazy:(r.lazy||t.lazy)&&!h,autoload:null==(a=t.autoload)||a,size:t.original_resolution?0:"%optimalWidth%",action:t.action||g.action||"none",type:l.type||"background",scale:"image"===l.type?"contain":l.scale||t.scale||"cover",effect:null!=(i=g.effect)?i:"zoom",x:(null==(n=t.position)?void 0:n.x)||(null==(o=g.position)?void 0:o.x)||"50%",y:(null==(s=t.position)?void 0:s.y)||(null==(c=g.position)?void 0:c.y)||"50%",round:t.round||g.round||0,title:_?t.title||g.title:"",desc:_?t.desc||g.desc:"",hrefSrc:v(g,t.original_resolution?0:1920,r),imageAttachment:t.attachment||"default",imageWidth:t.fitToSize&&"image"===t.type?Math.round(e.width<e.height?e.width/e.height*t.fitToSize:t.fitToSize):null,imageHeight:t.fitToSize&&"image"===t.type?Math.round(e.height<e.width?e.height/e.width*t.fitToSize:t.fitToSize):null}}),[t,g]),$=React.useMemo((()=>({ext:g.ext,name:g.name,linkBlank:t.link_blank||g.link_blank,id:g.id,border:g.border||"mixed",animated:g.animated||null,transparent:g.transparent||null,proportion:t.proportion||g.proportion||null,average:t.average||g.average||"#F7F7F7",preview:t.preview||g.preview||""})),[e,t]),R=React.useMemo((()=>"mail"===y.action||(t.link_blank||g.link_blank||null)),[t]),x=React.useMemo((()=>_&&!t.alt?y.title||y.desc||i.title||null:t.alt||g.alt||y.title||y.desc||i.title||null),[t]),C=["phone","mail","pages","anchor"].includes(y.action)?"link":y.action,k=React.useMemo((()=>{var e,a;return"none"!==C&&(null!=(e=null!=(a=t.effect)?a:y.effect)&&e)}),[t]),z=React.useMemo((()=>$.proportion?{"aspect-ratio":100/$.proportion}:{}),[$]),N=v(g,0,r),S={"--imagePositionX":y.x,"--imagePositionY":y.y},T={background:f.color,opacity:f.opacity/100},O=w(g,y.lazy,m)&&"background"===y.type,A=O&&((e,t,a)=>{const i=t.average,n=t.preview,o=t.border;let l=t.width,s=t.height;if("contain"===a){if("color"===e&&i)return{"background-image":`url('data:image/svg+xml;utf8,<svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;${l}&quot; height=&quot;${s}&quot; viewBox=&quot;0 0 1 1&quot; preserveAspectRatio=&quot;none&quot;><rect width= &quot;1&quot; height=&quot;1&quot; fill=&quot;${i.replace(/#/g,"%23")}&quot; /></svg>')`};if("blur"===e&&n){l=300,s=l*t.proportion/100;let e=-10,a=120,i=20;return["#FFFFFF","transparent"].includes(o)&&(e=0,a=100,i=0),{"background-image":`url('data:image/svg+xml;utf8,<svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;${l}&quot; height=&quot;${s}&quot;><image filter=&quot;url(%23blur)&quot; y=&quot;${e}%25&quot; x=&quot;${e}%25&quot; width=&quot;${a}%25&quot; height=&quot;${a}%25&quot; href=&quot;data:image/webp;base64,${n}&quot;/><filter id=&quot;blur&quot;><feGaussianBlur in=&quot;SourceGraphic&quot; stdDeviation=&quot;${i}&quot; /></filter></svg>')`}}}return"color"===e&&i?{"background-color":i}:"blur"===e&&n?{"background-image":`url(data:image/webp;base64,${n});`}:{}})(m,g,y.scale);return React.h("div",{className:"component-image loading "+(y.round?"round":""),"data-component":"image","data-action-target":"none"!==C||null,"data-lightbox":"popup"===C&&y.hrefSrc||null,"data-sub-html":"popup"===C&&_?".overlay-content":null,"data-effect":k||null,"data-uniq-id":g.unq_id||null,"data-img-scale":y.scale,"data-img-type":y.type,"data-img-name":$.name,"data-img-id":$.id,"data-img-ext":$.ext,"data-img-proportion":$.proportion,"data-has-placeholder":O,"data-img-width":g.width,"data-img-lazy":!!y.lazy||null,"data-img-autoload":!!y.autoload||null,"data-img-original":!!t.original_resolution||null,"data-img-animated":!!$.animated||null,"data-img-transparent":!!$.transparent||null,style:S},["none","cart"].includes(C)?"":React.h("a",{"data-action":C,href:"link"===C&&decodeURI(e.url),target:"link"===C&&R&&"_blank"}),"cart"===C&&"cart"===a?React.h("a",{ref:s,"data-action":"cart",className:"cart-options-actions","data-product":JSON.stringify(i)}):"","cart"===C&&"modal"===a?React.h("a",{id:n,onClick:e=>{e.preventDefault(),e.stopPropagation(),o(e)},className:"cart-options-actions modal-options-actions","data-prevent-action":"true"}):"","image"===y.type?React.h("img",{className:"component-image__image component-image__img",alt:x,width:y.imageWidth,height:y.imageHeight,style:z,"data-original":y.lazy&&N||null}):React.h(React.Fragment,null,React.h("div",{className:`component-image__image component-image__bg component-image__bg--${y.scale}`,"data-original":y.lazy&&N||null,style:O?A:null,alt:x}),y.lazy?React.h("noscript",null,React.h("img",{alt:x,src:N})):""),_?React.h("div",{className:"component-image__overlay overlay-container scrollable","data-type":f.type},React.h("div",{className:"overlay-content","data-position":f.position,"data-contrast":f.contrast?f.contrast:null},f.color&&f.opacity?React.h("div",{className:"overlay-layer",style:T}):"",y.title?React.h("div",{className:"overlay-title"},`${y.title} ${u?"&#8205;":""} `):"",y.desc?React.h("div",{className:"overlay-desc"},`${y.desc} ${u?"&#8205;":""} `):"")):"")}function C({fillType:e,isLazyLoading:t,fillData:a,borderData:i}){const n=flexbe_cli.vars._group.images,o=React.useMemo((()=>{var t,i,o;return"image"===e&&a.image?{id:a.image.id,ext:a.image.ext,width:a.image.width,animated:null!=(t=a.image.animated)?t:0,transparent:null!=(i=a.image.transparent)?i:0,proportion:null!=(o=a.image.proportion)?o:0,url:v(a.image,1400,n)}:{}}),[a,e]),l=React.useMemo((()=>t?{}:{"background-image":`url(${o.url})`}),[t,o]);return React.h(React.Fragment,null,i.color?React.h("div",{className:`bg-element__border_hover is-${c(i.color)}`}):"","color"===e?React.h("div",{className:"bg-element__fill_hover bg-element__fill_hover--color"}):"","image"===e&&o.id?React.h("div",{className:"bg-element__fill_hover bg-element__fill_hover--image","data-id":o.id,"data-ext":o.ext,"data-width":o.width,"data-animated":o.animated,"data-transparent":o.transparent,"data-hover-type":e,"data-proportion":o.proportion,style:l}):"")}function k({background:e,transitions:t}){var a,i,n,o,l,s;const r=flexbe_cli.vars._globals.isMobile,d=flexbe_cli.vars._globals.isEditor,u=flexbe_cli.vars._group.optimization.critical_css&&!d,p=flexbe_cli.vars._group.images,h=p.lazy&&!u,m=React.useMemo((()=>({hover:t.hover.enabled?t.hover:{}})),[t.hover]),g=React.useMemo((()=>{var t,a,i,n,o,l,s,r;return{type:e.type||"none",shadowEnabled:e.shadow_enabled||(null==(t=e.shadow)?void 0:t.enabled)||(null==m||null==(a=m.hover.shadow)?void 0:a.enabled),borderEnabled:e.border_enabled||e.border>0||(null==(i=m.hover)||null==(n=i.border)?void 0:n.enabled),glareEnabled:null==(o=m.hover)||null==(l=o.glare)?void 0:l.enabled,borderColorType:c(null!=(s=e.border_color)?s:null==(r=m.hover.border)?void 0:r.color),image:h?e.image:v(e.image)}}),[e,m.hover]),b=null!=(a=m.hover.fill)?a:{},f=null!=(i=m.hover.border)?i:{},_=null!=(n=f.enabled)&&n,y=b.type||"none",$=p.effect,R="image"===g.type&&g.image.id?{id:g.image.id,ext:g.image.ext,width:g.image.width,animated:null!=(o=g.image.animated)?o:0,transparent:null!=(l=g.image.transparent)?l:0,proportion:null!=(s=g.image.proportion)?s:0,preview:g.image.preview}:{},x=r?800:1400,k=v(g.image,x,p),z=w(g.image,h,$),N=h?{}:{"background-image":k},S="blur"===$?{"background-image":`url(data:image/webp;base64, ${R.preview})`}:{};return React.h(React.Fragment,null,g.shadowEnabled?React.h("div",{className:"bg-element__shadow"}):"",g.borderEnabled?React.h("div",{className:`bg-element__border is-${g.borderColorType}`}):"",g.glareEnabled?React.h("div",{className:"bg-element__glare"}):"","color"===g.type?React.h("div",{className:"bg-element__fill bg-element__fill--color","data-type":g.type}):"","image"===g.type&&g.image.id?React.h("div",{className:"bg-element__border"}):"","image"===g.type&&g.image.id?React.h("div",{className:"bg-element__fill bg-element__fill--image","data-type":g.type,"data-id":R.id,"data-ext":R.ext,"data-width":R.width,"data-animated":R.animated,"data-transparent":R.transparent,"data-proportion":R.proportion,"data-has-placeholder":z,"data-lazy":h,"data-loaded":!h,style:N}):"",z?React.h("div",{className:`bg-element__preview effect--${$}`,style:S}):"","none"!==y||_?React.h(C,{fillType:y,isLazyLoading:h,fillData:b,borderData:f}):"")}function z({icon:e}){const t=React.useMemo((()=>{var t;return{size:null!=(t=e.size)?t:"medium",outline:e.outline,isProcessedSvg:String(e.url).includes("/_s/images/svg/")||e.is_flexbe||e.is_noun,backgroundImage:{"background-image":`url(${e.url})`}}}),[e]),a=React.useMemo((()=>{const a={};var i;"custom"===t.size&&(a["--iconSize"]=`${null!=(i=e.size_custom)?i:16}px`);return t.outline&&(a["--stroke"]=t.outline),a}),[e,t]);return React.h("div",{className:`component-icon component-ico size--${t.size} style--none color--contrast border--none shape--none scale--contain`,style:a,"data-component":"icon","data-img-url":"{ icon.url }"},React.h("div",{className:"icon-wrap"},t.isProcessedSvg?React.h("svg",{className:"icon vector-icon",viewBox:"0 0 50 50"},React.h("use",{href:`${e.url}#icon`})):React.h("div",{className:"icon custom-icon",style:t.backgroundImage})))}const N=e=>{try{return p(e)||(e=h(e)),flexbe_cli.run.is_ios&&(e+="&#8205;"),e}catch(t){return e}},S=({background:e,transitions:t})=>{const a=["bg-element",`bg-element--${e.type}`,"js-hover"],i=!(!t.hover||!t.hover.enabled)&&t.hover;return i&&a.push("bg-element--hover"),(e.border_enabled||e.border>0)&&a.push("bg-element--border"),(e.underline_enabled||e.underline>0)&&a.push("bg-element--underline"),i&&((i.text&&i.text.enabled||i.fill&&i.fill.enabled)&&a.push("bg-element--hover-text"),i.border&&i.border.enabled&&a.push("bg-element--hover-border"),i.fill&&i.fill.enabled&&("circle"===i.fill.style?a.push("bg-element--hover-fill_circle"):"rectangle"===i.fill.style?a.push("bg-element--hover-fill_rectangle"):a.push("bg-element--hover-fill_fade")),i.scale&&i.scale.enabled&&a.push("bg-element--hover-scale"),i.shift&&i.shift.enabled&&a.push("bg-element--hover-shift"),i.fadein&&i.fadein.enabled&&a.push("bg-element--hover-fadein"),i.shadow&&i.shadow.enabled&&a.push("bg-element--hover-shadow"),i.opacity&&i.opacity.enabled&&a.push("bg-element--hover-opacity"),i.underline&&i.underline.enabled&&("underlined"===i.underline.type?a.push("bg-element--hover-underline_underlined"):"animated"===i.underline.type?a.push("bg-element--hover-underline_animated"):"change"===i.underline.type&&a.push("bg-element--hover-underline_change"))),a.join(" ")};function T({buttonStyle:e,action:t,buttonClick:a,disabled:i,price:n,productData:o,productKey:l,type:s,positionType:r}){var d,u;if(!e.is_new){var p,h;const i=React.useRef(null),r=React.useMemo((()=>{var t,a,i,n,o,l,s,r,c,d;return{style:null!=(t=e.style)?t:["filled","squared"],size:null!=(a=e.size)?a:"medium",weight:null!=(i=e.weight)?i:"medium",lineSize:null!=(n=e.line_size)?n:"small",wide:null!=(o=e.wide)?o:0,color:null!=(l=e.color)?l:"#FFFFFF",colorText:null!=(s=e.color_text)?s:"auto",lang:null!=(r=e.lang)?r:"",showIcon:null!=(c=e.show_icon)?c:0,icon:e.icon,order:null!=(d=e.content_order)?d:""}}),[e]),d=React.useMemo((()=>"price_in_button"===s?n:e.submit.replace(/{\s?price\s?}/,n)||""),[s,e]),u=React.useMemo((()=>{var t;return!r.style.includes("bordered")||e.effect&&"opacity"!==e.effect?null!=(t=e.effect)?t:"opacity":"fill"}),[e]),m=d.length,g=c(r.color),b=["component-button","is-old-button",""+(r.wide?"wide":""),`background--${g}`,`text--${r.colorText}`,`effect--${u}`,`line_size--${r.lineSize}`,`weight--${r.weight}`,`size--${r.size}`,"js-hover",...r.style].join(" ");React.useEffect((()=>{if(null!==i.current){const e=$(i.current),t=e.attr("data-product");t&&(e.removeAttr("data-product"),e.data("product",JSON.parse(t)))}}));const v=e=>{e.preventDefault(),e.stopPropagation(),a(e)};return React.h("button",{className:b,"data-action-target":!0},["cart"].includes(t)?React.h("a",{ref:i,"data-action":"cart","data-product":JSON.stringify(o)}):React.h("a",{onClick:v,id:l,className:"modal-options-actions"}),React.h("div",{className:"loader-products"},React.h("svg",{className:"circular-loader infinite",viewBox:"25 25 50 50"},React.h("circle",{className:"circular-loader--path",cx:"50",cy:"50",r:"19"}))),React.h("span",{className:`btn-content ${r.showIcon&&m?"btn-content-icon-text":r.showIcon?"btn-content-icon":"btn-content-text"} ${r.showIcon&&"from_right"===r.order?"icon-on-right":"icon-on-left"}`},React.h("svg",{className:"btn-icon success-icon",viewBox:"0 0 18 14"},React.h("path",{d:"M 2.205 5.77223L 0 7.92347L 6.3 14L 18 2.15124L 15.795 0L 6.3 9.74699L 2.205 5.77223Z"})),r.showIcon&&null!=(p=r.icon)&&p.url?React.h(z,{icon:r.icon}):"",m||null!=(h=r.lang)&&h.length?React.h("span",{className:"btn-text",dangerouslySetInnerHTML:{__html:r.lang?flexbe_cli.locale.tr(r.lang):N(d)}}):""))}const m=React.useRef(null),g=React.useMemo((()=>{var t,a,i,n,o,l,s,c,d,u,p,h,m,g,b,v,f,_,y;return{fillEnabled:!!e.fill.enabled,borderEnabled:!!e.border.enabled,shadowEnabled:!!e.shadow.enabled,wide:"free"===r||!!e.wide,high:"free"===r||!!e.high,action:null!=(t=e.action)?t:"none",transitions:null!=(a=e.transitions)?a:{},fillContrast:null!=(i=e.fill.contrast)?i:"dark",fillOpacity:null!=(n=e.fill.opacity)?n:100,borderColor:null!=(o=e.border.color)?o:"#ffffff",textColor:null!=(l=e.text.color)?l:"#ffffff",hoverTextColor:null!=(s=null==(c=e.transitions)||null==(d=c.hover)||null==(u=d.text)?void 0:u.color)?s:"#ffffff",underlineEnabled:null==(p=e.underline)?void 0:p.enabled,hoverUnderlineEnabled:null==(h=e.transitions)||null==(m=h.hover)||null==(g=m.underline)?void 0:g.enabled,underlineType:null==(b=e.transitions)||null==(v=b.hover)||null==(f=v.underline)?void 0:f.type,showIcon:null!=(_=e.icon.enabled)&&_,icon:e.icon,iconOrder:null!=(y=e.icon.position)?y:"left",lang:e.lang}}),[e,r]),b=React.useMemo((()=>"price_in_button"===s?n:e.submit.replace(/{\s?price\s?}/,n)||""),[s,e]),v=React.useMemo((()=>["light","dark"].includes(e.textColor)?e.textColor:e.fillContrast),[e]),f=[c(g.borderEnabled&&!(g.fillEnabled||0===g.fillOpacity)&&"auto"===g.textColor?g.borderColor:g.textColor),c(g.hoverTextColor)].includes("gradient")?"gradient":"color",_=b.length,y={type:"color",border_enabled:g.borderEnabled,shadow_enabled:g.shadowEnabled,border_color:g.borderColor,underline_enabled:g.underlineEnabled,underline_type:g.underlineType},R=["component-button","scale-only-bg-layers",""+(g.wide?"wide":""),""+(g.high?"high":""),""+(i?"disabled":""),"js-hover",`${S({background:y,transitions:g.transitions})}`].join(" ");React.useEffect((()=>{if(null!==m.current){const e=$(m.current),t=e.attr("data-product");t&&(e.removeAttr("data-product"),e.data("product",JSON.parse(t)))}}));return React.h("button",{className:R,"data-action-target":!0,"data-contrast":v},React.h(k,{background:y,transitions:g.transitions}),["cart"].includes(t)?React.h("a",{ref:m,"data-action":"cart","data-product":JSON.stringify(o)}):React.h("a",{onClick:e=>{e.preventDefault(),e.stopPropagation(),a(e)},id:l,className:"modal-options-actions"}),React.h("div",{className:"circular-loader"},React.h("svg",{className:"circular-loader infinite",viewBox:"25 25 50 50"},React.h("circle",{className:"circular-loader--path",cx:"50",cy:"50",r:"19"}))),React.h("span",{className:`btn-content text-${f} ${g.showIcon&&_?"btn-content-icon-text":g.showIcon?"btn-content-icon":"btn-content-text"} ${g.showIcon&&"right"===g.iconOrder?"icon-on-right":"icon-on-left"}`},React.h("svg",{className:"btn-icon success-icon",viewBox:"0 0 18 14"},React.h("path",{d:"M 2.205 5.77223L 0 7.92347L 6.3 14L 18 2.15124L 15.795 0L 6.3 9.74699L 2.205 5.77223Z"})),g.showIcon&&null!=(d=g.icon)&&d.url?React.h(z,{icon:g.icon}):"",_||null!=(u=g.lang)&&u.length?React.h("span",{className:"btn-text-wrapper"},g.underlineEnabled||g.hoverUnderlineEnabled?React.h("div",{className:`bg-element__underline is-${g.underlineType}`}):"",React.h("span",{className:"btn-text",dangerouslySetInnerHTML:{__html:g.lang?flexbe_cli.locale.tr(g.lang):N(b)}})):""))}function O({navigation:e,count:t,activePage:a,navigationCid:i,navigationClick:n}){const o=React.useMemo((()=>{var t,a;return{type:null!=(t=e.type)?t:"button",button:e.button,pagination:e.pagination,max_count:null!=(a=e.max_count)?a:9}}),[e]),l=React.useMemo((()=>{var e,t,a,i;return{showArrows:null!=(e=o.pagination.show_arrows)&&e,style:null!=(t=o.pagination.style)?t:"sequence",activeStyle:null!=(a=o.pagination.active_style)?a:"none",color:null!=(i=o.pagination.color.includes("#")?"custom":o.pagination.color)?i:"contrast"}}),[o.pagination]),s=Math.ceil((null!=t?t:0)/o.max_count);let r=[];return"sequence"===l.style&&(r=s>4?1===a||2===a?[1,2,3,"hyphen",s]:3===a?5===s?[1,2,3,4,5]:[1,2,3,4,"hyphen",s]:a===s||a===s-1?[1,"hyphen",s-2,s-1,s]:[1,"hyphen",a-1,a,a+1,"hyphen",s]:Array.from({length:s},((e,t)=>t+1))),React.h("div",{className:"navigation-container","data-navigation-cid":i},"button"===o.type?React.h(T,{buttonStyle:o.button,action:o.button.action,buttonClick:e=>{n(e,a)}}):React.h("div",{className:`pagination-container test ${"sequence"===l.style?l.activeStyle:"base-style"}`,"data-color":l.color},l.showArrows?React.h("div",{onClick:e=>{n(e,a-1)},className:"pagination__items pagination__prev-button "+(1===a?"hide":"")},flexbe_cli.locale.tr("ecommerce::navigation::prev")):"","sequence"===l.style?React.h("div",{className:"sequence-pagination"},r.map((e=>React.h(React.Fragment,null,"hyphen"===e?React.h("div",{className:"pagination__hyphen"}):React.h("div",{onClick:t=>{n(t,e)},className:"pagination__items pagination__item "+(e===a?"active":"")},e))))):React.h("div",{className:"pagination__info"},`${a} ${"from_max"===l.style?flexbe_cli.locale.tr("ecommerce::navigation::separator"):"/"} ${s}`),l.showArrows?React.h("div",{onClick:e=>{n(e,a+1)},className:"pagination__items pagination__next-button "+(a===s?"hide":"")},flexbe_cli.locale.tr("ecommerce::navigation::next")):""))}function A({list:e,options:t}){const a=React.useMemo((()=>({bulletsVisible:t.bullets_visible||0,type:t.pagination_type||e.pagination_type||"bullets",size:t.pagination_size||t.buttons_size||e.buttons_size||"medium",buttonsColor:t.buttons_color||e.buttons_color||"dark",color:t.color||e.color||"#000000",imageScale:t.scale||e.scale||"cover"})),[t,e]),i=React.useMemo((()=>"thumbs"===a.type?"outside":t.pagination_position||e.pagination_position||"inside"),[t,e]),n=React.useMemo((()=>"custom"===a.buttonsColor?{color:a.color}:{}),[]),o=React.useMemo((()=>"thumbs"!==a.type&&t.disabled),[t,e]);return React.h(React.Fragment,null,"none"!==a.type?React.h("div",{className:`slider-pagination ${o?" disabled":""} ${t.class} type--${a.type} color--${a.buttonsColor} position--${i} size--${a.size}`,"data-type":a.type,"data-prevent-action":"true","data-bullets-visible":"bullets"===a.type&&a.bulletsVisible,style:n}):"")}function M({button:e,list:t,options:a}){const i=React.useMemo((()=>({type:a.buttons_type||t.buttons_type||!0,size:a.buttons_size||t.buttons_size||"medium",shape:a.buttons_shape||t.buttons_shape||"round",style:a.buttons_style||t.buttons_style||"filled",buttonsColor:a.buttons_color||t.buttons_color||"dark",color:a.color||t.color||"#000000",contrast:a.contrast||t.contrast||"light",buttonsPosition:a.buttons_position||t.buttons_position||"inside"})),[a,t]),n=React.useMemo((()=>null!=e?e:"prev"),[e]),o="custom"===i.buttonsColor&&i.color?{color:i.color}:{};return React.h("div",{className:`slider-button ${a.class} size--${i.size} style--${i.style} shape--${i.shape} color--${i.buttonsColor} position--${i.buttonsPosition}`,"data-direction":n,"data-prevent-action":!0,style:o},React.h("div",{className:"slider-button-holder"},React.h("div",{className:"slider-button-bg"}),React.h("svg",{className:"slider-button-icon","data-contrast":"custom"===i.buttonsColor?i.contrast:null},React.h("use",{href:`/_s/images/theme/4/res/slider.svg#btn-${i.size}-${i.type}`}))))}function q({defaultImg:e,list:t,style:a,action:i,productData:n,productKey:o,openOptionModal:l}){React.useLayoutEffect((()=>{flexbe_cli.components.initComponent(this.base,null,"update")}),[t]),React.useEffect((()=>{var t;if(null!=(t=this.base)&&t.componentInstance){const t=e&&$(this.base).find(`[data-uniq-id=${e}]`).closest("[data-real-index]").data("realIndex");null!=t&&this.base.componentInstance.slideTo(t,!0)}}),[e]);const s=React.useMemo((()=>{var e,i,n,o,l;return{count:t.length,action:a.action||t.action,type:a.type||"background",scale:a.scale||t.scale||"cover",autoplay:a.autoplay||t.autoplay||0,effect:a.slider_effect||t.slider_effect||"slide",pagination:a.pagination||t.pagination||"none",effectImage:null!=(e=null!=(i=a.image_zoom)?i:t.image_zoom)?e:"zoom",controlsOnHover:a.controls_on_hover||t.controls_on_hover||0,loop:!(t.length<2)&&!(!a.loop&&!t.loop),buttonsEnabled:null==(n=null!=(o=a.buttons_enabled)?o:t.buttons_enabled)||n,originalResolution:null!=(l=a.original_resolution)&&l}}),[a,t]);return React.h("div",{className:`component-slider swiper lightbox-container ${s.controlsOnHover?"swiper-controls-only-hover":""} ${a.class||""}`,"data-effect":s.effect,"data-count":s.count,"data-autoplay":s.autoplay,"data-loop":s.loop?1:0,"data-pagination":s.pagination,"data-img-type":s.type,"data-component":"slider"},React.h("div",{className:"component-slider__wrapper swiper-wrapper"},t.map(((e,t)=>React.h("div",{className:"component-slider__item swiper-slide "+(t?"":"swiper-slide-active"),"data-media-id":e.id,"data-type":s.type,"data-real-index":t},React.h(x,{image:e.img||e,style:{action:s.action,scale:s.scale,effect:s.effectImage,original_resolution:s.originalResolution,title:"",desc:"",alt:"",autoload:!1},productData:n,productKey:o,action:i,openOptionModal:l}))))),t.length>1&&s.buttonsEnabled?React.h(React.Fragment,null,React.h(M,{button:"prev",list:t,options:{...a,class:"disabled"}}),React.h(M,{button:"next",list:t,options:{...a,class:"disabled"}})):"",t.length>1?React.h(A,{list:t,options:{...a,disabled:1}}):"")}function L({defaultImg:e,images:t,style:a,action:i,proportion:n,typeCard:o,padding:l,paddingAdaptive:s,productData:r,productKey:c,openOptionModal:d}){const u=null!=l?l:10,p={"--elementPadding":`${u}px`,"--elementPaddingAdaptive":`${null!=s?s:u}px`},h=null!=n?n:12,m=null!=o?o:"single";return React.h("div",{className:"zone-products__element zone-products__media zone-products__media-content",style:p,"data-cols":"double"===m&&h},"image"===a.type?React.h(x,{image:t[0],style:a.image,productData:r,productKey:c,action:i,openOptionModal:d}):React.h(q,{defaultImg:e,list:t,style:a.slider,productData:r,productKey:c,action:i,openOptionModal:d}))}function E(e){var t,a;const i=e.style.color||"contrast",n=i.includes("#")?"custom":i,o=null!=(t=e.padding)?t:10,l={"--elementPadding":`${o}px`,"--elementPaddingAdaptive":`${null!=(a=null==e?void 0:e.paddingAdaptive)?a:o}px`};return React.h("div",{className:"zone-products__element zone-products__title "+(e.style.uppercase?"zone-products__title--uppercase":""),style:l,"data-color":n},(e=>{try{return p(e)||(e=h(e)),e}catch(t){return e}})(e.name))}const P={selectClass:"",dropdownClass:"",selectedClass:"selected",optionSelector:"option",attrValue:"value",position:"over",padding:10,title:!1};class I{static create(e){return new this(e)}constructor(e){this.opts=e,this.config={...P,...e.config},this.element=e.element,this.$select=$(this.element),this.isNativeSelect=this.$select.is("select"),this.selectAllDevice="select"===this.$select.data("type"),this.blurTimeOut=!1,this.blurListTimeOut=!1,this.focused=!1,this.active=!1,this.createSelect()}createSelect(){this.$customSelect=$(`\n            <div class="dropdown-container ${this.config.selectClass}">\n                <div tabindex="0" class="dropdown-select">\n                    <span class="dropdown-select__content selected"></span>\n\n                    <span class="arrow">\n                        <svg viewBox="0 0 10 6" xmlns="http://www.w3.org/2000/svg">\n                            <path fill="currentColor" d="M 1.4 6.99441e-15L 0 1.34043L 5 6L 10 1.34043L 8.6 0L 5 3.34998L 1.4 6.99441e-15Z"/>\n                        </svg>\n                    </span>\n                </div>\n            </div>\n        `),this.$customSelect__content=this.$customSelect.find(".dropdown-select__content"),this.$select.after(this.$customSelect),this.syncSelect(),this.selectAllDevice||flexbe_cli.run.is_screen_desktop||!flexbe_cli.responsive?(this.$customSelect.off("click.selected").on("click.selected",".dropdown-select",(()=>{clearTimeout(this.blurListTimeOut),this.active?this.collapse():this.activate()})),this.$customSelect.off("focus.selectFocus").on("focus.selectFocus",".dropdown-select",(()=>{this.focused=!0,this.$listWrapper||this.createList()})),this.isNativeSelect&&this.$select.off("change.changeSelect").on("change.changeSelect",(e=>{const t=this.$listWrapper.find(".dropdown-select-ul li"),a=e.currentTarget.value;t.removeClass(this.config.selectedClass),t.filter(((e,t)=>t.getAttribute(this.config.attrValue)===a)).addClass(this.config.selectedClass),this.$customSelect__content.text(a),"function"==typeof this.opts.onChange&&this.opts.onChange(e)})),this.$customSelect.off("keydown.selectKeydown").on("keydown.selectKeydown",".dropdown-select",(e=>{if(this.focused&&[13,27,32,38,40].includes(e.keyCode)){e.preventDefault();const t=this.$list.find(`.option-e.${this.config.selectedClass}`).filter((e=>!$(e).attr("disabled")));if(40===e.keyCode)e.preventDefault(),this.select(t.next(),!1),this.scrollToSelected();else if(38===e.keyCode)e.preventDefault(),this.select(t.prev(),!1),this.scrollToSelected();else if(this.active||32!==e.keyCode){if(this.active&&[13,27,32].includes(e.keyCode))return e.preventDefault(),this.collapse(),!1}else e.preventDefault(),this.activate()}}))):this.$select.off("change.selected").on("change.selected",(e=>{const t=e.target.value;this.$customSelect__content.text(t)}))}syncSelect(){const e=this.$select.children(this.config.optionSelector).filter(((e,t)=>{var a;return(null!=(a=t.selected)?a:$(t).attr("selected"))||$(t).hasClass(this.config.selectedClass)})).eq(0),t=e.html()||"—";this.$customSelect__content.attr(this.config.attrValue,e.attr(this.config.attrValue)),this.$customSelect__content.html(t)}createList(){const e=this.$select.children(this.config.optionSelector);this.$listWrapper=$(`\n            <div class="select-container-in-body">\n                <div class="overlay"></div>\n                <ul class="dropdown-select-ul scrollable ${this.config.dropdownClass}" tabindex="0"></ul>\n            </div>\n        `),this.$list=this.$listWrapper.find(".dropdown-select-ul"),e.each(((e,t)=>{var a,i,n;const o=$(t),l=(null!=(a=t.selected)?a:o.attr("selected"))||o.hasClass(this.config.selectedClass),s=(null!=(i=t.disabled)?i:o.attr("disabled"))||o.hasClass("disabled"),r=(null!=(n=t.locked)?n:o.attr("locked"))||o.hasClass("locked"),c=this.isNativeSelect?o.val():o.attr(this.config.attrValue),d=o.html().trim()||"—";let u="";this.config.title&&(u=o.attr("data-title"));const p=$(`<li title='${u}' class="option-e"></li>`);l&&!s&&p.addClass(this.config.selectedClass),s&&p.attr("disabled","disabled"),r&&p.attr("locked","locked"),p.attr(this.config.attrValue,c),p.html(d),this.$list.append(p)}))}select(e,t){if(!e[0])return;if(e.attr("disabled"))return clearTimeout(this.blurTimeOut),void this.$list.off("blur.listBlur").on("blur.listBlur",(()=>{this.focused=!1,this.blurListTimeOut=setTimeout((()=>{this.$listWrapper&&this.collapse()}),200)}));const a=e.attr(this.config.attrValue);if(e.siblings("li").removeClass(this.config.selectedClass),e.addClass(this.config.selectedClass),this.isNativeSelect)this.$select.val(a);else{const e=this.$select.children(this.config.optionSelector);e.removeAttr("selected").removeClass(this.config.selectedClass),e.filter(`[${this.config.attrValue}=${a}]`).addClass(this.config.selectedClass).attr("selected","selected")}this.syncSelect(),t&&this.collapse()}scrollToSelected(){const e=this.$list[0].offsetHeight;if(this.$list[0].scrollHeight<=e)return!1;const t=this.$list.children(".option-e").find(`.${this.config.selectedClass}`)[0];t&&t.scrollIntoView()}collapse(){clearTimeout(this.blurTimeOut),this.active=!1,this.$listWrapper.removeClass("active rise"),this.$listWrapper.detach(),"function"==typeof this.opts.onCollapse&&this.opts.onCollapse()}activate(){if(this.active)return!1;this.active=!0,this.createList();const e=this.config.padding||0,t={...flexbe_cli.helpers.dom.getElOffset(this.$customSelect[0]),width:this.$customSelect.width(),height:this.$customSelect.height()};"under"===this.config.position&&(t.top=t.top+t.height+e),this.$listWrapper.off("click.closeSelect").on("click.closeSelect",".overlay",(e=>{this.collapse();const t=document.elementFromPoint(e.clientX,e.clientY);t&&t.focus()})),this.$listWrapper.off("click.selectLi").on("click.selectLi",".dropdown-select-ul li",(e=>{const t=$(e.currentTarget);this.select(t,!0),"function"==typeof this.opts.onSelect&&this.opts.onSelect(e)})),this.$listWrapper.off("mousewheel.selectUl").on("mousewheel.selectUl",".dropdown-select-ul",(e=>{const t=e.currentTarget.scrollHeight,a=e.currentTarget.clientHeight;return!(e.currentTarget.scrollTop===t-a&&e.deltaY>0||0===e.currentTarget.scrollTop&&e.deltaY<0)})),$("body").append(this.$listWrapper),clearTimeout(this.blurTimeOut),this.$list.css({left:`${t.left}px`,top:`${t.top}px`,width:`${t.width}px`}),this.$listWrapper.outerWidth(),this.$listWrapper.toggleClass("rise",!!this.$select.closest(".m_modal, .w_widget").length),this.$listWrapper.addClass("active"),this.scrollToSelected(),"function"==typeof this.opts.onActivate&&this.opts.onActivate()}}const D=e=>{try{return p(e)||(e=h(e)),e}catch(t){return e}};function F({style:e,option:t,activeOption:a,selectOption:i,combinationOptionsList:n,cardStylesAdaptive:o}){var l,s,r;const c=React.useRef(null),d=React.useRef(null),u=React.useMemo((()=>{var t,a,i,n,o;return{colorTitle:null!=(t=e.label.color)?t:"contrast",colorActive:null!=(a=e.color)?a:"contrast",showTitle:null==(i=e.show_title)||i,size:null!=(n=e.size)?n:"medium",style:null!=(o=e.style)?o:"filled"}}),[e]),p=null!=(l=null==o?void 0:o.elementsStyles)?l:{},h=null!=(s=null==p?void 0:p.options)?s:{},m=null!=(r=null==h?void 0:h.show_title)?r:u.showTitle,g=React.useMemo((()=>{var e,a;return null!=(e=null==(a=t.data)?void 0:a.widget_type)?e:"vertical_list"}),[t]),b=React.useMemo((()=>a.map((e=>`${e.option_id}_${e.value_id}`))),[a]),v=u.colorTitle.includes("#")?"custom":u.colorTitle,f=u.colorActive.includes("#")?"custom":u.colorActive;React.useEffect((()=>{((e,t)=>{e.filter("[data-tooltipstered]").each(((e,t)=>{flexbe_cli.tip.destroy(t)})),e.each(((e,a)=>{const i=$(a),n=i.attr("data-option-id"),o=t.find((e=>e.optionId===n)),l=o.tipText;if(i.removeClass("disabled locked"),i.addClass(o.exceptionClass),i.is("[data-tip]")){const e=i.attr("data-tip"),t=i.attr("data-radio"),n=t?`<div class="zone-products-option-tip__title">${e}</div><div class="zone-products-option-tip__status">${l}</div>`:l,o=e&&l?n:t?e:"";o&&flexbe_cli.tip.init(a,{interactive:!1,content:o,triggerOpen:{click:!0,touchstart:!1,mouseenter:!0}})}else i.find(".option-state")[0].innerHTML=l}))})($(d.current).find(".element-option"),n)}),[n]),React.useEffect((()=>{(({selectBlock:e,selectOption:t,optionsSize:a})=>{if(e.current){const i={optionSelector:".zone-products-option__select-item",attrValue:"data-option-id",dropdownClass:`products-select products-select__${a}`,position:"under",title:!0},n=$(e.current).find(".zone-products-option__select-block"),o=e=>{$(e.target).attr("disabled")||t(e.target.dataset.optionId)},l=()=>{n.removeClass("active")},s=()=>{n.addClass("active"),n.siblings(".zone-products-option__select-content").removeClass("active")};$(e.current).find(".dropdown-container").remove(),I.create({element:n[0],config:i,onSelect:o,onActivate:s,onCollapse:l})}})({selectBlock:c,selectOption:i,optionsSize:u.size})}),[i]);const _=e=>{const t=e.target;$(t).hasClass("disabled")||$(t).hasClass("active")||i(t.dataset.optionId)};return React.h(React.Fragment,null,React.h("div",{className:`zone-products-option__title ${u.showTitle?"":"hidden-desktop"} ${m?"":"hidden-mobile"}`,"data-color":v},t.name),React.h("div",{ref:d,className:`zone-products-option__content ${"vertical_list"!==g?"zone-products-option__content-radio":""} option-size--${u.size}`,"data-color":f},"vertical_list"!==g?t.values.map((e=>{var a,i;const n=`option-style--${u.style}`,o=null!=(a=null!=(i=e.data.contrastFixed)?i:e.data.contrast)?a:"dark",l={background:e.data.color};return React.h("div",{className:`element-option zone-products-option ${b.includes(`${t.id}_${e.id}`)?"active selected":""} zone-products-option--${g} ${"radio"!==g&&n}`,"data-option-id":`${t.id}_${e.id}`,"data-tip":"radio"===g||"vertical_block"===g?D(e.name):null,"data-tooltipstered":"radio"===g||"vertical_block"===g||null,"data-radio":"radio"===g||null,onClick:_},"color"===t.data.type&&"radio"===g?React.h("span",{className:"option-color-item__substrate"}):"","color"===t.data.type?React.h("span",{className:"option-color-item",style:l}):"","radio"===g?React.h("i",{className:"","data-contrast":o}):"","radio"!==g?React.h("span",{className:"option-name-item"},D(e.name)):"","radio"!==g&&"horizon_block"===g?React.h("span",{className:"option-state"}):"")})):React.h("div",{ref:c,className:`zone-products-option__select-content option-style--${u.style}`},React.h("div",{className:"form-field-select"},React.h("div",{className:"select-outer"},React.h("div",{"data-type":"select",className:"zone-products-option__select-block"},t.values.map((e=>{const a={background:e.data.color};return React.h("div",{className:"element-option zone-products-option__select-item "+(b.includes(`${t.id}_${e.id}`)?"active selected":""),"data-title":D(e.name),"data-option-id":`${t.id}_${e.id}`},"color"===t.data.type?React.h("span",{className:"option-color-item",style:a}):"",React.h("div",{className:"option-text-block"},React.h("span",{className:"option-name"},D(e.name)),React.h("span",{className:"option-state"})))}))))))))}function V({options:e,activeOption:t,combinationOptionsList:a,style:i,padding:n,cardStylesAdaptive:o,selectOption:l}){return React.h("div",{className:"zone-products__element zone-products__options",style:null!=n?n:null},e.map((e=>React.h(F,{option:e,combinationOptionsList:a,activeOption:t,style:i,cardStylesAdaptive:o,selectOption:l}))))}function j(e){var t,a,i;const n=e.style.color||"contrast",o=null!=(t=e.style.opacity)?t:100,l=null!=(a=e.padding)?a:10,s={"--elementPadding":`${l}px`,"--elementPaddingAdaptive":`${null!=(i=null==e?void 0:e.paddingAdaptive)?i:l}px`,"--colorOpacity":`${o}%`},r=e.fixToBottom||0,c=e.style.no_gutter||0;return React.h("div",{className:`zone-products__element products-hr ${c?"no-gutter":""} ${r?"zone-products__button-to-bottom":""}`,style:s,"data-color":n})}function H(e){var t,a,i;const n=null!=(t=e.padding)?t:10,o={"--elementPadding":`${n}px`,"--elementPaddingAdaptive":`${null!=(a=null==e?void 0:e.paddingAdaptive)?a:n}px`},l=h(e.variant.article),s=null!=(i=e.style.show_article_value_only)&&i?l:flexbe_cli.locale.tr("ecommerce.article",{article:l}),r=React.useMemo((()=>{const t=e.style.color||"contrast";return t.includes("#")?"custom":t}),[e.style]);return React.h("div",{className:"zone-products__element zone-products__article active",style:o,"data-color":r},s)}const B=e=>{try{p(e)||(e=h(e))}catch(e){}return e=e.replace(/\n/g,"<br>")};function W(e){var t,a;const i=null!=(t=e.padding)?t:10,n={"--elementPadding":`${i}px`,"--elementPaddingAdaptive":`${null!=(a=null==e?void 0:e.paddingAdaptive)?a:i}px`},o=e.style.color||"contrast",l=o.includes("#")?"custom":o;return React.h("div",{className:"zone-products__element zone-products__desc",style:n,"data-color":l,dangerouslySetInnerHTML:{__html:B(e.description)}})}function K(e){var t,a;const i=null!=(t=e.padding)?t:10,n={"--elementPadding":`${i}px`,"--elementPaddingAdaptive":`${null!=(a=null==e?void 0:e.paddingAdaptive)?a:i}px`},o=e.style.color.includes("#")?"custom":e.style.color||"contrast",l=e.style.colored_statuses||0,s=flexbe_cli.vars._group.ecommerce.in_stock_status||"none",r=flexbe_cli.vars._group.ecommerce.out_of_stock_status||"none",c=flexbe_cli.vars._group.ecommerce.out_of_stock_action||"forbid_preorder",d=!e.variant.quantity&&-1!==e.variant.quantity;let u="",p="hide";return"none"!==s&&(u=-1===e.variant.quantity||"in_stock"===s?flexbe_cli.locale.tr("cart.quantity_status.in_stock"):flexbe_cli.locale.tr("cart.quantity_status.items_in_stock",{count:e.variant.quantity}),p="in_stock"),d&&"none"!==r&&("allow_preorder"===c&&(u="in_stock"===r?flexbe_cli.locale.tr("cart.quantity_status.in_stock"):flexbe_cli.locale.tr("cart.quantity_status.preorder"),p="in_stock"===r?"in_stock":"preorder"),"out_of_stock"===r&&(u=flexbe_cli.locale.tr("cart.quantity_status.out_of_stock"),p="not-available")),React.h(React.Fragment,null,u?React.h("div",{className:`zone-products__element zone-products__available active ${l?"colored-status":""} ${p}`,style:n,"data-color":o},u):"")}function J(e){var t;const a=null!=(t=e.padding)?t:10,i=()=>{if(null===e.variant.price)return flexbe_cli.locale.tr("ecommerce.card.price.empty")||"ecommerce::card::price::empty";const t="free"===flexbe_cli.vars._group.ecommerce.zero_price;return flexbe_cli.locale.formatMoney(e.variant.price,{freeLabel:t})},n=React.useMemo((()=>{var t;return{padding:{"--elementPadding":`${a}px`,"--elementPaddingAdaptive":`${null!=(t=null==e?void 0:e.paddingAdaptive)?t:a}px`},classes:e.classes||"",price:i(),color:e.style.color||"contrast",class:e.class||"",colorOldPrice:e.style.old_price_color||"contrast",hideOldPriceDesktop:e.hideOldPriceDesktop||!1,hideOldPriceAdaptive:void 0===e.hideOldPriceAdaptive||"inherit"===e.hideOldPriceAdaptive?e.hideOldPriceDesktop:e.hideOldPriceAdaptive}}),[e]),o=React.useMemo((()=>!!e.variant.oldPrice&&flexbe_cli.locale.formatMoney(e.variant.oldPrice)),[e]),l=n.color.includes("#")||n.color.includes("rgba")?"custom":n.color,s=n.colorOldPrice.includes("#")||n.colorOldPrice.includes("rgba")?"custom":n.colorOldPrice,r=React.useMemo((()=>e.usePriceOld&&!n.hideOldPriceDesktop),[e]),c=React.useMemo((()=>e.usePriceOld&&!n.hideOldPriceAdaptive),[e]);return React.h("div",{className:`zone-products__element zone-products__price-container active ${n.classes}`,style:n.padding,"data-color":l},React.h("s",{className:`\n                ecommerce-old-price\n                ${r&&o?"priceMr10-desktop":"hidden-desktop"} \n                ${c&&o?"priceMr10-mobile":"hidden-mobile"}\n            `,"data-color":s},o),React.h("span",{className:"ecommerce-price"},n.price))}function U(e){var t,a,i,n;const o=React.useRef(null);React.useEffect((()=>{if(!flexbe_cli.is_admin){const e=$(o.current).find(".button-toltipster_container");e.attr("data-tip")?flexbe_cli.tip.init(e[0],{interactive:!1,triggerOpen:{click:!0,touchstart:!1,mouseenter:!0}}):e.hasClass("tooltipstered")&&flexbe_cli.tip.destroy(e[0])}}),[e]);const l=["button","price_in_button"].includes(e.type),s="allow_preorder"===(flexbe_cli.vars._group.ecommerce.out_of_stock_action||"forbid_preorder"),r=null!=(t=e.buttonAdaptive)?t:{},c=null!=(a=e.positionType)?a:"static",d=(null==r?void 0:r.price)||{},u=null==d?void 0:d.hide_old_price,p=React.useMemo((()=>{var t,a;return{style:null!=(t=e.style)?t:{},settings:null!=(a=e.settings)?a:{},locked:!s&&!e.variant.quantity&&-1!==e.variant.quantity&&e.hasOptions,disabled:!e.variant.visible&&e.hasOptions||null===e.variant.price}}),[e]),h=(null==(i=p.settings.options)?void 0:i.fix_to_bottom)||0,m="free"===c||p.style.wide||0,g=flexbe_cli.locale.tr("ecommerce.option.locked")||"ecommerce::option::locked",b=flexbe_cli.locale.tr("ecommerce.option.disabled")||"ecommerce::option::disabled",v=p.settings.price||{},f=p.settings.available||{},_=e.variant.getPrice("text"),y=(null==v?void 0:v.hide_old_price)||!1,R="button_with_available"===e.type||f.show,w="button_with_price"===e.type||v.show;return React.h(React.Fragment,null,React.h("div",{ref:o,className:`zone-products__button active ${l?"zone-products__element":""} ${h?"zone-products__button-to-bottom":""} ${!m||R||w?"":"zone-products__button-stretch"} ${p.disabled||p.locked?"disabled":""}`,style:null!=(n=e.padding)?n:null},React.h("div",{className:"button-toltipster_container "+(m?"button-toltipster_strench":""),"data-tip":p.disabled&&b||p.locked&&g||null,"data-tooltipstered":p.disabled},React.h(T,{disabled:p.disabled||p.locked,buttonStyle:p.style,price:_,action:e.cardAction,productData:e.productData,productKey:e.productKey,buttonClick:e.buttonClick,type:e.type,positionType:c}))),R||w?React.h("div",{className:"zone-products__other-container"},R?React.h(K,{variant:e.variant,style:f,padding:0}):"",w?React.h(J,{hideOldPriceAdaptive:u,hideOldPriceDesktop:y,usePriceOld:e.product.isOldPrice,variant:e.variant,style:v,padding:0,classes:"button-with-price"}):""):React.h(React.Fragment,null))}function X(e){var t,a,i,n,o,l,s,r,c,d,u,p;const h=null!=(t=e.settings)?t:{},m=null!=(a=e.buttonAdaptive)?a:{},g=null!=(i=e.positionType)?i:"static",b=null!=(n=null!=(o=null==(l=h.options)?void 0:l.reverse)?o:"right"===h.style.position)?n:0,v=(null==(s=h.options)?void 0:s.fix_to_bottom)||0,f=["button_with_available","button_with_price"].includes(e.type)||(null==(r=e.settings)||null==(c=r.price)?void 0:c.show)||(null==(d=e.settings)||null==(u=d.available)?void 0:u.show);return React.h(React.Fragment,null,f?React.h("div",{className:`zone-products__element zone-products__button-container ${v?"zone-products__button-container-to-bottom":""} ${b?"revert-block":""}`,style:null!=(p=e.padding)?p:null},React.h(U,{product:e.product,hasOptions:e.hasOptions,variant:e.variant,type:e.type,style:e.style,buttonAdaptive:m,settings:e.settings,cardAction:e.cardAction,productData:e.productData,productKey:e.productKey,buttonClick:e.buttonClick,positionType:g})):React.h(U,{product:e.product,hasOptions:e.hasOptions,variant:e.variant,type:e.type,style:e.style,buttonAdaptive:m,settings:e.settings,padding:e.padding,cardAction:e.cardAction,productData:e.productData,productKey:e.productKey,buttonClick:e.buttonClick,positionType:g}))}function Y({product:e,styleCard:t,typeCard:a,params:i,isModal:n}){var o,l,s,r,c,d,u,p,h,m,g,b,v,f,_;const[y,$]=React.useState(e.currentOptions()),[R,w]=React.useState(e.currentVariant()),x=React.useMemo((()=>{var e,a;return{transitions:null!=(e=t.transitions)?e:{},elementsStyles:null!=(a=t.elements_styles)?a:{},justifyCard:t.justify,elementsList:t.elements_list}}),[t]),C=React.useMemo((()=>{var e,a;return{elementsStyles:null!=(e=null==(a=t.adaptive)?void 0:a.elements_styles)?e:{}}}),[t]),k=React.useMemo((()=>{var e,t;const a=null!=(e=null==(t=i.products_proportions)?void 0:t.split("|"))?e:[12,12];return{colImage:i.products_swap?a[1]:a[0],colContent:i.products_swap?a[0]:a[1]}}),[i]),z=x.elementsStyles,N=null!=(o=null==C?void 0:C.elementsStyles)?o:{},S=null!=(l=z.media)?l:{},T=null!=(s=z.article)?s:{},O=null!=(r=z.available)?r:{},A=null!=(c=z.divider)?c:{},M=null!=(d=z.description)?d:{},q=null!=(u=z.name)?u:{},P=null!=(p=z.options)?p:{},I=null!=(h=z.price)?h:{},D=null!=(m=null==N?void 0:N.price)?m:{},F=null!=(g=z.button)?g:{},B=null!=(b=null==N?void 0:N.button)?b:{},U=null!=(v=F.style)?v:{},Y=null!=(f=I.hide_old_price)&&f,Z=null!=(_=D.hide_old_price)?_:Y,G=x.elementsList.find((e=>"options"===e.key)),Q=e.hasVariants,ee=!G&&Q?"modal":"cart",te=flexbe_cli.vars._group.ecommerce.out_of_stock_action||"forbid_preorder",ae="allow_preorder"===te,ie=React.useMemo((()=>({locked:!ae&&!R.quantity&&-1!==R.quantity&&G,disabled:!R.visible&&G})),[R,te,G]),ne=React.useMemo((()=>{var e,t;return!ie.disabled&&!ie.locked||"cart"!==(null==(e=S.image)?void 0:e.action)&&"cart"!==(null==(t=S.slider)?void 0:t.action)?S:{...S,image:{action:"none"},slider:{...S.slider,action:"none"}}}),[ie]),oe=React.useMemo((()=>e.combinationOptionsList(P,n)),[e,y,P]),le=t=>{e.selectOption(t)};flexbe_cli.events.on(`update_${e.id}`,(()=>{$(e.currentOptions()),w(e.currentVariant())}));const se=e=>{const t=e.currentTarget.id;flexbe_cli.ecommerce.productsStore.showModalOptions(t)},re=React.useMemo((()=>e=>{var t;return React.h(L,{defaultImg:null!=(t=R.defaultImageId)?t:0,images:R.getImages(S.type),style:ne,proportion:k.colImage,typeCard:a,productData:R.getCartData(S.type),productKey:R.productKey,action:ee,padding:0,openOptionModal:se,...e})}),[R]),ce=({className:t})=>React.h("div",{className:t,"data-cols":"double"===a&&k.colContent,"data-justify":x.justifyCard},x.elementsList.map((t=>{var i,n,o,l,s,r,c;if("media"===t.key&&"single"===a)return React.h(re,{padding:t.padding_top,paddingAdaptive:null==(i=t.adaptive)?void 0:i.padding_top});if("name"===t.key)return React.h(E,{name:e.title,style:q,padding:t.padding_top,paddingAdaptive:null==(n=t.adaptive)?void 0:n.padding_top});if("options"===t.key&&e.hasOptions){var d,u,p;const a=null!=(d=t.padding_top)?d:10,i={"--elementPadding":`${a}px`,"--elementPaddingAdaptive":`${null!=(u=null==(p=t.adaptive)?void 0:p.padding_top)?u:a}px`};return React.h(V,{options:e.options,activeOption:y,combinationOptionsList:oe,style:P,padding:i,cardStylesAdaptive:C,selectOption:le})}if("divider"===t.key)return React.h(j,{style:A,fixToBottom:t.fix_to_bottom,padding:t.padding_top,paddingAdaptive:null==(o=t.adaptive)?void 0:o.padding_top});if("article"===t.key&&R.article.length)return React.h(H,{variant:R,style:T,padding:t.padding_top,paddingAdaptive:null==(l=t.adaptive)?void 0:l.padding_top});if("description"===t.key&&e.description.length)return React.h(W,{description:e.description,style:M,padding:t.padding_top,paddingAdaptive:null==(s=t.adaptive)?void 0:s.padding_top});if("available"===t.key)return React.h(K,{variant:R,style:O,padding:t.padding_top,paddingAdaptive:null==(r=t.adaptive)?void 0:r.padding_top});if("price"===t.key)return React.h(J,{class:"price",usePriceOld:e.isOldPrice,variant:R,style:I,padding:t.padding_top,paddingAdaptive:null==(c=t.adaptive)?void 0:c.padding_top,hideOldPriceDesktop:Y,hideOldPriceAdaptive:Z});if("button"===t.key){var h,m,g;const a=null!=(h=t.padding_top)?h:10,i={"--elementPadding":`${a}px`,"--elementPaddingAdaptive":`${null!=(m=null==(g=t.adaptive)?void 0:g.padding_top)?m:a}px`};return React.h(X,{product:e,hasOptions:G||!e.hasOptions,variant:R,type:t.id,style:U,buttonAdaptive:B,settings:F,padding:i,cardAction:ee,productData:R.getCartData(S.type),productKey:R.productKey,images:R.getImages(S.type),hideOldPriceDesktop:Y,hideOldPriceAdaptive:Z,buttonClick:se})}return React.h(React.Fragment,null)})));return"double"===a?React.h("div",{className:"zone-products__card"},React.h(re,null),React.h(ce,{className:"zone-products__content"})):React.h(ce,{className:"zone-products__card zone-products__content"})}const Z=({text:e,contrast:t})=>["light","dark"].includes(e)?e:t;function G({product:e,styleCard:t,params:a}){var i,n,o,l,s,r,c;const d=React.useMemo((()=>{var e,a,i,n;return{elementsStyles:null!=(e=null==t?void 0:t.elements_styles)?e:{},elementsList:null!=(a=t.elements_list)?a:[],transitions:null!=(i=t.transitions)?i:{},background:null!=(n=t.background)?n:{}}}),[t]),u=!!d.transitions.hover.enabled&&d.transitions.hover,p=u.enabled,h=(null==(i=u.mobile_disabled)||i)&&!p?"true":"false",m=!(null==(n=u.fill)||!n.enabled)&&u.fill,g="color"===m.type||"image"===m.type&&m.image.id,b=null!=(o=d.background.border_enabled)?o:d.background.border>0,v=d.background.shadow.enabled,f=g||b||v||p,_=null!=(l=d.background.type)?l:"none",y=Z({text:d.background.text,contrast:d.background.contrast}),$=null!=(r=(null!=(s=d.elementsStyles.media)?s:{}).no_gutter)&&r,R=flexbe_cli.locale.tr("ecommerce.card.empty")||"ecommerce::card::empty",w=React.useMemo((()=>{var e;return null!=(e=a.products_swap)?e:0}),[a]),x=React.useMemo((()=>{var e;const t=null!=(e=d.background.text)?e:"contrast";return t.includes("#")?"custom":t}),[t.background]),C=React.useMemo((()=>"custom"!==x&&(g?Z({text:u.fill.text,contrast:u.fill.contrast}):y)),[t.background,t.transitions]),z=React.useMemo((()=>{var e,t;return{adaptive:null!=(e=a.adaptive)?e:{},typeCard:null!=(t=a.products_type)?t:"single"}}),[a]),N=null!=(c=z.adaptive.double_direction)?c:"column",T=z.adaptive.swap_columns||0,O="product"===(e.hasOptions&&a.display_image||"product")&&e.images.length>1;return React.h("div",{className:["card-products","zone-products","lightbox-container",$?"no-gutter":"","double"===z.typeCard?"fill-space":"",w?"revert-card":"","flexbe-card","gap-item",`zone-products--${z.typeCard}`,`zone-products--adaptive-${N}`,T&&"column"===N?"zone-products--adaptive-swap":"",S({background:d.background,transitions:d.transitions})].join(" "),"data-product-item":"true","data-effects-desktop":p,"data-effects-mobile":h,"data-hover-contrast":C,"data-color":"none"!==_?x:null,"data-contrast":"none"!==_?y:null,"data-component":f?"backgroundElement":null,"data-image-slider":O||null},React.h(k,{background:d.background,transitions:d.transitions}),d.elementsList.length?React.h(Y,{typeCard:z.typeCard,styleCard:t,params:a,product:e,isModal:!1}):React.h("div",{className:"card-empty"},R))}const Q=async({productIds:e,categoryId:t,page:a,limit:i})=>{const n=await new Promise(((n,o)=>{$.ajax({url:"/api/ecommerce/products_for_navigation/",type:"GET",dataType:"json",data:{productIds:e,categoryId:t,page:a,limit:i}}).done((e=>{n(e)})).fail((e=>{o(new Error(e.statusText))}))}));return flexbe_cli.ecommerce.productsStore.addToStore(n),n.map((e=>e.id))};function ee({params:e,styleCard:t,category:a,source:i}){var n,o,l,s,r;const c=flexbe_cli.ecommerce.productsStore.getProducts(a.products),[d,u]=React.useState(c),[p,h]=React.useState(1),[m,g]=React.useState(!0),b=e.products,v=["flexbe-products","flexbe-cards","gap-container",`cards-${b}`,`cards-am-${"column"===e.adaptive.double_direction||"single"===e.products_type?e.adaptive.products:1}`,`align-items-${null!=(n=e.align)?n:"stretch"}`],f=Number(null!=(o=t.padding.x)?o:0),_=Number(null!=(l=t.padding.y)?l:0);f&&_&&v.push("no-gap");const y=a.products.length,R=a.id||"default",w=a.count,x=y<b,C=null!=(r=(null!=(s=e.navigation)?s:{}).max_count)?r:0,k=Math.ceil(w/C);let z=!1;return React.h(React.Fragment,null,React.h("div",{className:`${v.join(" ")} justify-content-${x?"center":"start"}`,"data-tab-uid":R},d.map((a=>React.h(G,{key:a.id,"data-item-id":a.id,product:a,params:e,styleCard:t})))),k>1&&m?React.h(O,{navigation:e.navigation,navigationCid:R,count:w,activePage:p,navigationClick:async(t,a)=>{if(z||!flexbe_cli.run.is_preview)return;$(this.base).addClass("loading").prepend('<div class="loader-products zone"><svg class="circular-loader infinite" viewBox="25 25 50 50"><circle class="circular-loader--path" cx="50" cy="50" r="19"></circle></svg></div>');let n=[];z=!0;try{if("button"===e.navigation.type&&$(t.target).parent().addClass("submitting"),"select_products"===i.show_type){const t=("pagination"===e.navigation.type?a-1:a)*C,o=t+C;n=i.products.slice(t,o),await Q({productIds:n})}else{const t="pagination"===e.navigation.type?a:a+1;n=await Q({categoryId:R,page:t,limit:C})}const o=flexbe_cli.ecommerce.productsStore.getProducts(n);if("button"===e.navigation.type){const e=p+1;h(e),g(!(e===k)),u([...d,...o])}else h(a),u(o),flexbe_cli.scroll.toElement($(this.base))}catch(t){console.error(t)}$(".flexbe-products .circular-loader").remove(),$(this.base).removeClass("loading"),"button"===e.navigation.type&&$(t.target).parent().removeClass("submitting"),z=!1}}):"")}function te({params:t,settings:i,categories:n,categoryStyle:o,categoriesEnabled:l}){var s,r,c,d,u,p,h;const m=null!=(s=i.style_card)?s:{},g=null!=(r="tabs"===o.style_category)?r:0,b=l&&g,v=null!=(c=o.hide_single_category)?c:0,f=n.length>1||1===n.length&&!v,_=[];g&&n.forEach((e=>_.push({title:e.name,id:e.id})));const y={list:_,styles:null!=(d=o.style_tab)?d:{},stylesMobile:null!=(u=o.adaptive.style_tab)?u:{}};let $=null!=(p=t.container_cols)?p:24;t.wide&&($=24);const R=null!=(h=t.adaptive.horizontal_padding)?h:0;return m.elements_list.find((e=>"options"===e.id))||flexbe_cli.is_admin||flexbe_cli.ecommerce.productsStore.initModalOptions(),n.length>1||""!==n[0].name||0!==n[0].count?React.h(React.Fragment,null,b&&f?React.h(a,{tabs:y,options:{rootClass:["container","container-tabs"]}}):"",n.map(((a,n)=>React.h("div",{className:`flexbe-products-container hor-padding-am-${R} ${b&&!n?"active":""} container layout-type-product col-${$} col-am-24`,"data-tab-uid":a.id,role:"tabpanel",tabindex:"0",hidden:b&&n},a.id?React.h("a",{className:"_anchor",name:`tab${a.id}`}):"",a.products.length>0?React.h(ee,{params:t,styleCard:m,category:a,source:i.source}):React.h(e,null))))):React.h(e,null)}flexbe_cli.entity.setClientJs("element","zone_products",{components:["backgroundElement","slider","image","icon","button"],require:["/_s/lib/preact/preact.min.js"],shouldInitTabs:!0,onLoad(){this.createStore(),this.render()},createStore(){var e,t,a,i,n;this.params=JSON.parse(null!=(e=this.$area.attr("data-params"))?e:"{}"),this.settings=JSON.parse(null!=(t=this.$area.attr("data-settings"))?t:"{}"),this.categories=JSON.parse(null!=(a=this.$area.attr("data-categories"))?a:"[]"),this.categoryStyle=JSON.parse(null!=(i=this.$area.attr("data-category-style"))?i:"{}"),this.categoriesEnabled=JSON.parse(null!=(n=this.$area.attr("data-categories-enabled"))?n:"1"),this.$area.removeAttr("data-params").removeAttr("data-settings").removeAttr("data-categories").removeAttr("data-category-style").removeAttr("data-categories-enabled")},render(){const e=this.$area.find(".zone-products__content-init")[0];React.render(null,e),React.render(React.h(te,{categories:this.categories,categoryStyle:this.categoryStyle,params:this.params,settings:this.settings,categoriesEnabled:this.categoriesEnabled}),e)}})}();

flexbe_cli.entity.setClientJs("element","zone",{components:["backgroundElement"],onInit(){this.setMeta()},onUpdate(){this.setMeta()},setMeta(){const i=this.lastViewport,e=this.lastVisibility;this.lastViewport=flexbe_cli.resize.viewportWidth,this.lastVisibility=flexbe_cli.is_admin&&$("body").hasClass("show-hidden"),this.needFixOrder=this.needFixOrder||this.lastViewport!==i||this.lastVisibility!==e},onResize(){this.inScreen&&this.isVisible&&this.fixElementOrder()},fixElementOrder(){if(this.setMeta(),!this.needFixOrder)return;this.needFixOrder=!1;const i=this.$area.find(".elements-list");i.find("[data-hidden]").length&&i.each(((i,e)=>{const t=$(e).find(".element-item--static"),s=t.filter(":visible");t.removeClass("is-first-child is-last-child"),s.first().addClass("is-first-child"),s.last().addClass("is-last-child")}))}});

flexbe_cli.entity.setClientJs("modal","BASIC",{components:["background","icon"],onOpen(){this.$scroll=this.$area.find(".scroller"),this.$content=this.$area.find(".modal-content"),this.$close=this.$scroll.find("> .close--outside"),this.dispatchClasses(),this.$scroll.on("scroll.close-check",$.throttle((()=>{this.dispatchClasses()}),60))},onClose(){this.$scroll.off("scroll.close-check")},dispatchClasses(){if("mobile"!==flexbe_cli.resize.responsiveMode||!this.$close.length)return;const s=this.$scroll[0].scrollTop,e=this.$content[0].offsetTop,l=this.$close[0].offsetHeight;this.$close.toggleClass("stuck",e-s<l)}});

flexbe_cli.entity.setClientJs("block","FOOTER",{components:["background"]});

flexbe_cli.entity.setClientJs("block","HEADER",{components:["background"],onLoad(){if(flexbe_cli.is_admin)return;const t=this.$area.attr("data-overlayed"),a=this.$area.attr("data-static-contrast")||this.$area.attr("data-contrast");if(t&&!a){const t=this.$area.nextAll(":visible:not([data-overlayed])").eq(0).attr("data-contrast");t&&(this.$area.attr("data-static-contrast",t),this.$area.attr("data-contrast",t))}}});

flexbe_cli.entity.setClientJs("block","PRODUCTS",{components:["background"]});

flexbe_cli.entity.setClientJs("element","avatar01",{components:["icon","image"]});
