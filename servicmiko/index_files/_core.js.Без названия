!function(){"use strict";function e(e){console.warn("video load error, gif fallback used");const t=e.querySelector("img");t&&e.parentNode.replaceChild(t,e)}function t(e){const t=document.cookie.match(new RegExp(`(?:^|; )${e.replace(/([$()*+./?[\\\]^{|}])/g,"\\$1")}=([^;]*)`));return t?decodeURIComponent(t[1]):void 0}function i(e,t,i={}){let o=i.expires;if("number"==typeof o&&o){const e=new Date;e.setTime(e.getTime()+1e3*o),o=e,i.expires=e}o&&o.toUTCString&&(i.expires=o.toUTCString());let n=`${e}=${t=encodeURIComponent(t)}`;Object.keys(i).forEach((e=>{n+=`; ${e}`;const t=i[e];!0!==t&&(n+=`=${t}`)})),document.cookie=n}function o(e){window.setCookie(e,"",{expires:-1})}function n(e){let t;if(e){const e=window.location.href.indexOf("?");if(-1===e)return[];t=window.location.href.substr(e+1)}else t=window.location.search.substr(1);const i={};return t.split("&").forEach((e=>{if(!e)return;const t=(e=e.split("+").join(" ")).indexOf("=");let o=t>-1?e.substr(0,t):e;const n=t>-1?s(e.substr(t+1)):"",a=o.indexOf("[");if(-1===a)i[s(o)]=n;else{const e=o.indexOf("]",a),t=s(o.substring(a+1,e));o=s(o.substring(0,a)),i[o]||(i[o]=[]),t?i[o][t]=n:i[o].push(n)}})),i}function s(e){try{return decodeURIComponent(e)}catch(t){return e}}function a(e,t=3,i=" "){return(e+="").split("").reverse().join("").match(new RegExp(`.{0,${t}}`,"g")).join(i).split("").reverse().join("").trim()}function r(e){e.preventDefault()}function l(e=!1){document.body[!0===e?"addEventListener":"removeEventListener"]("touchmove",r,!1)}const c=function(){const e=/(auto|scroll)/,t=(e,i)=>null===e.parentNode?i:t(e.parentNode,i.concat([e])),i=(e,t)=>getComputedStyle(e,null).getPropertyValue(t),o=(t,o)=>e.test(((e,t)=>i(e,t?`overflow-${t}`:"overflow"))(t,o));return(e,i)=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return;const n=t(e.parentNode,[]);for(let e=0;e<n.length;e+=1)if(o(n[e],i))return n[e];return document.scrollingElement||document.documentElement}}();let d;!function(s){s.videoImgFallback=e,s.getCookie=t,s.setCookie=i,s.deleteCookie=o,s.getJsonFromUrl=n,s.chunkSplit=a,s.freezeVp=r,s.preventBodyScrolling=l,s.scrollParent=c}(window),function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(d||(d={}));const u=function(){function e(e,t,i,o){return this.x=e,this.y=t,this.width=i,this.height=o,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Object.freeze(this)}return e.prototype.toJSON=function(){let e=this;return{x:e.x,y:e.y,top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),p="undefined"!=typeof window?window:{};/msie|trident/i.test(p.navigator&&p.navigator.userAgent);const h=function(e,t,i){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=!1),Object.freeze({inlineSize:(i?t:e)||0,blockSize:(i?e:t)||0})};Object.freeze({devicePixelContentBoxSize:h(),borderBoxSize:h(),contentBoxSize:h(),contentRect:new u(0,0,0,0)});class m{on(e,t){return this}one(e,t){return this}off(e,t){return this}trigger(e,...t){return this}emit(e,...t){return this}constructor(){!function(e){const t="*",i=$({}),o=new WeakMap;null==e&&(e={});const n=(e,t)=>(i,n)=>{const s=(e,...i)=>n.call(t,...i,...i);return o.set(n,s),e.on(i,s),t},s=(e,t)=>(i,n)=>{const s=(e,...i)=>n.call(t,...i,...i);return o.set(n,s),e.one(i,s),t},a=(e,i)=>(n=t,s)=>(n===t?e.off():e.off(n,o.get(s)),i),r=(e,i)=>(o,...n)=>(e.triggerHandler(o,n),e.triggerHandler(t,[o,...n]),i),l=r;Object.defineProperties(e,Object.entries({on:n,off:a,one:s,emit:l,trigger:r}).reduce(((t,[o,n])=>(t[o]={value:n(i,e),enumerable:!1,writable:!1,configurable:!1},t)),{}))}(this)}}var f=new m;const g=2160,_={avif:null,webp:null};function v(){var e;const t="object"==typeof flexbe_cli&&(null==(e=flexbe_cli.vars)?void 0:e._group.images)||{};return{lazy:!0,lazy_priority:!1,avif:!1,webp:!1,avif_support:_.avif||t.avif_support,webp_support:_.webp||t.webp_support,slow_network:!1,quality_map:{jpg:70,webp:70,avif:55}}}async function b(e){try{const t=new Image;return"decode"in t?(t.src=e,await t.decode(),!0):await new Promise((i=>{const o=t;o.onload=()=>i(!0),o.onerror=()=>i(!1),o.src=e}))}catch(e){return!1}}async function y(e){return new Promise(((t,i)=>{const o=new Image,n=()=>{t(o),setTimeout((()=>{"function"==typeof o.remove&&o.remove()}),10)};"decode"in o&&!/\.svg/.test(e)?(o.src=e,o.decode().then(n).catch(i)):(o.onerror=i,o.onload=n,o.src=e)}))}function w(e){if("string"!=typeof e)return e;e=e.replace(/(\/img\/[\d_q]+)\/[\w-]+(\.\w{3,4})/i,"$1$2");let[,t,i,o,n]=e.match(/\/img\/(\d+)_?(\d+)?_?q?(\d+)?\.(\w{3,4})/i)||[];return i=i?+i:0,o=o?+o:"none",{id:t,ext:n,name:`${t}.${n}`,size:i,quality:o}}function x(e,t){const i=t.avif_support,o=t.webp_support,n=t.avif,s=t.webp;let a=e.ext;return i&&n?a="avif":o&&s?a="webp":"webp"===e.ext&&(a=o?"webp":e.transparent?"png":"jpg"),a}function A(e,t=null,i=null){var o;i={...v(),...i};const{id:n,ext:s}=e;if(!n)return"";t||"webp"!==e.ext||i.webp_support||(t=Math.min(e.width||g,g));const a=null!=(o=e.animated)?o:"gif"===s,r=`/img/${n}.${s}`;if(!t||a||"svg"===s)return r;const l=x(e,i),c=i.slow_network&&z();let d=i.quality_map;switch(c&&(d={jpg:50,webp:50,avif:45}),l){case"png":return`/img/${n}_${t}.png`;case"avif":case"webp":case"jpg":return`/img/${n}_${t}_q${d[l]}.${l}`;case"gif":default:return r}}function k(e){const t=String(e).match(/\.(jpg|jpeg|png|gif|svg|bmp|webp)$/i);return t&&t[1]?t[1]:""}function C(e){return"transparent"!==e?e:"#000000"}function S(e){if("string"==typeof e&&(e=w(e)),!e||"object"!=typeof e)return{};let t=e.img_ext||e.ext;const i=e.img_id||e.id,o=e.img_name||e.name;t&&"false"!==t||(t=o?k(o):"jpg");const n=e.img_border||e.border;return{id:i,ext:t,average:C(e.img_average||e.average),preview:e.img_preview||e.preview||"",width:e.img_width||e.width||0,height:e.img_height||e.height||0,proportion:+(+e.img_proportion||+e.proportion||0).toFixed(2),border:n,animated:e.img_animated||e.animated||"gif"===t,transparent:e.img_transparent||e.transparent||0}}function R(e,t=0,i){return A(S(e),"number"==typeof t?Math.round(t):t,i)}async function O(e){let t=e,i=+e.proportion;if(i&&(i<2||i<5&&i%1>0)&&(i*=100),"string"==typeof t||!i){"object"==typeof t&&(t=R(e,50));const o=await y(t);i=o.naturalHeight/o.naturalWidth*100}return i}function z(){var e;return"4g"!==((null==(e=navigator.connection)?void 0:e.effectiveType)||"4g")}var T=Object.freeze({__proto__:null,checkFormatSupport:b,createUrl:A,getDefaultLoadingOptions:v,getExtensionFromFilename:k,getImage:S,getImageOptimalSize:async function(e,t,i){i={...v(),...i};const o=e.width||0,n=e.img_scale||e.scale||"cover",s=e.img_type||e.type||"background",a=t.height/t.width,r=await O(e)/100,l=i.slow_network&&z()?Math.min(1.5,window.devicePixelRatio):Math.min(2,window.devicePixelRatio),c=x(e,i);let d,u;return"image"===s||a>r&&"contain"===n||a<r&&"cover"===n?(d=t.width,u=d*r):(u=t.height,d=u/r),l>1&&(d*=l,u*=l),i.sizes&&(d=function(e,t){let i=(t=t.sort(((e,t)=>t-e)))[0];return t.forEach((t=>{e<i&&e<=t&&(i=t)})),i}(d,i.sizes),u=d*r),d<=150&&/webp|jpg/.test(c)&&(d=d/l*2,u=d*r),o&&d>o&&(d=o,u=d*r),d>g&&(d=g,u=d*r),{width:Math.ceil(d),height:Math.ceil(u)}},getImageProportion:O,getImageUrl:R,getOptimalExt:x,normalizeAverage:C,parseImageUrl:w,preloadImage:y,resolveImageSupports:async function(){var e,t;return _.avif=null!=(e=_.avif)?e:await b("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),_.webp=null!=(t=_.webp)?t:await b("data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"),_}});var I={init(){const e=document.getElementById("flexbe-vars-store");try{Object.assign(this,JSON.parse(e.getAttribute("data-store")))}catch(e){console.error("flexbe_cli.vars init error: ",e)}e.parentNode.removeChild(e)}};function E(e,t){let i=["screen"];return null!=e&&i.push(`(min-width: ${e}px)`),null!=t&&i.push(`(max-width: ${t}px)`),i=i.join(" and "),window.matchMedia(i).matches}const P={async init(){this.deviceInfo(),this.applyClasses(),await this.supportsInfo(),$(window).on("resize.deviceInfo",(()=>{this.deviceInfo()})),$(window).on("resized.deviceInfo",(()=>{this.applyClasses()})),flexbe_cli.events.on("hideShowUI",(e=>{this.is_preview="preview"===e,$(document.body).removeClass("mode--editor mode--preview").addClass(`mode--${e}`)}))},async supportsInfo(){const e=flexbe_cli.vars._group.images||{},[t,i]=await Promise.all([e.webp_support||b("data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"),e.avif_support||b("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=")]);e.webp_support=t,e.avif_support=i},deviceInfo(){var e,t;const i=null==(e=window.CSS)?void 0:e.supports("zoom",1),o=navigator.userAgent.toLowerCase();this.is_responsive=!!flexbe_cli.vars._page.responsive,this.is_screen_mobile=E(0,767),this.is_screen_mobile_scaled=i&&E(0,399),this.is_screen_desktop=E(768,1e4),this.is_screen_desktop_scaled=i&&E(768,1199),this.is_touch=window.matchMedia("(any-pointer: coarse)").matches,this.is_pointer=window.matchMedia("(any-hover: hover)").matches,this.is_tablet=/ipad|xoom|kindle|playbook|tablet/i.test(o),this.is_mobile=!this.is_tablet&&-1!==o.indexOf("mobile"),this.is_desktop=!this.is_mobile&&!this.is_tablet,this.is_chrome=/(chromium|chrome)\/(\d+)/.test(o),this.is_safari=-1!==o.indexOf("safari")&&(null==(t=o.match(/version\/(\d+)/))?void 0:t[1]),this.is_firefox=-1!==o.indexOf("firefox"),this.is_mobile_ie=-1!==o.indexOf("iemobile"),this.is_ie=-1!==o.indexOf("trident")||-1!==o.indexOf("msie"),this.is_EDGE=-1!==o.indexOf("edge"),this.is_OSX=/ipad|iphone|ipod|macintosh/gi.test(o),this.is_android=-1!==o.indexOf("android"),this.is_ios=this.is_OSX&&this.is_touch&&!this.is_desktop,this.is_preview=/is-view|mode--preview/.test(document.body.className),this.is_bot=/bot|aolbuild|bingpreview|msnbot|baidu|duckduckgo|mediapartners-google|teoma|slurp/gi.test(o),this.is_instagram=/instagram/i.test(o),this.is_mobile&&this.is_touch?this.device_type="mobile":this.is_tablet&&this.is_touch?this.device_type="tablet":this.device_type="desktop"},applyClasses(){const e=$(document.body);e.toggleClass("is-mobile",P.is_mobile),e.toggleClass("is-tablet",P.is_tablet),e.toggleClass("is-desktop",P.is_desktop),e.toggleClass("is-pointer",P.is_pointer),e.toggleClass("is-touch",P.is_touch),e.toggleClass("is-ios",!!P.is_ios),e.toggleClass("is-android",P.is_android),e.toggleClass("is-osx",P.is_OSX&&P.is_desktop),e.toggleClass("is-safari",!!P.is_safari),P.is_safari&&e.addClass(`is-safari-${P.is_safari}`),e.toggleClass("is-edge",P.is_EDGE),e.toggleClass("is-firefox",P.is_firefox),e.toggleClass("is-chrome",P.is_chrome),e.toggleClass("is-instagram",P.is_instagram)}};let M;var D=new class{constructor(){this.containerWidth=null,this.oldWidth=null,this.oldHeight=null,this.lockedMode=!1,this.responsiveMode=null,this.clientWidth=null,this.clientHeight=null,this.lockedViewport=!1,this.viewportWidth=null,this.viewportHeight=null,this.proportion=null,this.zoom=1}init(){this.simulateWindowResized(),this.simulateDocumentResize(),this.updateSizes({triggerResize:!1}),this.watchContainerSize(),this.applySizeVariablesOnResize()}trigger(e,t=window){t.dispatchEvent(new CustomEvent(e))}updateSizes({width:e,height:t,proportion:i=null,triggerResize:o=!0,lockViewport:n}){var s,a,r;const l=document.documentElement.clientWidth,c=window.innerHeight,d=null!=(s=this.scrollbarWidth)?s:window.innerWidth-l;e=null!=(a=e)?a:this.lockedViewport?this.viewportWidth:l,t=null!=(r=t)?r:this.lockedViewport?this.viewportHeight:c,e=Math.min(e,l),t=Math.min(t,c);const u=e>=768&&e<=1199;(u||e>=0&&e<=399)&&(e=u?1200:400),this.oldWidth=this.clientWidth,this.oldHeight=this.clientHeight,this.scrollbarWidth=d,this.clientWidth=l,this.clientHeight=c,this.viewportWidth=e,this.viewportHeight=t,null!=i&&(this.proportion=i),null!=n&&(this.lockedViewport=n),this.lockedMode||(this.responsiveMode=P.is_responsive&&e<=767?"mobile":"desktop"),o&&(this.trigger("resize"),this.trigger("resized"))}setZoom(e){this.zoom=e,this.trigger("resized")}lockMode(e){this.lockedMode=e}applySizeVariablesOnResize(){const e=P.is_desktop||flexbe_cli.is_admin?10:120,t=$(document.documentElement),i=$(document.body),o=()=>{const o=Math.round(this.proportion?this.viewportWidth/this.proportion:this.viewportHeight);(!this.coverHeight||Math.abs(this.coverHeight-o)>e)&&(this.coverHeight=o),t.css("--zoom",this.zoom),t.css("--100vw",`${this.viewportWidth}px`),t.css("--100vh",`${this.viewportHeight}px`),t.css("--cover",this.coverHeight/this.zoom+"px"),t.css("--heroHeight",`${this.coverHeight}px`),t.css("--scrollbarWidth",`${this.scrollbarWidth}px`),i.toggleClass("adaptive-mobile","mobile"===this.responsiveMode),i.toggleClass("adaptive-desktop","desktop"===this.responsiveMode)};o(),P.is_ios&&setTimeout((()=>o()),150),$(window).on("resized.setVars",(()=>o()))}watchContainerSize(){const e=()=>{const e=document.createElement("div");e.classList.add("container"),requestAnimationFrame((()=>{document.body.appendChild(e),this.containerWidth=e.offsetWidth,document.body.removeChild(e)}))};e(),$(window).on("resized.setContainer",(()=>e()))}simulateWindowResized(){let e,t=this.oldWidth,i=this.oldHeight;$(window).on("resize orientationchange",(o=>{o.originalEvent&&(this.updateSizes({triggerResize:!1}),clearTimeout(e),e=setTimeout((()=>{this.oldWidth=t,this.oldHeight=i,t=this.clientWidth,i=this.clientHeight,this.trigger("resized")}),80))}))}simulateDocumentResize(){requestAnimationFrame((()=>{this.documentHeight=document.body.offsetHeight}));const e=flexbe_cli.is_admin?200:80,t=(e=0)=>{const t=document.body.offsetHeight;Math.abs(t-this.documentHeight)>=5&&(this.documentHeight=t,this.trigger("documentresize",document),clearTimeout(M),M=setTimeout((()=>{this.trigger("documentresized",document)}),e))};if("function"==typeof ResizeObserver){let i=!0;new ResizeObserver((()=>{i?i=!1:t(e)})).observe(document.querySelector("body"))}else setInterval((()=>{t(0)}),e)}};const N=[];function L(e="",t=(()=>{}),i=15e3,o=!1){if(e&&0!==e.length||t(!1),!o){"string"==typeof e&&(e=[e]);let o=0;const n=i=>{const n=e.every((e=>"boolean"==typeof N[e]));o+=1,n&&o===e.length&&t(i)};return Array.isArray(e)&&e.forEach((e=>{L(e,n,i,!0)})),!1}if(!0===N[e])t(!0);else if(Array.isArray(N[e]))N[e].push(t);else{let o,n=!1;const s=(t=!0)=>{if(n)return;n=!0,clearTimeout(o);const i=N[e];N[e]=t,i.forEach((e=>{"function"==typeof e&&e(t)}))};if(N[e]=[t],/\.css(\?.*)?$/.test(e)){const t=document.createElement("link");t.onerror=s.bind(this,!1),t.onload=s.bind(this,!0),o=setTimeout(s.bind(this,"timeout"),i),t.rel="stylesheet",t.href=e,document.body.appendChild(t)}else{const t=document.createElement("script");t.onload=s.bind(this,!0),t.onerror=s.bind(this,!1),o=setTimeout(s.bind(this,"timeout"),i),t.async=!0,t.src=e,document.body.appendChild(t)}}}const q={inScroll:!1,skip:!1,_latest:null,get latest(){const e=D.zoom||1;return this._latest/e},init(){requestAnimationFrame((()=>{this._latest=window.scrollY})),document.addEventListener("wheel",(()=>{this.$inScrollElement&&(this.$inScrollElement.stop(),this.$inScrollElement=null)}),{passive:!0}),document.addEventListener("scroll",(()=>{this.inScroll=!0,this._latest=window.scrollY}),{passive:!0}),document.addEventListener("scrollend",(()=>{this.inScroll=!1}),{passive:!0}),this.scrollLock.init(),this.scrollImprovement.init(),flexbe_cli.vars._group.smoothing_scroll.enabled&&(flexbe_cli.is_admin?flexbe_cli.events.off("hideShowUI.core-scroll").on("hideShowUI.core-scroll",(e=>{"preview"===e?this.scrollSmoothing.init():this.scrollSmoothing.destroy()})):this.scrollSmoothing.init())},scrollImprovement:{scrollTimer:0,pointerState:!1,init(){this.createStopScrollEvent(),this.scrollRestore()},createStopScrollEvent(){let e=q.latest;document.addEventListener("scroll",(()=>{const t=e>q.latest?"up":"down",i=Math.max(q.latest-e,e-q.latest);clearTimeout(this.scrollTimer),this.scrollTimer=setTimeout((()=>{e=q.latest,document.dispatchEvent(new CustomEvent("scrollend",{detail:{direction:t,distance:i}}))}),200)}),{passive:!0})},scrollRestore(){window.history.scrollRestoration&&(window.history.scrollRestoration="auto")}},scrollSmoothing:{loaded:!1,lenisInstance:null,instances:[],loadLib(){return!!this.loaded||new Promise((e=>{L(["/_s/lib/lenis/lenis.min.js"],(()=>{this.loaded=!0,e(!0)}))}))},async init(){const e=document.querySelectorAll(".scroller");await this.loadLib(),this.instances.push(new window.Lenis({duration:2})),e.length&&e.forEach((e=>{const t=new window.Lenis({duration:2,wrapper:e});this.instances.push(t)}));const t=e=>{this.instances.forEach((t=>{t.raf(e)})),requestAnimationFrame(t)};requestAnimationFrame(t),document.addEventListener("bringIntoView",(()=>{this.instances.forEach((e=>{e.stop(),e.start()}))}))},destroy(){this.instances&&this.instances.forEach((e=>{e.destroy()}))}},scrollLock:{loaded:!1,locked:!1,init(){this.loaded||L(["/_s/lib/scroll-lock/scroll-lock.min.js"],(()=>{this.loaded=!0,window.scrollLock._state.lockableSelectors=["html","[data-scroll-lock-lockable]"],window.scrollLock._state.scrollableSelectors=["[data-scroll-lock-scrollable]",".scroller",".scrollable"],window.scrollLock._state.fillGapSelectors=["html","[data-scroll-lock-lockable]","[data-scroll-lock-fill-gap]"],this.locked&&(window.scrollLock.disablePageScroll(),D.trigger("resized"))}))},lock(){this.locked=!0,void 0!==window.scrollLock&&(window.scrollLock.disablePageScroll(),D.trigger("resized"))},unlock(){this.locked=!1,void 0!==window.scrollLock&&(window.scrollLock.clearQueueScrollLocks(),window.scrollLock.enablePageScroll(),D.trigger("resized"))}},to(e){document.scrollingElement.scrollTo(0,e)},toElement(e,t={}){const i=$(e);if(!(e=i[0]))return!1;null==t.animation&&(t.animation=!0),null==t.centered&&(t.centered=!0),null==t.force&&(t.force=!0);let o,n=0,s=0,a=window.scrollParent(e,"y");a&&!$(a).is(".b_block, .container-list")||(a=document.scrollingElement);const r=t.padding||0,l=a===document.body||a===document.documentElement,c=l?flexbe_cli.resize.clientHeight:a.offsetHeight,d=i.offset().top,u=e.offsetHeight,p=l?$("html, body"):$(a);P.is_mobile?o=p.find(".menu-fixed > .nav-header"):4===flexbe_cli.theme_id?s=flexbe_cli.fixed.getAllFixedHeight(d):o=p.find('.floating[data-floating="true"]'),o&&o.length&&(s+=o[0].offsetHeight-2);const h=Math.max(0,c-s-u);if(u>=c&&(t.centered=!1),n=t.centered?d-Math.max(0,h/2)-s:d-r-s,t.offset&&(n+=t.offset),!t.force){const e=a.offsetTop,o=i[0].getBoundingClientRect();if(o.top>=e&&o.bottom<=e+c)return"function"==typeof t.complete&&t.complete(),!1}this.$inScrollElement=p,$(document).off("documentresize.scrollTo").on("documentresize.scrollTo",(()=>{this.toElement(e,t)})),p.stop(),p.animate({scrollTop:n},{delay:t.delay||0,duration:t.duration?t.duration:t.animation?450:0,easing:t.animation?"swing":"linear",always:(...e)=>{this.$inScrollElement=!1,$(document).off("documentresize.scrollTo"),"function"==typeof t.complete&&t.complete(...e)}})}};function F(e,t=!1){const i=window.parent||window;if(!e)return console.warn("WRONG ACTION","empty_link"),void(flexbe_cli.is_admin&&f.trigger("editor_page_error",{type:"action",error:"link_is_wrong"}));flexbe_cli.is_admin?f.trigger("editor_leave_page",{href:e}):i.location.host===window.location.host?t?i.open(e,"_blank").focus():i.location.href=e:window.location.href=e}function V(e="",{blank:t}={}){if("string"!=typeof e)return!1;if(!/#{1,2}.+/.test(e))return F(e,t),!0;{4===flexbe_cli.theme_id&&$('nav[data-opened="true"]').length&&f.trigger("ui_mobilemenu_close",{}),4!==flexbe_cli.theme_id&&$(".mobile-menu.show").length&&$(".mobile-menu").removeClass("show").trigger("close");const t=(e=e.replace(/^\.\/#{2}/,"#").trim()).trim().split("#"),i=t[t.length-1];if(!(""===t[0]||"./"===t[0]||t[0]===new URL(document.baseURI).pathname))return F(e),!0;const o=$(`._anchor[name="${i}" i]`),n=o.length?o.closest("[data-id]"):$(`[data-id="${i}" i]`),s=n.closest(".b_block").filter(":visible"),a=n.closest(".m_modal");if((o.length||n.length)&&function(e){const t=$(e).eq(0);if(t.length){const e=new Event("bringIntoView",{bubbles:!0,cancelable:!0});t[0].dispatchEvent(e)}}(o.length?o:n),"cart"===i)f.trigger("ui_modal_close",{}),f.trigger("ui_cart_open",{});else if(s.length)f.trigger("ui_cart_close",{}),f.trigger("ui_modal_close",{}),setTimeout((()=>{let e=s;if(n&&!s.is(n)){const t=s.offset().top;n.offset().top-t>D.viewportHeight-100&&(e=n)}e.is(":visible")&&q.toElement(e)}),30),window.history.replaceState(null,null,`#${i}`);else if(a.length){const e=a.data("id");f.trigger("ui_cart_close",{}),f.trigger("ui_modal_open",{id:e})}else window.location.hash=`#${i}`}}function B(e=document){$(e).find("[data-product]").each(((e,t)=>{const i=$(t);let o=i.data("product");i.removeAttr("data-product"),(null==o||"object"==typeof o&&!Object.keys(o).length)&&(o=null),null!==o?i.data("product",o):i.removeData("product")}))}var j=Object.freeze({__proto__:null,fixProductData:B,gotoLink:V});function H(){if(flexbe_cli.lockPopstate)return;const e=window.location.hash||window.parent.location.hash;flexbe_cli.lockPopstate=!0,/^#/.test(e)?V(e):Object.keys(flexbe_cli.modal.opened).length&&f.trigger("ui_modal_close"),flexbe_cli.lockPopstate=!1}const W=new WeakMap,U=new WeakMap;function G(e,t=!0){e.updateTween({force:t})}function K(e,t,i){W.set(e,setTimeout((()=>{W.delete(e),i&&i()}),t))}function Y(e,t,i=80){const o="object"==typeof e?e:document.querySelector(`[data-id="${e}"]`),n=null==o?void 0:o._core;n&&(W.get(n)?U.set(n,!0):(G(n,t),K(n,i,(()=>{U.get(n)&&(U.set(n,!1),G(n,t),K(n,i))}))))}var J=Object.freeze({__proto__:null,forceUpdateTween:Y});function Q(e){if(!e||!e.offsetParent)return null;let t=0,i=0;for(;e;){if("fixed"===$.css(e,"position")){t+=window.scrollY,i+=window.scrollX;break}t+=e.offsetTop-e.scrollTop,i+=e.offsetLeft-e.scrollLeft,e=e.offsetParent}return{top:Math.round(t),left:Math.round(i)}}function X(e,t=[]){return null==e.parentNode?t:X(e.parentNode,[...t,e])}function Z(e){const t=/(auto|scroll)/,i=getComputedStyle(e,null);return["overflow","overflow-y","overflow-x"].some((e=>t.test(i.getPropertyValue(e))))}function ee(e="",t={}){return new Promise(((i,o)=>{$.ajax({url:e,type:t.type||t.method||"POST",dataType:"json",...t}).done((e=>{i(e)})).fail((e=>{const t=e.responseJSON,i=t?new Error(t.message):e;i.status=e.status,i.data=t,o(i)}))}))}var te={fetch:ee,upload:function(e,t={}){t={onSuccess:()=>{},onComplete:()=>{},onError:()=>{},onProgress:()=>{},...t};const i=new FormData;i.append("file",e);const o=$.ajax({url:"/mod/file/lead/upload/",type:t.type||t.method||"POST",dataType:"json",processData:!1,contentType:!1,data:i,success:(e,i)=>{t.onSuccess(e,i)},error:(e,i)=>{t.onError(e,i)},complete:(e,i)=>{t.onComplete(e,i)},xhr:()=>{const e=new window.XMLHttpRequest;return e.upload.addEventListener("progress",(e=>t.onProgress(o,e))),e},...t});return o},dom:Object.freeze({__proto__:null,getElOffset:Q,getParents:X,isScrollable:Z,scrollParent:function(e){if(!e||!e.parentNode)return;const t=e.ownerDocument||document,i=X(e.parentNode,[]);for(let e=0;e<i.length;e++)if(Z(i[e]))return i[e];return t.scrollingElement||t.documentElement}}),links:j,image:T,entity:J};const ie=[".layout-type-header",".layout-type-tabs",".layout-type-column",".layout-type-product",".flexbe-cards-container.mode-slider",".content-zone--vertical.bg-element",".content-zone--vertical:not(.bg-element) .element-item--static",".flexbe-card:not(.swiper-slide)",".quiz-progress",".step-title",".quiz-fields"].join(","),oe=[".free-area .element-item"].join(",");var ne={startTransitions(e){const t=$(e);if(flexbe_cli.is_admin)return t.addClass("was-view"),void t.removeClass("wait-animation");const i=t.find(oe);let o=t.find(ie);o=o.filter(((e,t)=>0===$(t).find(o).length));const n=Math.min(80,1e3/o.length),s=1e3+o.length*n;o.css("--transitionDelay",(e=>e*n+"ms")),o.addClass("transition-target"),i.addClass("transition-target"),setTimeout((()=>{t.addClass("was-view")}),200),setTimeout((()=>{this.stopTransition(t,o)}),200+s)},stopTransition(e,t){const i=$(e);let o=$(t);o.length||(o=i.find(t),o=o.filter(((e,t)=>0===$(t).find(o).length))),i.removeClass("wait-animation"),o.removeClass("transition-target"),o.css("--transitionDelay",""),i.trigger("flexbe-transition-end")}};const se={quiz:"quiz_start",modal:"modal_open",modal_form:"form_open",modal_done:"done_open",modal_product:"product_show",order_done:"order_done",pay_done:"pay_done",cart:"add_to_cart",link:"link_open",file:"file_load",close:"modal_close",app_link:"app_link_open"},ae={time:0,get u_id(){return localStorage.getItem("f_uid")||0},set u_id(e){try{localStorage.setItem("f_uid",String(e))}catch(e){}},init(){if(flexbe_cli.is_admin||flexbe_cli.is_service||flexbe_cli.run.is_bot||!flexbe_cli.p_id)return;const{delayed_counters_ms:e}=flexbe_cli.vars._group.optimization;setTimeout((()=>{const e=window.getCookie("f_uid")||this.u_id;e?(this.u_id=e,async function(){try{const e=await ee("/mod/stat/visit/",{data:{s_id:flexbe_cli.s_id,group_id:flexbe_cli.group_id,p_id:flexbe_cli.p_id,u_id:ae.u_id}});e.v_id||console.warn("Visit was not registered",e)}catch(e){console.error("Visit was not registered",e)}}()):async function(){try{const e=await ee("/mod/stat/",{data:{s_id:flexbe_cli.s_id,group_id:flexbe_cli.group_id,p_id:flexbe_cli.p_id,utm_data:re(),device:{type:flexbe_cli.run.device_type,width:flexbe_cli.resize.clientWidth,height:flexbe_cli.resize.clientHeight,dpi:window.devicePixelRatio,browser:navigator.userAgent}}});window.setCookie("f_uid",e.u_id,{Path:"/"}),ae.u_id=e.u_id,f.trigger("user_created")}catch(e){console.warn("Cookie visit not created",e)}}()}),e),this.AB.init(),this.ecommerce.init(),this.QUIZ.init()},getGoal:(e,t)=>("modal"===e&&(/form/.test(t)?e="modal_form":/done/.test(t)?e="modal_done":/product/.test(t)?e="modal_product":/quiz/.test(t)&&(e="quiz")),se[e]||!1),reachGoal(e,t={}){!flexbe_cli.is_admin&&e&&(t={goalAction:"send",goalValue:"",...t},f.trigger("reach_goal",{name:e,params:t}))},reachGoals(e={},t={}){if(flexbe_cli.is_admin||flexbe_cli.is_service||flexbe_cli.run.is_bot||!flexbe_cli.p_id)return;const i=`${e.goal||""}`.trim(),o=`${e.mainGoal||""}`.trim(),n=`${e.htmlGoal||""}`.trim();if(o&&this.reachGoal(o,t),i)try{this.reachGoal(i,t)}catch(e){console.warn("reachGoals [goal]: ",e.message)}if(n)try{const e=n.replace(/{{\s*goalAction\s*}}/g,t.goalAction||"").replace(/{{\s*goalValue\s*}}/g,t.goalValue||"").replace(/(["']?){{\s*goalParams\s*}}\1/g,JSON.stringify(t.goalParams||{}));let i=$('<div style="display:none"></div>').append(e);i.children().length||(i=$(`<script type="module">${e}<\/script>`)),$("body").eq(0).append(i),setTimeout((()=>{i.remove()}),1e3)}catch(e){console.warn("reachGoals [htmlGoal]: ",e.message)}},ecommerce:{inited:!1,init(){this.inited=!0,window.dataLayer||(window.dataLayer=[])},add(e){this.inited||this.init(),window.dataLayer.push({ecommerce:{currencyCode:flexbe_cli.locale.currency.code,add:{products:[this._normalizeItem(e)]}}})},remove(e){this.inited||this.init(),window.dataLayer.push({ecommerce:{currencyCode:flexbe_cli.locale.currency.code,remove:{products:[this._normalizeItem(e)]}}})},purchase(e,t){if(e||0!==e.length){this.inited||this.init(),t||(t=Math.ceil(1e4*Math.random()));try{window.dataLayer.push({ecommerce:{currencyCode:flexbe_cli.locale.currency.code,purchase:{actionField:{id:t},products:e.map((e=>this._normalizeItem(e)))}}})}catch(e){}}},_normalizeItem(e){var t,i,o;return{id:e.id,name:e.name||e.title,price:null!=(t=e.price)?t:e.orderPrice,brand:null!=(i=e.brand)?i:e.vendorCode,variant:e.optionsInfo?e.optionsInfo.map((e=>e.name)).join(", "):"",quantity:null!=(o=e.count)?o:e.quantity}}},AB:{process:{},init(){f.off("entity_event.abstat").on("entity_event.abstat",(({type:e,core:t,params:i})=>{if(!t||"view"!==e||!i.state||!i.first)return;const{abtestId:o,abtestVariant:n}=t;n&&this.fixView(o,n)}))},setCookie(e){window.setCookie("f_ab",JSON.stringify(e),{expires:604800,path:"/",domain:document.location.hostname})},getCookie(){let e=window.getCookie("f_ab");if(e)try{e=JSON.parse(decodeURIComponent(e))}catch(e){console.warn("Can`t parse abtest cookie",e)}return e||(e={view:{},lead:[]}),e},async fixView(e,t){if(null==e||null==t||"a"!==t&&"b"!==t)return;if(null==this.getCookie().view[e]&&!this.process[e]){this.process[e]=!0;try{await ee("/mod/stat/abtest/",{data:{testId:e,variant:t,s_id:flexbe_cli.s_id,p_id:flexbe_cli.p_id}});const i=this.getCookie();i.view[e]=t,this.setCookie(i)}catch(e){console.error("Can't fix abtest",e)}this.process[e]=!1}}},QUIZ:{inited:!1,init(){this.inited||(this.inited=!0,f.on("quiz_event.stat",((e={})=>{const t=e.payload||{};if(!["step","submit"].includes(e.event))return;if("step"===e.event&&!t.toNext)return;const i=e.quiz,o=i.$area.attr("data-page-id"),n=e.answerGoals,s=e.resultGoals,a=i.core.id,r=t.fromAnswers||[],l=t.toId,c=t.sessionId,d=t.fromId,u=r.reduce(((e,t)=>e.concat((t.variants||[]).map((e=>e.id)))),[]);if(this.fixAnswer({sessionId:c,sectionId:a,answerStep:d,answerVariants:u,viewStep:l,pId:o}),n){const e="answer";r.forEach((t=>{if(t.variants&&t.variants.length)t.variants.forEach((t=>{const i=t.value;ae.reachGoals(n,{goalAction:e,goalValue:i})}));else{let i=t.value||"";["email","phone","name"].includes(t.type)&&(i=""),ae.reachGoals(n,{goalAction:e,goalValue:i})}}))}s&&ae.reachGoals(s)})))},fixAnswer({sectionId:e,sessionId:t,answerStep:i,viewStep:o,answerVariants:n,pId:s}){let a;function r(){return ee(a,{data:{s_id:flexbe_cli.s_id,group_id:flexbe_cli.group_id,f_uid:ae.u_id,page_id:s||flexbe_cli.p_id,session_id:t,section_id:e,answer_step:i,answer_variants:n,view_step:o}})}o&&i?a="/mod/quiz/stat/save/composite/":i?a="/mod/quiz/stat/save/answer/":o&&(a="/mod/quiz/stat/save/view/"),a&&(ae.u_id?r():f.one("user_created",(()=>{r()})))}}};function re(){const e=function(e){const t={};for(let i=0;i<e.length;++i){const o=e[i].split("=");2===o.length&&(t[o[0]]=decodeURIComponent(o[1].replace(/\+/g," ")))}return t}(window.location.search.substr(1).split("&")),t={};return $.each(e,((e,i)=>{"utm_"===e.substring(0,4)&&(t[e]=i)})),document.referrer&&(t.url=document.referrer),t}const le=(e,t=2,i=",",o=".")=>{let n,s;Number.isNaN(t=Math.abs(t))&&(t=2),n=`${parseInt(e=(+e||0).toFixed(t),10)}`,(s=n.length)>3?s%=3:s=0;return(s?n.substr(0,s)+o:"")+n.substr(s).replace(/(\d{3})(?=\d)/g,`$1${o}`)+(t?i+Math.abs(e-n).toFixed(t).replace(/-/,"0").slice(2):"")},ce={language:"en",country:"US",currency:{code:"USD",symbol:"$"},date_format:{dateLiteral:"/",dateMask:"DD/MM/YYYY",firstDay:1,dateTimeLiteral:", ",hour12:!1,timeLiteral:":",timeMask:"HH:MM"},translation:{},currency_format:{},tr(e,t){if(!e)return"";const i=/^currency/.test(e)?this.currency:this.translation,o=String(e).replace(/^currency\./,"").split(/\.|:{2}/).reduce(((e,t)=>e&&e[t]),i)||"";return o?this.interpolate(o,t):e},interpolate(e,t={}){const i=e=>{const t=e%100,i=t%10;return 11!==t&&1===i?"one":i>=2&&i<=4&&!(t>=12&&t<=14)?"few":"many"},o=e=>1!==e?"other":"one",n=e=>1===e?"one":e>=2&&e<=4?"few":"many",s={en:o,by:i,cs:n,cz:n,cs_CZ:n,fr:e=>e>1?"other":"one",ge:o,de:o,it:o,kz:o,pl:e=>{if(1===e)return"one";const t=e%10;return t>=2&&t<=4&&(e%100<10||e%100>=20)?"few":"many"},pt:o,ro:o,ro_RO:o,ru:i,es:o,ua:i,lv:e=>{var t;return 0===e?"zero":(null!=(t=e%10==1)?t:e%100==11)?"one":"other"},th:()=>"other",tr:o,hu:o};return Object.keys(t).forEach((i=>{if("_"!==i&&t.hasOwnProperty(i)){if(e instanceof Object){const o=t[i];e=e[s[ce.language](o)]}e=e.replace(new RegExp(`%${i}%`,"g"),t[i])}})),e},parseMoney(e,t=2){const i=(e=String(e).replace(/,/g,".").replace(/ /g,"").replace(/(?!^)-/g,"").replace(/^\./g,"0.")).replace(/[^\d.]/g,"");let o=((i.match(new RegExp(`\\.\\d{1,${t}}$`))||[])[0]||"").replace(/\D/g,""),n=i.replace(new RegExp(`\\.${o}$`),"");n=parseInt(n.replace(/[^\d-]/g,""),10)||0,parseInt(o,10)||(o="");const s=parseFloat(o?`${n}.${o}`:n);return/^-/.test(e)?-s:s},formatMoney(e,{currencyFormat:t=this.currency_format,currencyData:i=this.currency,freeLabel:o=!1,useNonBreakingSpace:n=!1}={}){if(!(e=parseFloat(e))&&o)return ce.tr("cart::free_price");const s=t.str,a=t.d,r=Math.abs(e)>=1e4?t.t:"",l=t.d_force||parseInt(e,10)!==e?i.decimals:0,c=le(Math.abs(e),l,a,r);let d=c;return s&&(d=s.replace(":value",c).replace(":symbol",i.symbol),n&&(d=d.replace(/\s/g,"&nbsp"))),e<0&&(d=`-${d}`),d.trim()},dateToLocaleTimezone(e){if(!e)return null;const t=flexbe_cli.vars._group.timezone||"UTC",i=new Date,o=new Date(i.toLocaleString("en-US",{timeZone:t}));i.setMilliseconds(0),o.setMilliseconds(0);const n=i.getTime()-o.getTime(),s=new Date(e.slice(0,19).replace("T"," "));return new Date(s.getTime()-n)},formatNumber(e,t,i=this.currency_format){const o=i.d,n=Math.abs(e)>=1e4?i.t:"";return t=null!=t?t:i.d_force||parseInt(e,10)!==e?this.currency.decimals:0,le(Math.abs(e),t,o,n)},animateNumber({target:e,from:t,to:i,asMoney:o,freeLabel:n=!0,duration:s,easing:a}){if(!e)return!1;const r=$(e);null==t&&(t=this.parseMoney(r.text())||"");const l=Math.abs(t-i);if(t===i)return;e._animation&&(e._animation.pause(),e._animation.reset());if(o&&(!i||!t)||l<3||"function"!=typeof anime)r.text(o?this.formatMoney(i,{freeLabel:n}):i);else{const c={value:t};null==s&&(s=Math.max(150,Math.min(.3*l,650))),null==a&&(a="linear"),e._animation=anime({targets:c,value:i,duration:s,easing:a,update:()=>{const e=Math.floor(c.value),t=o?this.formatMoney(e,{freeLabel:n}):e;r.text(t)},complete:()=>{const e=o?this.formatMoney(i,{freeLabel:n}):i;r.text(e)}})}},...flexbe_cli.locale||{}},de="hover";var ue={init(){this.adaptiveHoverInit(),this.initIosHacks(),this.initFontsHacks()},adaptiveHoverInit(){let e="touchstart.adaptive_hover_in";flexbe_cli.run.is_desktop&&(e=`${e} mouseenter.adaptive_hover_in`),$(document).on(e,".js-hover",(function(e){const t=$(e.currentTarget),i=`adaptive_hover_out_${Math.floor(1e6*Math.random())}`;t.addClass(de),flexbe_cli.run.is_desktop&&t.one(`mouseleave.${i}`,o);function o(){t.off(`.${i}`),$(document).off(`.${i}`),t.removeClass(de)}$(document).one(`touchend.${i}`,o)}))},initIosHacks(e="body"){flexbe_cli.run.is_ios&&($("> *",e).off("click.iosHacks").on("click.iosHacks",(()=>!0)),$("a, [data-action-target]",e).off("click.iosHacks").on("click.iosHacks",(()=>!0)))},initFontsHacks(){const e=getComputedStyle(document.documentElement),t=parseFloat(e.getPropertyValue("--fontSize")),i=t/parseFloat(e.getPropertyValue("font-size"));1!==i&&document.documentElement.style.setProperty("--fontSize",t*i+"px")}};const pe={content:"",contentAsHTML:!0,theme:"dark",animation:"fall",animationDuration:[250,180],delay:[180,100],position:"top",autoClose:!0,hideOnClick:!1,interactive:!1,distance:3,maxWidth:350,IEmin:12,trigger:"custom",triggerOpen:{click:!1,touchstart:!1,mouseenter:!0},triggerClose:{click:!1,originClick:!1,mouseleave:!0,touchleave:!0}};var he={async init(e,t={}){var i,o;if(!e)return!1;let n;await(async()=>{const e=flexbe_cli.vars,t=e._page.themeId,i=e._globals.versionId;return new Promise((e=>{L(["/_s/lib/jquery/tooltipster/tooltipster.patched.min.js",`/_s/build/theme/${t}/_tooltipster.css?${i}`],e)}))})();const s=$(e),a={...pe,...t,content:null!=(i=null!=(o=t.content)?o:s.attr("data-tip"))?i:e.innerHTML};a.theme=`tooltipster-${(s.attr("data-theme")||a.theme||pe.theme).replace("tooltipster-","")}`,a.maxWidth=parseInt(s.attr("data-width"),10)||a.maxWidth,a.position=s.attr("data-tip-position")||a.position;const r=a.content||"";if(null==$.fn.tooltipster)return console.warn("Tooltipster is not loaded"),!1;try{n=s.tooltipster("instance")}catch(e){}return n||r?(n?(clearTimeout(n._contentTmt),r&&r!==n.content()?(n.content(r),n.enable()):r||this.destroy(e)):(e.tooltipstered=!0,s.tooltipster(a),n=s.tooltipster("instance"),n.on("created",(()=>{s.attr("data-tooltipstered","true"),n._$tooltip.addClass("editor-ui")})),n.on("destroy",(()=>{e.tooltipstered=!1,s.removeAttr("data-tooltipstered")})),n.on("ready",(()=>{n.reposition()}))),t.show&&n.open(),n):void 0},destroy(e){if(!e)return!1;let t;const i=$(e);try{t=i.tooltipster("instance")}catch(e){}t&&(t.destroy(),e.tooltipstered=!1,i.removeAttr("data-tooltipstered"))}};let me=!1;const fe="f_cookies_allowed";var ge=new class{constructor(){this.cookieApplied=!1,this.params={show:0,dont_set_if_not_agree:0,use_custom_warning_text:0,custom_warning_text:"",policy_uri:"",style:"right_bottom"}}init(){setTimeout((()=>requestAnimationFrame((()=>{this.params={...this.params,...flexbe_cli.vars._group.cookies_warning||{}},flexbe_cli.is_admin||flexbe_cli.is_service||99===flexbe_cli.theme_id||!this.params.show||localStorage.getItem(fe)||me||this.createNotify()}))),1e3)}createNotify(){const e=this.params,t=$("body"),i=D.viewportHeight/2,o="/\\r\\n|\\r|\\n/g";let n=flexbe_cli.scroll.latest,s=0;if(me=!0,+e.use_custom_warning_text&&e.custom_warning_text)this.content=e.custom_warning_text.replace(o,"<br />");else{const t="center_compact"===e.style?"cookies.compact_text":"cookies.long_text";this.content=flexbe_cli.locale.tr(t)}const a=e.button_text&&e.use_custom_warning_text?e.button_text.replace(o,"<br />"):flexbe_cli.locale.tr("cookies.button"),r=e.link_text?e.link_text.replace(o,"<br />"):flexbe_cli.locale.tr("cookies.button_link"),l=e.policy_uri?e.policy_uri.replace(o,"<br />"):"/legal/cookie-policy/",c=+e.use_policy?"show":"",d=$(`\n            <div class="cookies-wrap style--${e.style}">\n                <div class="cookies-container">\n                    <div class="cookies-content scrollable">\n                        <span>\n                            ${this.content}\n                            <a href="${l}" target="_blank" class="cookies-button-more ${c}">\n                             ${r}\n                            </a>\n                        </span>\n                    </div>\n\n                    <div class="cookies-button-container">\n                        <a href="${l}" target="_blank" class="cookies-button-more scrollable ${c}">\n                            ${r}\n                        </a>\n                        <div class="cookies-button scrollable">\n                            ${a}\n                        </div>\n                    </div>\n\n                    <div class="cookies-close">\n                        <svg width="14" height="14" viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg">\n                             <path d="M7 6L13 0L14 1L8 7L14 13L13 14L7 8L1 14L0 13L6 7L0 1L1 0L7 6Z"/>\n                        </svg>\n                    </div>\n                </div>\n            </div>\n        `);t.find(".cookies-wrap").remove(),t.append(d);const u=()=>{this.cookieApplied||e.dont_set_if_not_agree&&(this.cookieApplied=!0,"function"==typeof window.applyCookies&&window.applyCookies(),document.removeEventListener("scroll",p),$(document).off("click.cookies"))},p=()=>{const e=Math.max(flexbe_cli.scroll.latest-n,n-flexbe_cli.scroll.latest);clearTimeout(this.scrollTimer),this.scrollTimer=setTimeout((()=>{n=flexbe_cli.scroll.latest,s+=e,s>=i&&u()}),200)};setTimeout((()=>{document.addEventListener("scroll",p,{passive:!0})}),500),d.outerWidth(),d.addClass("show"),t.addClass("cookies-warning--show"),d.on("click.cookies",".cookies-button, .cookies-close",(()=>{(()=>{const e=$(".cookies-wrap");e.removeClass("show"),t.removeClass("cookies-warning--show"),localStorage.setItem(fe,"allowed"),setTimeout((()=>{e.remove()}),1e3)})(),u()})),$(document).on("click.cookies","a, [data-component]",(()=>u()))}};const _e=(e,t,i)=>!(!Array.isArray(t)||!Array.isArray(i)||t.length!==i.length)&&t.every(((t,o)=>e?i.includes(t):i[o]===t));_e.bind(null,!0),_e.bind(null,!1);const ve=e=>{const t=ke(e);return t&&[3,6,8].includes(t.length)};function be(e){return/^\s*(?:linear-gradient|repeat-linear-gradient|radial-gradient)\(.*\)/i.test(e)}function ye(e){return!be(e)&&(function(e){if(xe(e)||we(e))return!1;if(e=ke(e),!ve(e))return!1;return/^#?([\da-f]{3}|[\da-f]{6})$/i.test(e)}(e)||function(e){if(xe(e)||we(e))return!1;if(e=$e(e),!ve(e))return!1;return/^#?[\da-f]{8}$/i.test(e)}(e)||xe(e)||we(e))}function we(e){return/^rgba\((?:\s*0*(?:\d{1,2}(?:\.\d+)?(?:\s*%)?|\.\d+\s*%|100(?:\.0*)?\s*%|(?:1\d{2}|2[0-4]\d|25[0-5])(?:\.\d+)?)\s*,){3}\s*0*(?:\.\d+|1?)\s*\)$/.test(e)}function xe(e){return/^rgb\((?:\s*0*(?:\d{1,2}(?:\.\d+)?(?:\s*%)?|\.\d+\s*%|100(?:\.0*)?\s*%|(?:1\d{2}|2[0-4]\d|25[0-5])(?:\.\d+)?)\s*,?){3}\)$/.test(e)}function Ae(e){return be(e)?"gradient":ye(e)?"color":"not_color"}function $e(e=""){return"string"!=typeof e?e:String(e).replace(/[^\da-f]/gi,"").slice(0,8)}function ke(e,t=!1){return"string"!=typeof e?e:(3===(e=$e(e)).length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),7===e.length&&(e+=e[6]),8===e.length&&/ff$/i.test(e)&&(e=e.slice(0,6)),t?`#${e}`:e)}function Ce(e){let t=String(e);const i=t.match(/<!--.*?-->/gi)||[];if(i.length&&i.forEach((e=>{t=t.replace(e,"")})),/<!/.test(t))return!1;if(["<!doctype","<area","<base","<br","<col","<embed","<hr","<img","<input","<keygen","<link","<meta","<param","<source","<track","<wbr"].forEach((e=>{const i=t.match(RegExp(`${e}.*?>`,"gi"))||[];i.length&&i.forEach((e=>{t=t.replace(e,"")}))})),!/<[/?a-z]/i.test(t))return!0;const o=t.match(/<[/a-z].*?>/gi)||[];if(!o.length)return!1;if(/<\//.test(o[0]))return!1;for(const e of o)if(e.match(/<[/a-z]/gi).length>1)return!1;const n=[];(t.match(/<[a-z].*?[\s>]/gi)||[]).reverse().forEach((e=>{n.push(e.substr(1,e.length-2))}));const s=t.match(/<\/.*?>/gi)||[];if(n.length!==s.length)return!1;for(const e of n){let i=0;const o=t.match(RegExp(`<${e}`,"gi"))||[];if(!o.length)return!1;o.forEach((e=>{i=t.indexOf(e,i),i+=1}));const n=t.substr(i).match(RegExp(`${e}.*?</${e}>`,"i"))||[];if(!n.length)return!1;if(t=t.replace(n[0],""),!/<[/?a-z]/i.test(t))return!0}return!1}function Se(e,t=!1){if(!e||"string"!=typeof e)return e;return[["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"]].forEach((([i,o])=>{const n=t?o:i,s=t?i:o;e=e.replace(new RegExp(n,"g"),s)})),e}let Re,Oe=!1;const ze=e=>{Re.size?(requestAnimationFrame(ze),Array.from(Re).forEach((([t,i])=>{if(i.last>=e)return;const o="function"==typeof i.fps?i.fps():i.fps;(!o||e-i.last>=1e3/o)&&(i.last=e,t(e))}))):Oe=!1};let Te,Ie,Ee=!0;const Pe="position-fixed";var Me={map:[],createMap:()=>$('[data-is="block"][data-fixed="true"]').toArray().map(((e,t)=>{const i=$(e),o=i.attr("data-fixed-wrapper")||"self",n=i.attr("data-fixed-element"),s="true"===i.attr("data-fixed-ignore-adaptive"),a="self"===o?i:i.find(o),r=i.find(n);if(!r.length||!a.length)return null;const l=!!i.data("fixed-animation"),c=!!i.data("sticky"),d=r.closest("[data-static-contrast]").attr("data-static-contrast")||r.closest("[data-contrast]").attr("data-contrast"),u=r.closest("[data-fixed-contrast]").attr("data-fixed-contrast")||d,p=Math.round(a.outerHeight()),{top:h}=Q(a[0])||{},m=h+p;let f=p;if(l){r.hasClass(Pe)?f=Math.round(r.outerHeight()):(r.addClass(Pe),f=Math.round(r.outerHeight()),r.removeClass(Pe))}return{index:t,$block:i,$wrap:a,$fixed:r,top:h,bottom:m,height:p,heightFixed:f,contrastStatic:d,contrastFixed:u,isSticky:c,ignoreAdaptive:s,hasFixedAnimation:l,isFixed:!1,isReplaced:!1}})).filter((e=>{if(!e)return!1;const t=flexbe_cli.resize.responsiveMode;return t!==e.$block.attr("data-hidden")&&("mobile"!==t||!e.ignoreAdaptive)})),modifyMap(e,t){let i=0,o=0;return e.forEach(((n,s)=>{const a=s&&e[s-1],r=Math.max(0,((null==a?void 0:a.bottom)||0)-n.top),l=t+i-r;n.isFixed=n.hasFixedAnimation?l>n.bottom+100:l>n.top,n.fixOffset=i-r,n.isSticky&&n.isFixed&&(i+=n.heightFixed-r),n.isFixed&&(o+=n.heightFixed),n.replaceOffset=0,a&&!a.isSticky&&t+a.fixOffset+a.heightFixed>n.top&&(a.replaceOffset=Math.min(a.fixOffset+a.heightFixed,t+a.fixOffset+a.heightFixed-n.top))})),{allFixedHeight:o}},applyMap(e,t){const i=!e.applied&&!Ee;e.forEach((o=>{const n=o.$fixed[0].isFixed;let s=o.isFixed,a=o.isSticky;if(flexbe_cli.run.is_preview||(s=!1,a=!1),n!==s||i)if(o.$fixed[0].isFixed=s,o.$fixed.toggleClass("position-sticky",s&&a),o.contrastStatic&&o.contrastStatic!==o.contrastFixed&&o.$fixed.attr("data-contrast",s?o.contrastFixed:o.contrastStatic),o.hasFixedAnimation)if(clearTimeout(o._fixedAnimationBouncer),s)o.$wrap.css("height",`${o.height}px`),o.$fixed.removeClass("fade-out"),o.replaceOffset||o.$fixed.hasClass(Pe)||(o.$fixed.addClass("position-fixed fade-in"),o._fixedAnimationBouncer=setTimeout((()=>{o.$fixed.removeClass("fade-in")}),200));else{const i=t>o.height;o.$fixed.removeClass("fade-in"),!o.replaceOffset&&e.applied&&i&&o.$fixed.addClass("fade-out"),o._fixedAnimationBouncer=setTimeout((()=>{o.$wrap.css("height",""),o.$fixed.removeClass("position-fixed fade-out")}),i?150:0)}else o.$wrap.css("height",s?`${o.height}px`:""),o.$fixed.toggleClass(Pe,s);if(s?(o.$fixed[0].style.setProperty("top",`${o.fixOffset}px`,"important"),o.$fixed[0].style.setProperty("transform",o.replaceOffset?`translateY(-${o.replaceOffset}px)`:"none","important")):(o.$fixed[0].style.removeProperty("top"),o.$fixed[0].style.removeProperty("transform")),n!==s){const e=o.$block[0]._core;e&&e.updateTween({fixed:s})}})),Ee=!1,e.applied=!0,this.map=e},getAllFixedHeight(e){const{allFixedHeight:t}=this.modifyMap($.extend([],this.map||[]),e);return t},initFixed(){const e=this.createMap();Ie=null,Te&&Te(),e.length&&(Te=function(e,t=0){return Re||(Re=new Map),Re.set(e,{last:0,fps:t}),Oe||requestAnimationFrame(ze),()=>{Re.delete(e)}}((()=>{const t=window.scrollY;Ie!==t&&(Ie=t,this.modifyMap(e,t),this.applyMap(e,t))}),e.length>1?90:30))},init(){new ResizeObserver((()=>{this.initFixed()})).observe(document.body)}};const De=(e,t=0,...i)=>((e,t=0)=>(...i)=>setTimeout(e,t,...i))(e,t)(...i),Ne=(e,t=0)=>flexbe_cli.is_admin?(...t)=>e(...t):(...i)=>setTimeout(e,t,...i),Le=(e,t=0,...i)=>Ne(e,t)(...i);class qe{constructor(e,t={}){this.require=[],this.components=null,this.inited=!1,this.isVisible=null,this.inScreen=!1,this.inBeside=!1,this.inView=!1,this.inFocus=!1,this.wasVisible=null,this.wasScreen=!1,this.wasBeside=!1,this.wasView=!1,this.wasFocus=!1;const i=$(e),o=i.attr("data-is"),n=i.attr("data-id"),s="zone"===o?"e":o[0],a=i.attr(`data-${s}-id`),r=i.attr("data-mod-id")||0;this.$area=i,this.area=i[0],this.$content=i,this.content=this.$content[0],this.$root=i,this.root=i[0],this.is=o,this.id=n,this.template_id=a,this.mod_id=r,this.tween={},this.type=JSON.parse(i.attr(`${s}-type`)||"[]"),Object.keys(t).forEach((e=>{const i=Object.getOwnPropertyDescriptor(t,e);if("value"in i){const i=t[e];this[e]="object"==typeof i?$.extend(!0,Array.isArray(i)?[]:{},i):i}else Object.defineProperty(this,e,i)})),["_onVisible","_onBeside","_onFocus","_onScreen","_onView","_onResize","_onOpen","_onClose","_sendEvent"].forEach((e=>{this[e]=this[e].bind(this)}))}onInit(){}onUpdate(){}onLoad(){}onReady(){}onDestroy(){}onVisible(){}onBeside(){}onFocus(){}onScreen(){}onView(){}onMsg(){}onResize(){}onOpen(){}onClose(){}onHideShowUI(e){}init(e,t="init"){this._initComponents(),"init"===t?this._onInit(e):"update"===t&&this._onUpdate(e),("init"===t||"update"===t&&e.templateRendered)&&flexbe_cli.require(this.require,(()=>this._onLoad(e)))}destroy(e){this.$area.off(".inherit"),delete this.area._core,this._onDestroy(e)}_initComponents(){let e=this.components||[];4!==flexbe_cli.theme_id&&(e=Array.from(new Set(this.$area.find("[data-component]").map(((e,t)=>t.getAttribute("data-component"))).toArray()))),e=e.map((e=>"string"==typeof e?flexbe_cli.components.getComponentClass(e):e)).filter((e=>e)),this.components=e}_sendEvent(e,t){flexbe_cli.events.trigger("entity_event",{core:this,type:e,params:t});const i=new CustomEvent(e,{detail:t});this.area.dispatchEvent(i,{bubbles:!1})}_onInit(e){this.inited=!0,this._sendEvent("init",e),this.onInit(e),requestAnimationFrame((()=>this.updateTween()))}_onLoad(e){this.loaded=!0,this._sendEvent("load",e),this.onLoad(e),this.onReady(e),this.require.length&&requestAnimationFrame((()=>{this.updateTween({force:!0})}))}_onUpdate(e){this.inited=!0,this.updated=!0,this.modId=this.$area.attr("data-mod-id")||0,this._sendEvent("update",e),this.onUpdate(e),(e.templateRendered||e.styleRendered)&&this.updateTween({force:!0})}_onResize(e={}){this.isVisible&&(this._sendEvent("resize",e),this.onResize(e))}_onDestroy(e){this._sendEvent("destroy",e),this.onDestroy(e)}_onMsg(e,t){this._sendEvent("msg",{msg:e,data:t}),this.onMsg(e,t)}_onVisible({state:e,force:t}){if(null==this.isVisible)return this.isVisible=e,void(this.wasVisible=e);if(this.isVisible===e&&!t)return;const i=e?!this.wasVisible:void 0;this.isVisible=e,this._sendEvent("visible",{state:e,first:i}),this.onVisible({state:e,first:i}),e&&(this.wasVisible=!0)}_onFocus({state:e,force:t}){if(this.isVisible||(e=!1),this.inFocus===e&&!t)return;const i=e?!this.wasFocus:void 0;this.inFocus=e,this._sendEvent("focusing",{state:e,first:i}),this.onFocus(e,i),e&&(this.wasFocus=!0)}_onScreen({state:e,force:t}){if(this.isVisible||(e=!1),this.inScreen===e&&!t)return;const i=e?!this.wasScreen:void 0;this.inScreen=e,this._sendEvent("screen",{state:e,first:i}),this.onScreen(e,i),e&&(this.wasScreen=!0)}_onView({state:e,force:t}){if(this.isVisible||(e=!1),this.inView===e&&!t)return;const i=e?!this.wasView:void 0;this.inView=e,"block"===this.is&&i&&ne.startTransitions(this.$area),this._sendEvent("view",{state:e,first:i}),this.onView(e,i),e&&(this.wasView=!0)}_onBeside({state:e,force:t}){if(this.isVisible||(e=!1),this.inBeside===e&&!t)return;const i=e?!this.wasBeside:void 0;this.inBeside=e,this._sendEvent("beside",{state:e,first:i}),this.onBeside(e,i),e&&(this.wasBeside=!0)}updateTween(){}_onOpen(e){this.updateTween(),this._sendEvent("open",e),this.onOpen(e)}_onClose(e){this.updateTween(),this._sendEvent("close",e),this.onClose()}_onHideShowUI(e){this.onHideShowUI(e)}}var Fe=0;function Ve(e){return"__private_"+Fe+++"_"+e}function Be(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}const je=["id","is","area","content","isVisible","inBeside","inView","inFocus","inScreen","wasBeside","wasFocus","wasScreen","wasView","wasVisible"];let He=!1;const We={};function Ue(e,t){return Object.keys(t).filter((t=>0===t.indexOf(e)||0===e.indexOf(".")&&t===`${t.split(".")[0]}${e}`))}var Ge=Ve("listeners");class Ke{static create(e){return He||(He=!0,flexbe_cli.events.on("entity_event.entityPublicApi",(({type:e,params:t,core:i})=>{const o=We[i.id];o&&o.emit(e,t)}))),We[e.id]&&We[e.id].clear(),We[e.id]=new Ke(e),We[e.id]}constructor(e){Object.defineProperty(this,Ge,{writable:!0,value:{}});const t=je.reduce(((t,i)=>{const o={...t};return o[i]={enumerable:!0,get:()=>e[i]},o}),{});Object.defineProperties(this,t),Object.defineProperties(this,{size:{enumerable:!0,get:()=>({width:e.tween.width,height:e.tween.height})}})}async emit(e,t){const i=Ue(e,Be(this,Ge)[Ge]).flatMap((e=>Be(this,Ge)[Ge][e]));for(const e of i)await e(t)}on(e,t){return"function"!=typeof t||(Be(this,Ge)[Ge][e]||(Be(this,Ge)[Ge][e]=[]),Be(this,Ge)[Ge][e].push(t)),this}off(e,t){return Ue(e,Be(this,Ge)[Ge]).forEach((e=>{const i=Be(this,Ge)[Ge][e];Be(this,Ge)[Ge][e]=t?i.filter((e=>e!==t)):[]})),this}clear(){Be(this,Ge)[Ge]={}}}const Ye=new Map,Je=new Map,Qe=".b_block",Xe=".m_modal",Ze=".w_widget",et='[data-is="zone"]',tt='[data-is="element"]',it={block:class extends qe{constructor(e,t){super(e,t),this.is="block",this.$block=this.$area,this.$content=this.$area.find("> .container-fluid").addBack().last(),this.content=this.$content[0],this.abtestVariant=this.$area.attr("data-abtest-variant"),this.abtestId=this.abtestVariant&&this.$area.attr("data-abtest-id")}_onInit(e){super._onInit(e)}_onUpdate(e){this.$content=this.$area.find("> .container-fluid").addBack().last(),this.content=this.$content[0],super._onUpdate(e)}_onDestroy(e){this.inited=!1,super._onDestroy(e)}updateTween({force:e=!1,fixed:t=!1}={}){if(!this.inited)return!1;let i=this.area,o=0;const n=i.offsetWidth,s=i.offsetHeight;for(;i;)o+=i.offsetTop,i=i.offsetParent;const a=o+s,r=!(!n&&!s),l=null==this.tween.width&&null==this.tween.height,c=e||n!==this.tween.width||s!==this.tween.height,d=1/(s||1)*(flexbe_cli.scroll.latest-o),u=function(){const e=o-flexbe_cli.resize.clientHeight;return 1/(a-e)*(flexbe_cli.scroll.latest-e)}(),p=function(){const e=s||1,t=flexbe_cli.scroll.latest+flexbe_cli.resize.clientHeight/2;return(t-(o+e/2)+e/2)/e}();this.tween.start=o,this.tween.end=a,this.tween.width=n,this.tween.height=s,this.tween.position=d,this.tween.positionAbs=u,this.tween.positionCenter=p;const h=r&&p>0&&p<1,m=h||function(){if(t)return!0;const e=Math.min(s/3,flexbe_cli.resize.clientHeight/4);return flexbe_cli.scroll.latest+flexbe_cli.resize.clientHeight>=o+e&&flexbe_cli.scroll.latest<=a-e}(),f=m||function(){if(t)return!0;return u>=0&&u<=1}(),g=f||function(){if(t)return!0;const e=Math.max(s/2,flexbe_cli.resize.clientHeight/3);return flexbe_cli.scroll.latest+flexbe_cli.resize.clientHeight>o-e&&flexbe_cli.scroll.latest<a+e}();return this._onVisible({state:r}),Le((()=>{!l&&c&&this._onResize({force:e}),this._onBeside({force:e,state:g}),this._onScreen({force:e,state:f}),this._onView({force:e,state:m}),this._onFocus({force:e,state:h})})),Le(this._sendEvent,0,"tween",{tween:this.tween,force:e}),c}},modal:class extends qe{constructor(e,t){super(e,t),this.is="modal",this.isOpen=!1,this.$modal=this.$area}open({fromId:e,data:t,options:i={}}){var o,n;if(this.isOpen)return;this.isOpen=!0,this.lastOptions=i,this.lastScroll=q.latest;const s=this.$area.find(".modal-data > ._anchor").attr("name")||this.id;(i.hash||null==i.hash)&&(this._prevHash=window.location.hash,flexbe_cli.lockPopstate=!0,window.history.pushState(null,null,`#${s}`),flexbe_cli.lockPopstate=!1),this.$area.removeClass("noanimate"),this.$area.addClass("show animation-forwards"),flexbe_cli.modal.$list.addClass("show"),$("body").addClass("is-modal-open"),$(".w_cart.show").length&&flexbe_cli.modal.$list.addClass("rise");const a=this.$modal.find(".component-button").eq(0),r=null!=(o=null==(n=a.offset())?void 0:n.top)?o:0;!flexbe_cli.run.is_screen_mobile&&flexbe_cli.run.is_preview&&flexbe_cli.resize.viewportHeight>r+100&&a.focus(),setTimeout((()=>{this.$area.hasClass("pointerless")||q.scrollLock.lock(),flexbe_cli.modal.$list.addClass("overlay"),this._onOpen({data:t}),this._onBeside({state:!0}),this._onScreen({state:!0}),this._onView({state:!0}),this._onFocus({state:!0}),"function"==typeof i.onOpen&&i.onOpen()}),30),f.trigger("modal_opened",{id:this.id,fromId:e,data:t,options:i})}close({openId:e}={}){if(!this.isOpen)return;const t=this.lastOptions,i=!e&&!this.$area.siblings(".show").length;if(this.lastOptions={},this.isOpen=!1,(t.hash||null==t.hash)&&i&&/^#{1,2}/.test(window.location.hash)){const e=this._prevHash&&this._prevHash!==window.location.hash?this._prevHash:window.location.pathname;flexbe_cli.lockPopstate=!0,window.history.replaceState(null,null,e),flexbe_cli.lockPopstate=!1}this.$area.removeClass("animation-forwards").addClass("noanimate");const o=parseInt(this.$area.css("--animationDuration"),10)||450;this.$area.removeClass("show noanimate").addClass("hide animation-backwards"),setTimeout((()=>{this.$area.removeClass("show hide animation-backwards"),i&&(flexbe_cli.modal.$list.removeClass("show rise overlay fade-out"),"#cart"===window.location.hash||this.$area.hasClass("pointerless")||q.scrollLock.unlock(),$("body").removeClass("is-modal-open")),flexbe_cli.run.is_screen_mobile&&$("body, html").scrollTop(this.lastScroll)}),flexbe_cli.is_admin?0:o),this._onClose(),this._onBeside({state:!1}),this._onScreen({state:!1}),this._onView({state:!1}),this._onFocus({state:!1}),"function"==typeof t.onClose&&t.onClose(this),f.trigger("modal_closed",{id:this.id,openId:e})}updateTween({force:e}={}){if(!this.inited)return!1;const t=this.area,i=t.offsetWidth,o=t.offsetHeight,n=null==this.tween.width&&null==this.tween.height,s=e||i!==this.tween.width||o!==this.tween.height,a=this.isOpen;return this.tween.width=i,this.tween.height=o,this._onVisible({force:e,state:a}),Le((()=>{!n&&s&&this._onResize({force:e}),this._onBeside({force:e,state:a}),this._onScreen({force:e,state:a}),this._onView({force:e,state:a}),this._onFocus({force:e,state:a})})),Le(this._sendEvent,0,"tween",{tween:this.tween,force:e}),s}},widget:class extends qe{constructor(e,t){super(e,t),this.is="widget",this.$widget=this.$area}updateTween({force:e}={}){if(!this.inited)return!1;const t=this.area,i=t.offsetWidth,o=t.offsetHeight;let n;n=null!=this.isOpen?!!this.isOpen:!(!i&&!o);const s=null==this.tween.width&&null==this.tween.height,a=!!e||i!==this.tween.width||o!==this.tween.height;return a&&(this.tween.width=i,this.tween.height=o),this._onVisible({force:e,state:n}),Le((()=>{!s&&a&&this._onResize({force:e}),this._onBeside({force:e,state:n}),this._onScreen({force:e,state:n}),this._onView({force:e,state:n}),this._onFocus({force:e,state:n})})),Le(this._sendEvent,0,"tween",{tween:this.tween,force:e}),a}},element:class extends qe{constructor(e,t){super(e,t),this.is="element";const i=this.$area.closest("[data-cloned]");this.isClone=i.attr("data-cloned")||!1,this.$content=this.$area.find("> .element-content").addBack().last(),this.content=this.$content[0],this.$root=this.$area.closest(".b_block, .m_modal, .w_widget"),this.root=this.$root[0],this.$parent=this.$area.parent().closest("[data-is]"),this.parent=this.$parent[0]}_onInit(e){super._onInit(e),this._inheritEvents()}_onUpdate(e){this.$area.off(`.inherit.${this.id}`),this.$content=this.$area.find("> .element-content").addBack().last(),this.content=this.$content[0],super._onUpdate(e),this._inheritEvents()}_onDestroy(e){super._onDestroy(e),this.$area.off(".inherit"),this.$parent.off(`.inherit.${this.id}`)}_inheritEvents(){const e=`.inherit.${this.id}.${this.isClone?`clone${Number(this.isClone)}`:"original"}`;this.$parent.off(e),this.$parent.on(`tween${e}`,(e=>{this.updateTween(e.detail||{})})),["visible"].forEach((t=>{this.$parent.on(`${t}${e}`,(()=>{this.updateTween({})}))})),["_onOpen","_onClose","_onDestroy"].forEach((t=>{const i=`${t.replace("_on","").toLowerCase()}${e}`;this.$parent.on(i,((e,...i)=>{!i.length&&e.detail&&(i[0]=e.detail),this[t](...i)}))}))}updateTween({force:e}={}){const t=this.content||this.area,i=this.parent&&this.parent._core,o=this.root&&this.root._core;if(!i||!this.inited)return;const n=null==this.tween.width&&null==this.tween.height;let s=i.isVisible,a=i.inBeside,r=a,l=r,c=r,d=!1;if(!n||!i.isVisible||a){if(s&&a){const i=t.offsetWidth,n=t.offsetHeight,u=flexbe_cli.resize.clientHeight;if(s=!(!i&&!n),d=e||i!==this.tween.width||n!==this.tween.height,this.tween.width=i,this.tween.height=n,s&&o&&"block"===o.is){const{top:e,bottom:i}=t.getBoundingClientRect();a=i>-u/3&&e<u+u/3,r=a&&r&&i>0&&e<u,c=r&&c&&e<=u/2&&e+n>=u/2;const o=Math.min(n/3,flexbe_cli.resize.clientHeight/4);l=c||r&&l&&e+o>0&&i-o<u}}this.isVisible!==s&&this._onVisible({force:e,state:s}),Le((()=>{!n&&d&&this._onResize({force:e}),this._onBeside({force:e,state:a}),this._onScreen({force:e,state:r}),this._onView({force:e,state:l}),this._onFocus({force:e,state:c})})),Le(this._sendEvent,0,"tween",{tween:this.tween,force:e})}}}},ot={block:"sectionApi",modal:"modalApi",widget:"widgetApi",element:"elementApi",zone:"elementApi"};var nt={init(){this.dispatchEvents(),this.initArea(flexbe_cli.block.$list),this.initArea(flexbe_cli.modal.$list),this.initArea($(".w_widget"))},createPublicApi(e){const t={sectionApi:null,modalApi:null,widgetApi:null,elementApi:null,require:L},i=document.querySelector(`[data-id="${e}"]`),o=i.getAttribute("data-is");if(!("block"===o||"modal"===o)){const e=i.closest(".b_block, .m_modal"),o=e.getAttribute("data-is"),n=this.bind(e,{is:o,skipInit:!0});t[ot[o]]=Ke.create(n)}const n=this.bind(i,{is:o,skipInit:!0});return t[ot[o]]=Ke.create(n),t},bind(e,t={}){const i=t.is||e.getAttribute("data-is"),o=e.getAttribute(`data-${i[0]}-id`);if(!o||!(i in it))return null;const n=!e._core||!e._core.inited,s=!n&&(t.templateRendered||t.styleRendered);if(n){const t=this.getClientJs(i,o)||{};e._core=new it[i](e,t)}return e._core&&!t.skipInit&&(n||s)&&(e._core.init(t,s?"update":"init"),Je.set(e._core.id,e._core)),e._core},setClientJs(e,t,i){Ye.set(`${e}:${t}`,i)},getClientJs:(e,t)=>Ye.get(`${e}:${t}`),initArea(e,t={}){if(!e.length)return!1;const i=[["block",Qe],["modal",Xe],["widget",Ze],["element",et],["element",tt]];return B(e),e.toArray().forEach((e=>{const o=$(e);i.forEach((([i,n])=>{const s={...t,is:i};o.is(n)&&this.bind(e,s),o.find(n).toArray().forEach(Ne((e=>this.bind(e,s))))}))})),e[0]._core},dispatchEvents(){flexbe_cli.events.on("forceUpdateTween.core_entity",((e,t)=>{Y(e,t)})),flexbe_cli.is_admin&&(flexbe_cli.events.on("entity_render.core_entity",(e=>{if(!e||!e.id)return;if(e.originId&&e.originId!==e.id)return;const t=e.entity&&e.entity.$area||$(document).find(`[data-id="${e.id}"]`);t.length&&this.initArea(t,e)})),flexbe_cli.events.on("layout_change.core_entity",(e=>{if("before_remove"!==e.action)return;(e.entity&&e.entity.$area||$(document).find(`[data-id="${e.id}"]`)).each(((t,i)=>{i._core&&(i._core.destroy(e),Je.delete(e.id))}))})),flexbe_cli.events.on("client_msg.core_entity",(e=>{if(!e||!e.id||!e.is)return;const t=e.entity&&e.entity.$area||$(document).find(`[data-id="${e.id}"]`);t.length&&t.each(((t,i)=>{i._core&&i._core._onMsg(e.msg,e.data)}))})),flexbe_cli.events.off("hideShowUI.core_entity").on("hideShowUI.core_entity",(e=>{Je.forEach((t=>t._onHideShowUI(e)))})))}},st={$list:$(".container-list").eq(0),$blocks:$(".b_block"),init(){this.dispatchEvents()},dispatchEvents(){const e=()=>{this.$blocks.each(((e,t)=>Y(t,!1)))};$(window).on("resized.flexbe_block",$.debounce((()=>e()),20)),$(document).on("documentresized.flexbe_block",$.debounce((()=>e()),20)),window.addEventListener("scroll",$.throttle((()=>{this.$blocks.each(((e,t)=>Y(t,!1)))}),96),{passive:!0}),flexbe_cli.is_admin&&flexbe_cli.events.off("layout_change.flexbe_block").on("layout_change.flexbe_block",(e=>{e&&"block"===e.is&&(this.$blocks=$(".b_block"),this.$blocks.each(((e,t)=>Y(t,!1))))}))}};var at={opened:{},$list:$(".modal-list"),init(){const e=window.getJsonFromUrl();if(e.service&&e.m_id)return this.$list.addClass("noanimate"),this.open({id:e.m_id}),!1;this.dispatchEvents()},dispatchEvents(){const e=$("body");let t,i;e.on("bringIntoView.core-modal",".m_modal",(e=>{const t=e.currentTarget.dataset.id;t&&this.open({id:t})})),flexbe_cli.events.on("ui_modal_open.core_modal",((e={})=>{this.open(e)})),flexbe_cli.events.on("ui_modal_close.core_modal",((e={})=>{this.close(e)})),e.on("click.modal-close",".m_modal .close",(e=>{e.preventDefault();const t=$(e.currentTarget).closest(".m_modal.show").attr("data-id");this.close({id:t})}));let o={x:0,y:0};e.off(".modal-close-overlay"),e.on("click.modal-close-clickout",".container-list",(e=>{flexbe_cli.run.is_preview&&Object.keys(this.opened).length&&Object.values(this.opened).filter((e=>e.$area.data("clickout"))).forEach((e=>{this.close({id:e.id})}))})),e.on("pointerdown.modal-close-overlay pointerup.modal-close-overlay","[data-overlay]",(e=>{flexbe_cli.run.is_preview&&Object.keys(this.opened).length&&("pointerdown"===e.type?(i=e.target===e.currentTarget||$(e.target).is(".modal-data")?e.target:null,o={x:e.pageX,y:e.pageY},t=e.target.clientWidth<=e.pageX):i===e.target&&!t&&Math.sqrt((e.pageX-o.x)**2+(e.pageY-o.y)**2)<10&&setTimeout((()=>{this.close({id:$(i).closest(".m_modal").attr("data-id")})}),50))})),$(window).off(".modal-close-esc").on("keyup.modal-close-esc",(e=>{if(flexbe_cli.run.is_preview&&27===e.which&&(()=>{if(flexbe_cli.is_admin&&(window.parent.flexbe.modal.visible||[]).length)return!1;return!0})()&&Object.keys(this.opened).length){const e=Object.keys(this.opened),t=e[e.length-1];this.close({id:t})}}))},find(e){if(null==this.$list||!this.$list.length)return!1;let t=this.$list.find(`[data-id="${e}"]`);if(t.length||(t=this.$list.find(`._anchor[name="${e}"]`).closest(".m_modal")),!t.length)return!1;const i=t.toArray(),o=i[0]||!1;return!!o&&{modals:i,modal:o}},open({id:e,data:t={},options:i={}}={}){let{modal:o}=this.find(e)||{};if(!o)return console.warn("WRONG ACTION","modal_not_found",e),!1;const n=nt.bind(o,{is:"modal"});if(o&&!n)return console.warn("Try to open modal without core object,",`id: ${e},`,"modal: ",o),!1;const s=Object.keys(this.opened),a=s[s.length-1];return!i.rise&&a&&a!=e&&this.close({id:a,openId:e}),s.includes(e)||n.open({fromId:a,data:t,options:i}),n.$area.css("zIndex",Object.keys(this.opened).length+1),delete this.opened[e],this.opened[e]=n,!0},close({id:e,openId:t}={}){if(!e)return Object.keys(this.opened).map((e=>!(!this.opened[e]||e===t)&&this.close({id:e,openId:t})));if(!this.opened[e])return!1;delete this.opened[e];const{modal:i}=this.find(e)||{};if(!i)return;const o=nt.bind(i,{is:"modal"});return o?(o.close({openId:t}),o.$area.css("zIndex",""),!0):(console.warn("Try to close modal without core object"),!1)}};const rt=[{id:25280736,unq_id:"25280736",ext:"png",animated:0,average:"#EEEEEE",border:"#EEEEEE",preview:"UklGRjQAAABXRUJQVlA4ICgAAADQAgCdASoeABYAPyWKvFeuKSWjqAgBwCSJaQAAPaOgAP7t6e+boAAA",proportion:71,transparent:0,original_resolution:1,width:700,height:500}];class lt extends m{constructor(e,t){super(),this.variant=void 0,this.parent=void 0,this.variant=e,this.parent=t}get id(){return this.variant.id}get article(){var e;return null!=(e=this.variant.vendor_code)?e:""}get name(){var e;return(null!=(e=this.variant.name)?e:[]).join(", ")}get images(){var e;return null!=(e=this.variant.images)?e:[]}get oldPrice(){var e;return null!=(e=this.variant.price_old)&&e}get hasOldPrice(){return Boolean(this.parent.isOldPrice&&this.oldPrice)}get visible(){var e;return null!=(e=this.variant.visible)&&e}get optionValues(){return this.variant.option_values}get optionsInfo(){return this.variant.optionsInfo}get quantity(){var e;return null!=(e=this.variant.quantity)?e:0}get price(){var e;return null!=(e=this.variant.price)?e:null}get defaultImageId(){var e;return null!=(e=this.variant.default_image_id)?e:0}get productKey(){return`${this.parent.id}_${this.id}`}isDefault(){return Boolean(this.variant.is_default&&this.variant.visible)}quantityInfo(){const e=flexbe_cli.vars._group.ecommerce.in_stock_status||"none",t=flexbe_cli.vars._group.ecommerce.out_of_stock_status||"none",i=flexbe_cli.vars._group.ecommerce.out_of_stock_action||"forbid_preorder",o=!this.quantity&&-1!==this.quantity&&"none"!==t;return"none"!==e?{text:-1===this.quantity||"in_stock"===e?flexbe_cli.locale.tr("cart.quantity_status.in_stock"):flexbe_cli.locale.tr("cart.quantity_status.items_in_stock",{count:this.quantity}),status:"in_stock"}:o&&"allow_preorder"===i?{text:"in_stock"===t?flexbe_cli.locale.tr("cart.quantity_status.in_stock"):flexbe_cli.locale.tr("cart.quantity_status.preorder"),status:"in_stock"===t?"in_stock":"preorder"}:o&&"out_of_stock"===t?{text:flexbe_cli.locale.tr("cart.quantity_status.out_of_stock"),status:"not-available"}:{text:"",status:"hide"}}getPrice(e){return null===this.price?"text"===e?flexbe_cli.locale.tr("ecommerce.card.price.empty"):`— ${flexbe_cli.locale.currency.symbol}`:flexbe_cli.locale.formatMoney(this.price,{freeLabel:"free"===flexbe_cli.vars._group.ecommerce.zero_price})}getImages(e){if("variant"===this.parent.displayImage&&this.parent.options.length){const e=this.variant.images;return e.length?e:rt}if("product"===this.parent.displayImage||!this.parent.options.length){const t=this.parent.images;return"image"===e&&t.length>1?[t.find((e=>e.unq_id===this.defaultImageId))||t[0]]:t.length?t:rt}return rt}getCartData(e){return{price:this.variant.price,title:this.parent.title,productId:this.parent.id,variantId:this.variant.id,vendorCode:this.variant.vendor_code,quantity:this.variant.quantity,img:this.getImages(e),optionsInfo:this.variant.optionsInfo,count:1,strict:1}}}const ct=(e,t)=>{if(!e.visible)return{exceptionClass:"disabled",tipText:t.needTipsOptions?flexbe_cli.locale.tr("ecommerce.option.disabled"):""};if(!e.quantity){const e=flexbe_cli.vars._group.ecommerce.out_of_stock_action||"forbid_preorder",i=flexbe_cli.vars._group.ecommerce.out_of_stock_status||"none",o=t.needAvailableOptions?flexbe_cli.locale.tr("cart.quantity_status.in_stock"):"",n="allow_preorder"===e,s=n?"":"locked";let a=t.needTipsOptions?flexbe_cli.locale.tr("ecommerce.option.locked"):"";return n&&t.needTipsOptions&&(a="in_stock"===i?o:flexbe_cli.locale.tr("cart.quantity_status.preorder")),n&&"none"===i&&(a=""),{exceptionClass:s,tipText:a}}return"none"!==t.inStock?"items_in_stock"===t.inStock&&-1!==e.quantity?{exceptionClass:"",tipText:t.needAvailableOptions&&t.needTipsOptions?flexbe_cli.locale.tr("cart.quantity_status.items_in_stock",{count:e.quantity}):""}:{exceptionClass:"",tipText:t.needAvailableOptions&&t.needTipsOptions?flexbe_cli.locale.tr("cart.quantity_status.in_stock"):""}:{exceptionClass:"",tipText:""}};class dt extends m{constructor(e){super(),this.product=void 0,this.variantItems=void 0,this.activeVariant=void 0,this.activeOptions=void 0,this.oldPayload=void 0,this.hasOptionElement=void 0,this.product=e,this.variantItems=e.variants.map((e=>new lt(e,this))),this.init()}get id(){return this.product.id}get variants(){return this.variantItems}get title(){var e;return null!=(e=this.product.name)?e:""}get description(){var e;return null!=(e=this.product.description)?e:""}get options(){var e;return null!=(e=this.product.options)?e:[]}get hasVariants(){return this.variants.length>1}get displayImage(){var e;return null!=(e=this.product.display_image)?e:"product"}get images(){var e;return null!=(e=this.product.images)?e:[]}get isOldPrice(){var e;return null!=(e=this.product.use_price_old)&&e}get hasOptions(){return Boolean(this.product.options.length)}init(){const e=(t=this.variantItems).find((e=>e.isDefault()))||t.find((e=>e.visible))||t[0];var t;const i=e.optionValues;this.setOption(i),this.setVariant(e)}getAction(e){return this.hasVariants&&"default"===e&&!this.hasOptionElement?"modal":"cart"}getVariant(e){return this.variantItems.filter((t=>String(t.id)===String(e)))[0]}currentVariant(e){return e&&"default"!==e?this.getVariant(e):this.activeVariant}currentOptions(e){if(e&&"default"!==e){return this.getVariant(e).optionValues}return this.activeOptions}selectOption(e){const[t,i]=e.split("_"),o=this.currentOptions().map((e=>String(e.option_id)===String(t)?{option_id:+t,value_id:+i}:e)),n=this.variantItems.find((e=>((e,t)=>{let i=!1;return e.length===t.length&&(i=e.every((e=>t.some((t=>e.option_id===t.option_id&&e.value_id===t.value_id)))),i)})(e.optionValues,o)));this.setOption(o),this.setVariant(n),e!==this.oldPayload&&(flexbe_cli.events.trigger(`update_${this.product.id}`,this),this.oldPayload=e)}setOption(e){this.activeOptions=e}setVariant(e){this.activeVariant=e}combinationOptionsList(e,t){return t||(this.hasOptionElement=!0),(({product:e,currentOptions:t,optionsStyle:i})=>{var o,n;const s=null==(o=i.show_available)||o,a=null==(n=i.show_in_stock_statuses)||n,r=flexbe_cli.vars._group.ecommerce.in_stock_status||"none";let l=[];return 1===t.length?l=e.variants.reduce(((e,t)=>[...e,{optionId:`${t.option_values[0].option_id}_${t.option_values[0].value_id}`,...ct(t,{needTipsOptions:s,needAvailableOptions:a,inStock:r})}]),[]):e.variants.forEach((e=>{for(let i=0;i<t.length;i++){const o=t.filter(((e,t)=>i!==t)),n=e.option_values.filter(((e,t)=>i!==t));JSON.stringify(o)===JSON.stringify(n)&&l.push({optionId:`${e.option_values[i].option_id}_${e.option_values[i].value_id}`,...ct(e,{needTipsOptions:s,needAvailableOptions:a,inStock:r})})}})),l})({product:this.product,currentOptions:this.activeOptions,optionsStyle:e})}}function ut(e,t=!1){const i=$(e);let o=t?{}:i.data("product");if(!1===o)return!1;if(!o){o=$(e).closest("[data-product-item]").find("[data-product-action]").data("product")}if((null==o||"object"!=typeof o||Array.isArray(o))&&(o={img:i.attr("data-product-image"),title:i.attr("data-product-name"),price:i.attr("data-product-price"),count:i.attr("data-product-count")}),"object"==typeof o&&!o.strict){let e;if(4===flexbe_cli.theme_id?(e=i.parents(".content-zone, .flexbe-card, .flexbe-column, .modal-content").last(),e.length||(e=i.parents("[data-item-id]").last())):e=i.closest("[data-item-id], .modal-data").eq(0),o={...o},o.count||(o.count=1),t||!o.img){const t=e=>{const t=e.find("[data-img-id]").eq(0),i=t.attr("data-img-id"),o=t.attr("data-img-ext"),n=o?null:t.attr("data-img-name");return i?{id:i,ext:o,name:n}:null};o.img=t(e)||t(e.closest(".flexbe-row"))}if(t||!o.title){let t=e.find(".name, .title, .item-title, .text_title, .element-text--title, .text-style-title:not(.text-rotator), .text-style-subtitle:not(.text-rotator)").eq(0);t.length||(t=e.find(".text-style-content").eq(0)),o.title=t.text().trim()||""}if(t||!o.price&&0!==o.price){const t=e=>{const t=e.clone();flexbe_cli.is_admin&&t.find('[class^="editor"]').remove(),t.find(".text-rotator").remove(),t.find(".component-image").remove(),t.find("del, s, strike").remove();let i=String(t[0]&&t[0].innerText||"").replace(/\n/g,"<br>").replace(/\.$/,"").replace(/\u00a0/g," ");const o=i.match(/(?:\d?\D{0,2} ?)?[1-9](?:[ ,.]?\d{0,3}){2}(?:[,.]\d{1,2})?(?: ?\D)?/g)||[];return i=o.find((e=>e.includes(ce.currency.symbol)))||o[0]||"",i=(i.match(/([\d\s]+[ ,.]\d+|[\d\s]+)/g)||[])[0],i?(i=ce.parseMoney(i),i):null};o.price=t(i.closest(".element-item").find(".price, .item-price, .main-price, .element-text--price").eq(0))||t(i)||t(e.find(".price, .item-price, .main-price, .element-text--price").eq(0))||t(e)}}if(!o.id)if(o.productId)o.id=`product_${o.productId}:${o.variantId||"default"}`;else{const e=flexbe_cli.p_id,t=i.parents("[data-id], [data-item-id], [data-multivar]").toArray().map((e=>(e.getAttribute("data-id")||e.getAttribute("data-item-id")||"")+(e.getAttribute("data-multivar")||""))).join(":"),s=(n=o.title+o.price,String(n).split("").reduce(((e,t)=>(e=(e<<5)-e+t.charCodeAt(0))&e),0).toString(16));o.id=`${e}_${t||0}:${s}`}var n;return{type:o.productId?"product":"custom",...o}}const pt=e=>"string"==typeof e?new Date(e.slice(0,19).replace("T"," ")):e,ht=({dateFrom:e,dateTo:t,timezone:i=(()=>{var e,t,i;return null==(e=flexbe)||null==(t=e.vars)||null==(i=t.group)?void 0:i.timezone})()})=>{const o=(({date:e,timezone:t,format:i="date"})=>{if(!e||!t)return null;const o=new Date(pt(e)),n=new Date,s=new Date(n.toLocaleString("en-US",{timeZone:t}));n.setMilliseconds(0),s.setMilliseconds(0);const a=n.getTime()-s.getTime(),r=o.getTime()-a;return"milliseconds"===i?r:new Date(r)})({date:Date.now(),timezone:i,format:"milliseconds"}),n=new Date(pt(e)).getTime(),s=new Date(pt(t)).getTime();return!(e&&n>o||t&&s<o)},mt=new dt({id:8175,name:"Dummy Product",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Id eros egestas suspendisse pulvinar gravida risus cursus velit.",images:[{id:2000020211,ext:"jpg",average:"#F9F7F8",preview:"UklGRlgAAABXRUJQVlA4IEwAAADQAwCdASoeAA8APyWMuVQuKqWjMAgBwCSJZAABHutEmG5cEN/6RAAA/vi03737BvUnMvSI9I1KJKz+WE04UfaGkc56QnUytNO3oAAA",width:1800,height:842,proportion:46.78,border:"mixed",animated:!1,transparent:0,unq_id:"lpkjz1698409570173"}],variants:[{id:6468,product_id:8175,name:["Белый"],option_values:[{option_id:893,value_id:2338}],vendor_code:"Пример - 123",quantity:-1,price:.91,price_old:90.09,images:[],default_image_id:null,visible:1,is_default:1,deleted_at:null,optionsInfo:[{optionId:893,valueId:2338,title:"Пример опции",name:"Белый",data:{color:"#ffffff",contrast:"light",contrastFixed:"dark"}}]},{id:6480,product_id:8175,name:["Черный"],option_values:[{option_id:893,value_id:2339}],vendor_code:"Пример - 123",quantity:-1,price:.91,price_old:90.09,images:[],default_image_id:null,visible:1,is_default:0,deleted_at:null,optionsInfo:[{optionId:893,valueId:2339,title:"Пример опции",name:"Черный",data:{color:"#000000",contrast:"light",contrastFixed:"light"}}]}],options:[{id:893,name:"Пример опции",sort_index:0,values:[{id:2338,name:"Белый",data:{color:"#ffffff",contrast:"light",contrastFixed:"dark"}},{id:2339,name:"Черный",data:{color:"#000000",contrast:"light",contrastFixed:"light"}}],data:{type:"color",widget_type:"radio"}}],visible:!0,use_price_old:!0,display_image:"product",sort_index:6820,available:!0});let ft=[];class gt extends m{constructor(){super(),this.initList()}dispatch(e,...t){const i=this[e];if("function"!=typeof i)throw new Error(`Cart dispatch: action '${e}' doesnt exist`);const o=i.apply(this,t);return this.trigger("dispatch",{name:e,args:t,result:o}),o}initList(){let e=[];if(flexbe_cli.is_admin){const t="ru"===flexbe_cli.locale.language,i="RUB"===flexbe_cli.locale.currency.code;e=[{id:"default1",count:1,protect:!0,img:{unq_id:"default1",id:1000000945,ext:"jpg"},vendorCode:t?"Артикул: 1234":"SKU: 1234",title:t?"Пример товара":"Example Item",price:i?750:10},{id:"default2",count:2,protect:!0,vendorCode:t?"Артикул: 1234":"SKU: 1234",img:{unq_id:"default2",id:1000000948,ext:"jpg"},title:t?"Другой товар":"Another Item",price:i?2550:25}]}else try{e=JSON.parse(localStorage.getItem("f_cart"))||[],e=e.filter((e=>e&&+e.count))}catch(e){console.error(e)}this.dispatch("updateList",e)}getList(){return ft}getItem(e){return ft.find((t=>t.id===e))}getCount(){return ft.reduce(((e,t)=>e+t.count),0)}getTotal(){return ft.reduce(((e,t)=>(t.count&&t.price&&(e+=parseInt(String(t.count),10)*parseFloat(String(t.price))),e)),0)}updateList(e){if(!Array.isArray(e))return null;if(e=e.map((e=>{var t;const i=this.getItem(e.id);if("string"==typeof e.img){const t=w(e.img);e.img=t&&{id:t.id,ext:t.ext}}else null!=(t=e.img)&&t.img_id&&(e.img={id:e.img.img_id,ext:e.img.img_ext,unq_id:String(e.img.unq_id||e.img.id)});var o,n,s;(e.img=e.img||null,e.type=e.type||"custom",e.price=null==e.price?null:parseFloat(e.price),i&&null==e.orderPrice)?e.orderPrice=null!=(o=i.orderPrice)?o:i.price:null==e.orderPrice&&(e.orderPrice=e.price);return e.quantity="custom"===(s=n=e).type||s.quantity===1/0||-1===s.quantity?1/0:n.quantity,e.count=Math.round(+e.count)||0,e})),flexbe_cli.run.is_preview)try{localStorage.setItem("f_cart",JSON.stringify(e))}catch(e){}return ft=e,ft}purchase(){flexbe_cli.stat.ecommerce.purchase(ft),this.resetList()}resetList(){const e=[...ft].filter((e=>e.protect));this.updateList(e)}addItem(e){if(!e.id)throw new Error("Cart add item: product ID is not defined");const t=[...ft],i={...e,count:parseFloat(e.count)||1},o=this.getItem(i.id);if(o){const e=t.indexOf(o);i.count+=o.count,t.splice(e,1,i)}else t.push(i);return this.updateList(t),flexbe_cli.stat.ecommerce.add(i),t}removeItem(e){const t=this.getItem(e),i=[...ft];return!t||t.protect?ft:(i.splice(i.indexOf(t),1),flexbe_cli.stat.ecommerce.remove(t),this.updateList(i))}updateCount({id:e,count:t}){const i=this.getItem(e);if(!i)return null;const o=+i.count||0;"+"===t?i.count+=1:"-"===t&&i.count>0?i.count-=1:i.count=""===t?1:t,Number.isNaN(+i.count)&&(i.count=o),this.updateList(ft);const n=i.count-o;return n>0?flexbe_cli.stat.ecommerce.add({...i,count:n}):n<0&&flexbe_cli.stat.ecommerce.remove({...i,count:-n}),i}normalizeListItems(e=ft,t={price:!0,count:!1,unavailable:!1}){let i=e.map((e=>{const i={...e};return t.price&&(i.orderPrice=e.price),t.count&&!Yt.cartSettings.allowPreorder&&(i.count=Math.min(e.count,e.quantity)),i}));return t.unavailable&&(i=i.filter((e=>!e.hidden&&e.count))),this.updateList(i),i}}class _t extends m{constructor(){super(),this.enabled=void 0,this.activeMethod=void 0,this.methods=void 0,this.cartSettings=void 0,this.methods=(I._group.ecommerce.delivery||[]).filter((e=>e.enabled)),this.cartSettings=Yt.cartSettings,this.enabled=this.methods.length>0,this.activeMethod=this.methods[0]}dispatch(e,...t){const i=this[e];if("function"!=typeof i)throw new Error(`Delivery dispatch: action '${e}' doesnt exist`);const o=i.apply(this,t);this.trigger("dispatch",{name:e,args:t,result:o})}getActive(){const e=this.activeMethod;return e?{id:e.id,type:e.type,title:e.title,desc:e.desc,price:this.getPrice(e.id)}:null}getMethod(e){return this.methods.find((t=>`${t.id}`===e))}selectMethod(e){return this.activeMethod=this.getMethod(e)||this.methods[0],this.activeMethod}getPrice(e){const{appliedPromocode:t}=Yt.promotionStore||{},i=e?this.getMethod(e):this.activeMethod,o=this.cartSettings.useMinTotal?+this.cartSettings.minTotal:0;let n,s=0,a="⏤",r=0,l="",c=0,d="",u=0,p="",h=0,m="",f=!1;if(i){const e=Yt.cartStore.getTotal(),a=(null==t?void 0:t.hasFreeDelivery)&&(null==t?void 0:t.isActive);i.prices.filter((e=>""!==e.from)).forEach(((t,n)=>{i.useMinTotal&&!n&&+t.from&&(s=+t.price,+t.from>o&&(u=+t.from)),(e>=+t.from||!n)&&(s=+t.price),a&&(s=0)}));const g=i.prices.find((e=>0===e.price));f=!!i.useNotFixTotal,n=f&&(!g||""===g.from),g&&(r=+g.from||0,c=Math.max(0,r-e),l=ce.formatMoney(r),d=ce.formatMoney(c)),u&&(h=Math.max(0,u-e),p=ce.formatMoney(u),m=ce.formatMoney(h))}return(!f||r&&c<=0)&&(f=!1,a=ce.formatMoney(s,{freeLabel:!0})),{current:s,currentFormatted:a,freeFrom:r,freeFromFormatted:l,untilFree:c,untilFreeFormatted:d,minTotal:u,minTotalFormatted:p,untilMinTotal:h,untilMinTotalFormatted:m,notFixedPrice:f,notHasFree:n}}}class vt extends m{get hasPromotionChanges(){var e,t;return!(null==(e=this.promotionsChanges)||!e.discount)||!(null==(t=this.promotionsChanges)||!t.promocode)}get groupId(){return"object"==typeof flexbe_cli?flexbe_cli.group_id:null}get timezone(){return"object"==typeof flexbe_cli?flexbe_cli.vars._group.timezone:null}constructor(e){super(),this.options=void 0,this.discounts=void 0,this.promocode=void 0,this.activeDiscount=void 0,this.nearestDiscount=void 0,this.appliedPromocode=void 0,this.promotionsChanges=void 0,this.getTotal=void 0,this.getTotalIncludingPromotions=void 0,this.options=e,this.appliedPromocode=null,this.activeDiscount=null,this.nearestDiscount=null,this.promotionsChanges={},this.getTotal=()=>(null==e.getTotal?void 0:e.getTotal())||0,this.getTotalIncludingPromotions=()=>{var e,t;return this.getTotal()-((null==(e=this.activeDiscount)?void 0:e.discountValue)||0)-((null==(t=this.appliedPromocode)?void 0:t.discountValue)||0)},flexbe_cli.is_admin||this.init(e)}init(e){var t;this.updateDiscountList(null!=(t=flexbe_cli.vars._group.discounts)?t:[],{updateChanges:!1}),e.needUpdateWithLS&&this.updateFromLocalStorage(),this.updateActiveDiscount(!1),this.updateNearestDiscount(),this.bindEvents()}async dispatch(e,...t){const i=this[e];if("function"!=typeof i)throw new Error(`Promotion dispatch: action '${e}' doesnt exist`);const o=await i.apply(this,t);this.trigger("dispatch",{name:e,args:t,result:o})}bindEvents(){this.on("dispatch.promotion-store",(({name:e})=>{["applyPromocode","removePromocode"].includes(e)&&(this.updateActiveDiscount(),this.updateNearestDiscount())}))}updateActiveDiscount(e=!1){var t;if(!this.discounts.length||this.appliedPromocode&&!this.appliedPromocode.usage_with_any_discount)return void(this.activeDiscount=null);const i=this.discounts.filter((e=>e.isAvailableByTime)),o=this.getTotal(),n=i.filter((e=>o>=e.active_from&&o-e.discountValue>=0)).sort(((e,t)=>t.discountValue-e.discountValue))[0]||null,s=this.activeDiscount,a=n?this.getDiscountData(n.id):null;e&&(null==n?void 0:n.discountValue)!==(null==(t=this.activeDiscount)?void 0:t.discountValue)&&(this.promotionsChanges.discount={oldData:s,newData:a}),this.activeDiscount=a}updateNearestDiscount(){var e;const t=this.getTotal(),i=this.getTotalIncludingPromotions();if(!this.discounts.length||this.appliedPromocode&&!this.appliedPromocode.usage_with_any_discount||i<=0)return void(this.nearestDiscount=null);const o=this.discounts.filter((e=>e.isAvailableByTime)),n=null==(e=o.filter((e=>e.active_from>t)).filter((e=>{if(this.activeDiscount){if("percent"===e.discount_type){const t=e.active_from*e.discount_amount;return"percent"===this.activeDiscount.discount_type?t>e.active_from*this.activeDiscount.discount_amount:t>this.activeDiscount.discount_amount}return+e.discount_amount>this.activeDiscount.discountValue}return!0})).sort(((e,t)=>e.discountValue-t.discountValue)).sort(((e,t)=>e.active_from-t.active_from))[0])?void 0:e.active_from;if(n){const e=o.filter((e=>e.active_from===n)).filter((e=>{var t;return!this.activeDiscount||e.discountValue>(null==(t=this.activeDiscount)?void 0:t.discountValue)})).sort(((e,t)=>t.discountValue-e.discountValue))[0]||{};this.nearestDiscount=e?this.getDiscountData(e.id):null}else this.nearestDiscount=null}updateAppliedPromocode(){var e,t;if(!this.appliedPromocode)return;const i=(null==(e=this.promotionsChanges)||null==(t=e.promocode)?void 0:t.oldData)||this.appliedPromocode,o=this.getPromocodeData();if(i&&o){var n,s;if(i.discountValue!==(null==o?void 0:o.discountValue)||i.delivery_free!==(null==o?void 0:o.delivery_free))this.promotionsChanges.promocode={oldData:(null==(n=this.promotionsChanges)||null==(s=n.promocode)?void 0:s.oldData)||this.appliedPromocode,newData:o,code:this.appliedPromocode.code};else this.acceptPromotionChanges({promocode:!0});this.appliedPromocode=this.promocode}}async applyPromocode(e){const t=this.getTotal();let i;try{i=await this.loadDataPromocode(e)}catch(e){const t=Error();throw t.name="default_error",t}if(this.updatePromocode(i,{updatePromotions:!1}),t&&this.promocode.active_from&&this.promocode.active_from>t){const e=new Error(this.promocode.active_from.toString());throw e.name="total_error",e}if(!this.promocode.isAvailableByTime){const e=new Error;throw e.name="timeout_error",e}if(this.appliedPromocode=i,this.options.needUpdateWithLS)try{localStorage.setItem("f_applied_promocode",JSON.stringify({code:e,id:this.promocode.id}))}catch(e){}}removePromocode(){this.appliedPromocode=null,this.acceptPromotionChanges({promocode:!0});try{localStorage.removeItem("f_applied_promocode")}catch(e){}}acceptPromotionChanges({promocode:e,discount:t}={}){e||t?(e&&delete this.promotionsChanges.promocode,t&&delete this.promotionsChanges.discount):this.promotionsChanges={}}async updateFromLocalStorage(){const e=JSON.parse(localStorage.getItem("f_applied_promocode"));if(e&&e.id&&e.code){var t;let i;try{i=await this.loadDataPromocode(e.code)}catch(e){return void this.removePromocode()}if(this.updatePromocode(i,{updatePromotions:!1}),null==(t=this.promocode)||!t.isActive)return void this.removePromocode();this.appliedPromocode=this.promocode}}getDiscountData(e){return this.discounts.find((t=>t.id===e))}getPromocodeData(){return this.promocode}async loadPromotionList(e){return new Promise(((t,i)=>$.ajax({url:"/api/promotions/get_list/",type:"GET",dataType:"json",data:{promotionType:e}}).done((e=>{t(e)})).fail((e=>{i(e)}))))}async loadDataPromocode(e){return new Promise(((t,i)=>$.ajax({url:"/api/promotions/get_promocode/",type:"GET",dataType:"json",data:{promoCode:e}}).done((e=>{t(e)})).fail((e=>{i(e)}))))}updatePromocode(e,{updatePromotions:t=!0}={}){"object"==typeof e&&Object.defineProperties(e,{isAvailableByTime:{get:()=>{const{date_from:t,date_to:i}=e;return ht({dateFrom:t,dateTo:i,timezone:this.timezone})}},discountValue:{get:()=>{const t=this.getTotal();return e&&"percent"===e.discount_type?Math.round(t*e.discount_amount)/100:+e.discount_amount}},isAvailable:{get:()=>!!this.promocode&&e.isAvailableByTime},isActive:{get:()=>{if(!e.isAvailable)return!1;const t=this.getTotal();return(null==e?void 0:e.active_from)<=t}},hasFreeDelivery:{get:()=>(null==e?void 0:e.delivery_free)||"delivery"===(null==e?void 0:e.discount_type)}}),this.promocode=e,t&&this.updateAppliedPromocode()}updateDiscountList(e,{updateChanges:t=!0,updatePromotions:i=!0}={}){e.forEach((e=>{Object.defineProperties(e,{isAvailableByTime:{get:()=>{const{date_from:t,date_to:i}=e;return ht({dateFrom:t,dateTo:i,timezone:this.timezone})}},discountValue:{get:()=>{const t=this.getTotal();return e&&"percent"===e.discount_type?Math.round(t*e.discount_amount)/100:+e.discount_amount}}})})),this.discounts=e,i&&(this.updateActiveDiscount(t),this.updateNearestDiscount())}async loadDiscountList({updateChanges:e=!0,updatePromotions:t=!0}={}){let i;try{i=await this.loadPromotionList("discount")}catch(e){return void(this.discounts=[])}this.updateDiscountList(i,{updateChanges:e,updatePromotions:t})}}const bt=(e,t,i)=>!(!e||!t||t&&"none"===i)&&("none"!==e.border&&(("color"!==i||"transparent"!==e.border&&!e.transparent)&&!("blur"===i&&e.animated)));function yt({image:e,style:t,action:i,productData:o,productKey:n,openOptionModal:s,options:a={}}){const r=React.useRef(null);React.useLayoutEffect((()=>{flexbe_cli.components.initComponent(this.base,null,"update")}),[e]);const l=flexbe_cli.vars._group.images,c=flexbe_cli.vars._globals.userAgent.toLowerCase(),d=flexbe_cli.vars._group.optimization.critical_css,u=c.includes("mobile")&&c.includes("safari"),p=flexbe_cli.vars._globals.isEditor,h=d&&!p,m=l.effect,f=React.useMemo((()=>({...e,...S(e)})),[e]),g=React.useMemo((()=>({type:t.overlay_type||f.overlay_type||"none",position:t.overlay_position||f.overlay_position||"center",color:t.overlay_color||f.overlay_color,opacity:t.overlay_opacity||f.overlay_opacity,contrast:t.overlay_contrast||f.overlay_contrast})),[t]),_="none"!==g.type,v=React.useMemo((()=>{var i,o,n,s,r,c;return{lazy:(l.lazy||t.lazy)&&!h,autoload:null==(i=t.autoload)||i,size:t.original_resolution?0:"%optimalWidth%",action:t.action||f.action||"none",type:a.type||"background",scale:"image"===a.type?"contain":a.scale||t.scale||"cover",effect:null!=(o=f.effect)?o:"zoom",x:(null==(n=t.position)?void 0:n.x)||(null==(s=f.position)?void 0:s.x)||"50%",y:(null==(r=t.position)?void 0:r.y)||(null==(c=f.position)?void 0:c.y)||"50%",round:t.round||f.round||0,title:_?t.title||f.title:"",desc:_?t.desc||f.desc:"",hrefSrc:R(f,t.original_resolution?0:1920,l),imageAttachment:t.attachment||"default",imageWidth:t.fitToSize&&"image"===t.type?Math.round(e.width<e.height?e.width/e.height*t.fitToSize:t.fitToSize):null,imageHeight:t.fitToSize&&"image"===t.type?Math.round(e.height<e.width?e.height/e.width*t.fitToSize:t.fitToSize):null}}),[t,f]),b=React.useMemo((()=>({ext:f.ext,name:f.name,linkBlank:t.link_blank||f.link_blank,id:f.id,border:f.border||"mixed",animated:f.animated||null,transparent:f.transparent||null,proportion:t.proportion||f.proportion||null,average:t.average||f.average||"#F7F7F7",preview:t.preview||f.preview||""})),[e,t]),y=React.useMemo((()=>"mail"===v.action||(t.link_blank||f.link_blank||null)),[t]),w=React.useMemo((()=>_&&!t.alt?v.title||v.desc||o.title||null:t.alt||f.alt||v.title||v.desc||o.title||null),[t]),x=["phone","mail","pages","anchor"].includes(v.action)?"link":v.action,A=React.useMemo((()=>{var e,i;return"none"!==x&&(null!=(e=null!=(i=t.effect)?i:v.effect)&&e)}),[t]),$=React.useMemo((()=>b.proportion?{"aspect-ratio":100/b.proportion}:{}),[b]),k=R(f,0,l),C={"--imagePositionX":v.x,"--imagePositionY":v.y},O={background:g.color,opacity:g.opacity/100},z=bt(f,v.lazy,m)&&"background"===v.type,T=z&&((e,t,i)=>{const o=t.average,n=t.preview,s=t.border;let a=t.width,r=t.height;if("contain"===i){if("color"===e&&o)return{"background-image":`url('data:image/svg+xml;utf8,<svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;${a}&quot; height=&quot;${r}&quot; viewBox=&quot;0 0 1 1&quot; preserveAspectRatio=&quot;none&quot;><rect width= &quot;1&quot; height=&quot;1&quot; fill=&quot;${o.replace(/#/g,"%23")}&quot; /></svg>')`};if("blur"===e&&n){a=300,r=a*t.proportion/100;let e=-10,i=120,o=20;return["#FFFFFF","transparent"].includes(s)&&(e=0,i=100,o=0),{"background-image":`url('data:image/svg+xml;utf8,<svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;${a}&quot; height=&quot;${r}&quot;><image filter=&quot;url(%23blur)&quot; y=&quot;${e}%25&quot; x=&quot;${e}%25&quot; width=&quot;${i}%25&quot; height=&quot;${i}%25&quot; href=&quot;data:image/webp;base64,${n}&quot;/><filter id=&quot;blur&quot;><feGaussianBlur in=&quot;SourceGraphic&quot; stdDeviation=&quot;${o}&quot; /></filter></svg>')`}}}return"color"===e&&o?{"background-color":o}:"blur"===e&&n?{"background-image":`url(data:image/webp;base64,${n});`}:{}})(m,f,v.scale);return React.h("div",{className:"component-image loading "+(v.round?"round":""),"data-component":"image","data-action-target":"none"!==x||null,"data-lightbox":"popup"===x&&v.hrefSrc||null,"data-sub-html":"popup"===x&&_?".overlay-content":null,"data-effect":A||null,"data-uniq-id":f.unq_id||null,"data-img-scale":v.scale,"data-img-type":v.type,"data-img-name":b.name,"data-img-id":b.id,"data-img-ext":b.ext,"data-img-proportion":b.proportion,"data-has-placeholder":z,"data-img-width":f.width,"data-img-lazy":!!v.lazy||null,"data-img-autoload":!!v.autoload||null,"data-img-original":!!t.original_resolution||null,"data-img-animated":!!b.animated||null,"data-img-transparent":!!b.transparent||null,style:C},["none","cart"].includes(x)?"":React.h("a",{"data-action":x,href:"link"===x&&decodeURI(e.url),target:"link"===x&&y&&"_blank"}),"cart"===x&&"cart"===i?React.h("a",{ref:r,"data-action":"cart",className:"cart-options-actions","data-product":JSON.stringify(o)}):"","cart"===x&&"modal"===i?React.h("a",{id:n,onClick:e=>{e.preventDefault(),e.stopPropagation(),s(e)},className:"cart-options-actions modal-options-actions","data-prevent-action":"true"}):"","image"===v.type?React.h("img",{className:"component-image__image component-image__img",alt:w,width:v.imageWidth,height:v.imageHeight,style:$,"data-original":v.lazy&&k||null}):React.h(React.Fragment,null,React.h("div",{className:`component-image__image component-image__bg component-image__bg--${v.scale}`,"data-original":v.lazy&&k||null,style:z?T:null,alt:w}),v.lazy?React.h("noscript",null,React.h("img",{alt:w,src:k})):""),_?React.h("div",{className:"component-image__overlay overlay-container scrollable","data-type":g.type},React.h("div",{className:"overlay-content","data-position":g.position,"data-contrast":g.contrast?g.contrast:null},g.color&&g.opacity?React.h("div",{className:"overlay-layer",style:O}):"",v.title?React.h("div",{className:"overlay-title"},`${v.title} ${u?"&#8205;":""} `):"",v.desc?React.h("div",{className:"overlay-desc"},`${v.desc} ${u?"&#8205;":""} `):"")):"")}function wt({list:e,options:t}){const i=React.useMemo((()=>({bulletsVisible:t.bullets_visible||0,type:t.pagination_type||e.pagination_type||"bullets",size:t.pagination_size||t.buttons_size||e.buttons_size||"medium",buttonsColor:t.buttons_color||e.buttons_color||"dark",color:t.color||e.color||"#000000",imageScale:t.scale||e.scale||"cover"})),[t,e]),o=React.useMemo((()=>"thumbs"===i.type?"outside":t.pagination_position||e.pagination_position||"inside"),[t,e]),n=React.useMemo((()=>"custom"===i.buttonsColor?{color:i.color}:{}),[]),s=React.useMemo((()=>"thumbs"!==i.type&&t.disabled),[t,e]);return React.h(React.Fragment,null,"none"!==i.type?React.h("div",{className:`slider-pagination ${s?" disabled":""} ${t.class} type--${i.type} color--${i.buttonsColor} position--${o} size--${i.size}`,"data-type":i.type,"data-prevent-action":"true","data-bullets-visible":"bullets"===i.type&&i.bulletsVisible,style:n}):"")}function xt({button:e,list:t,options:i}){const o=React.useMemo((()=>({type:i.buttons_type||t.buttons_type||!0,size:i.buttons_size||t.buttons_size||"medium",shape:i.buttons_shape||t.buttons_shape||"round",style:i.buttons_style||t.buttons_style||"filled",buttonsColor:i.buttons_color||t.buttons_color||"dark",color:i.color||t.color||"#000000",contrast:i.contrast||t.contrast||"light",buttonsPosition:i.buttons_position||t.buttons_position||"inside"})),[i,t]),n=React.useMemo((()=>null!=e?e:"prev"),[e]),s="custom"===o.buttonsColor&&o.color?{color:o.color}:{};return React.h("div",{className:`slider-button ${i.class} size--${o.size} style--${o.style} shape--${o.shape} color--${o.buttonsColor} position--${o.buttonsPosition}`,"data-direction":n,"data-prevent-action":!0,style:s},React.h("div",{className:"slider-button-holder"},React.h("div",{className:"slider-button-bg"}),React.h("svg",{className:"slider-button-icon","data-contrast":"custom"===o.buttonsColor?o.contrast:null},React.h("use",{href:`/_s/images/theme/4/res/slider.svg#btn-${o.size}-${o.type}`}))))}function At({defaultImg:e,list:t,style:i,action:o,productData:n,productKey:s,openOptionModal:a}){React.useLayoutEffect((()=>{flexbe_cli.components.initComponent(this.base,null,"update")}),[t]),React.useEffect((()=>{var t;if(null!=(t=this.base)&&t.componentInstance){const t=e&&$(this.base).find(`[data-uniq-id=${e}]`).closest("[data-real-index]").data("realIndex");null!=t&&this.base.componentInstance.slideTo(t,!0)}}),[e]);const r=React.useMemo((()=>{var e,o,n,s,a;return{count:t.length,action:i.action||t.action,type:i.type||"background",scale:i.scale||t.scale||"cover",autoplay:i.autoplay||t.autoplay||0,effect:i.slider_effect||t.slider_effect||"slide",pagination:i.pagination||t.pagination||"none",effectImage:null!=(e=null!=(o=i.image_zoom)?o:t.image_zoom)?e:"zoom",controlsOnHover:i.controls_on_hover||t.controls_on_hover||0,loop:!(t.length<2)&&!(!i.loop&&!t.loop),buttonsEnabled:null==(n=null!=(s=i.buttons_enabled)?s:t.buttons_enabled)||n,originalResolution:null!=(a=i.original_resolution)&&a}}),[i,t]);return React.h("div",{className:`component-slider swiper lightbox-container ${r.controlsOnHover?"swiper-controls-only-hover":""} ${i.class||""}`,"data-effect":r.effect,"data-count":r.count,"data-autoplay":r.autoplay,"data-loop":r.loop?1:0,"data-pagination":r.pagination,"data-img-type":r.type,"data-component":"slider"},React.h("div",{className:"component-slider__wrapper swiper-wrapper"},t.map(((e,t)=>React.h("div",{className:"component-slider__item swiper-slide "+(t?"":"swiper-slide-active"),"data-media-id":e.id,"data-type":r.type,"data-real-index":t},React.h(yt,{image:e.img||e,style:{action:r.action,scale:r.scale,effect:r.effectImage,original_resolution:r.originalResolution,title:"",desc:"",alt:"",autoload:!1},productData:n,productKey:s,action:o,openOptionModal:a}))))),t.length>1&&r.buttonsEnabled?React.h(React.Fragment,null,React.h(xt,{button:"prev",list:t,options:{...i,class:"disabled"}}),React.h(xt,{button:"next",list:t,options:{...i,class:"disabled"}})):"",t.length>1?React.h(wt,{list:t,options:{...i,disabled:1}}):"")}function $t({defaultImg:e,images:t,style:i,action:o,proportion:n,typeCard:s,padding:a,paddingAdaptive:r,productData:l,productKey:c,openOptionModal:d}){const u=null!=a?a:10,p={"--elementPadding":`${u}px`,"--elementPaddingAdaptive":`${null!=r?r:u}px`},h=null!=n?n:12,m=null!=s?s:"single";return React.h("div",{className:"zone-products__element zone-products__media zone-products__media-content",style:p,"data-cols":"double"===m&&h},"image"===i.type?React.h(yt,{image:t[0],style:i.image,productData:l,productKey:c,action:o,openOptionModal:d}):React.h(At,{defaultImg:e,list:t,style:i.slider,productData:l,productKey:c,action:o,openOptionModal:d}))}function kt(e){var t,i;const o=e.style.color||"contrast",n=o.includes("#")?"custom":o,s=null!=(t=e.padding)?t:10,a={"--elementPadding":`${s}px`,"--elementPaddingAdaptive":`${null!=(i=null==e?void 0:e.paddingAdaptive)?i:s}px`};return React.h("div",{className:"zone-products__element zone-products__title "+(e.style.uppercase?"zone-products__title--uppercase":""),style:a,"data-color":n},(e=>{try{return Ce(e)||(e=Se(e)),e}catch(t){return e}})(e.name))}const Ct={selectClass:"",dropdownClass:"",selectedClass:"selected",optionSelector:"option",attrValue:"value",position:"over",padding:10,title:!1};class St{static create(e){return new this(e)}constructor(e){this.opts=e,this.config={...Ct,...e.config},this.element=e.element,this.$select=$(this.element),this.isNativeSelect=this.$select.is("select"),this.selectAllDevice="select"===this.$select.data("type"),this.blurTimeOut=!1,this.blurListTimeOut=!1,this.focused=!1,this.active=!1,this.createSelect()}createSelect(){this.$customSelect=$(`\n            <div class="dropdown-container ${this.config.selectClass}">\n                <div tabindex="0" class="dropdown-select">\n                    <span class="dropdown-select__content selected"></span>\n\n                    <span class="arrow">\n                        <svg viewBox="0 0 10 6" xmlns="http://www.w3.org/2000/svg">\n                            <path fill="currentColor" d="M 1.4 6.99441e-15L 0 1.34043L 5 6L 10 1.34043L 8.6 0L 5 3.34998L 1.4 6.99441e-15Z"/>\n                        </svg>\n                    </span>\n                </div>\n            </div>\n        `),this.$customSelect__content=this.$customSelect.find(".dropdown-select__content"),this.$select.after(this.$customSelect),this.syncSelect(),this.selectAllDevice||flexbe_cli.run.is_screen_desktop||!flexbe_cli.responsive?(this.$customSelect.off("click.selected").on("click.selected",".dropdown-select",(()=>{clearTimeout(this.blurListTimeOut),this.active?this.collapse():this.activate()})),this.$customSelect.off("focus.selectFocus").on("focus.selectFocus",".dropdown-select",(()=>{this.focused=!0,this.$listWrapper||this.createList()})),this.isNativeSelect&&this.$select.off("change.changeSelect").on("change.changeSelect",(e=>{const t=this.$listWrapper.find(".dropdown-select-ul li"),i=e.currentTarget.value;t.removeClass(this.config.selectedClass),t.filter(((e,t)=>t.getAttribute(this.config.attrValue)===i)).addClass(this.config.selectedClass),this.$customSelect__content.text(i),"function"==typeof this.opts.onChange&&this.opts.onChange(e)})),this.$customSelect.off("keydown.selectKeydown").on("keydown.selectKeydown",".dropdown-select",(e=>{if(this.focused&&[13,27,32,38,40].includes(e.keyCode)){e.preventDefault();const t=this.$list.find(`.option-e.${this.config.selectedClass}`).filter((e=>!$(e).attr("disabled")));if(40===e.keyCode)e.preventDefault(),this.select(t.next(),!1),this.scrollToSelected();else if(38===e.keyCode)e.preventDefault(),this.select(t.prev(),!1),this.scrollToSelected();else if(this.active||32!==e.keyCode){if(this.active&&[13,27,32].includes(e.keyCode))return e.preventDefault(),this.collapse(),!1}else e.preventDefault(),this.activate()}}))):this.$select.off("change.selected").on("change.selected",(e=>{const t=e.target.value;this.$customSelect__content.text(t)}))}syncSelect(){const e=this.$select.children(this.config.optionSelector).filter(((e,t)=>{var i;return(null!=(i=t.selected)?i:$(t).attr("selected"))||$(t).hasClass(this.config.selectedClass)})).eq(0),t=e.html()||"—";this.$customSelect__content.attr(this.config.attrValue,e.attr(this.config.attrValue)),this.$customSelect__content.html(t)}createList(){const e=this.$select.children(this.config.optionSelector);this.$listWrapper=$(`\n            <div class="select-container-in-body">\n                <div class="overlay"></div>\n                <ul class="dropdown-select-ul scrollable ${this.config.dropdownClass}" tabindex="0"></ul>\n            </div>\n        `),this.$list=this.$listWrapper.find(".dropdown-select-ul"),e.each(((e,t)=>{var i,o,n;const s=$(t),a=(null!=(i=t.selected)?i:s.attr("selected"))||s.hasClass(this.config.selectedClass),r=(null!=(o=t.disabled)?o:s.attr("disabled"))||s.hasClass("disabled"),l=(null!=(n=t.locked)?n:s.attr("locked"))||s.hasClass("locked"),c=this.isNativeSelect?s.val():s.attr(this.config.attrValue),d=s.html().trim()||"—";let u="";this.config.title&&(u=s.attr("data-title"));const p=$(`<li title='${u}' class="option-e"></li>`);a&&!r&&p.addClass(this.config.selectedClass),r&&p.attr("disabled","disabled"),l&&p.attr("locked","locked"),p.attr(this.config.attrValue,c),p.html(d),this.$list.append(p)}))}select(e,t){if(!e[0])return;if(e.attr("disabled"))return clearTimeout(this.blurTimeOut),void this.$list.off("blur.listBlur").on("blur.listBlur",(()=>{this.focused=!1,this.blurListTimeOut=setTimeout((()=>{this.$listWrapper&&this.collapse()}),200)}));const i=e.attr(this.config.attrValue);if(e.siblings("li").removeClass(this.config.selectedClass),e.addClass(this.config.selectedClass),this.isNativeSelect)this.$select.val(i);else{const e=this.$select.children(this.config.optionSelector);e.removeAttr("selected").removeClass(this.config.selectedClass),e.filter(`[${this.config.attrValue}=${i}]`).addClass(this.config.selectedClass).attr("selected","selected")}this.syncSelect(),t&&this.collapse()}scrollToSelected(){const e=this.$list[0].offsetHeight;if(this.$list[0].scrollHeight<=e)return!1;const t=this.$list.children(".option-e").find(`.${this.config.selectedClass}`)[0];t&&t.scrollIntoView()}collapse(){clearTimeout(this.blurTimeOut),this.active=!1,this.$listWrapper.removeClass("active rise"),this.$listWrapper.detach(),"function"==typeof this.opts.onCollapse&&this.opts.onCollapse()}activate(){if(this.active)return!1;this.active=!0,this.createList();const e=this.config.padding||0,t={...flexbe_cli.helpers.dom.getElOffset(this.$customSelect[0]),width:this.$customSelect.width(),height:this.$customSelect.height()};"under"===this.config.position&&(t.top=t.top+t.height+e),this.$listWrapper.off("click.closeSelect").on("click.closeSelect",".overlay",(e=>{this.collapse();const t=document.elementFromPoint(e.clientX,e.clientY);t&&t.focus()})),this.$listWrapper.off("click.selectLi").on("click.selectLi",".dropdown-select-ul li",(e=>{const t=$(e.currentTarget);this.select(t,!0),"function"==typeof this.opts.onSelect&&this.opts.onSelect(e)})),this.$listWrapper.off("mousewheel.selectUl").on("mousewheel.selectUl",".dropdown-select-ul",(e=>{const t=e.currentTarget.scrollHeight,i=e.currentTarget.clientHeight;return!(e.currentTarget.scrollTop===t-i&&e.deltaY>0||0===e.currentTarget.scrollTop&&e.deltaY<0)})),$("body").append(this.$listWrapper),clearTimeout(this.blurTimeOut),this.$list.css({left:`${t.left}px`,top:`${t.top}px`,width:`${t.width}px`}),this.$listWrapper.outerWidth(),this.$listWrapper.toggleClass("rise",!!this.$select.closest(".m_modal, .w_widget").length),this.$listWrapper.addClass("active"),this.scrollToSelected(),"function"==typeof this.opts.onActivate&&this.opts.onActivate()}}const Rt=e=>{try{return Ce(e)||(e=Se(e)),e}catch(t){return e}};function Ot({style:e,option:t,activeOption:i,selectOption:o,combinationOptionsList:n,cardStylesAdaptive:s}){var a,r,l;const c=React.useRef(null),d=React.useRef(null),u=React.useMemo((()=>{var t,i,o,n,s;return{colorTitle:null!=(t=e.label.color)?t:"contrast",colorActive:null!=(i=e.color)?i:"contrast",showTitle:null==(o=e.show_title)||o,size:null!=(n=e.size)?n:"medium",style:null!=(s=e.style)?s:"filled"}}),[e]),p=null!=(a=null==s?void 0:s.elementsStyles)?a:{},h=null!=(r=null==p?void 0:p.options)?r:{},m=null!=(l=null==h?void 0:h.show_title)?l:u.showTitle,f=React.useMemo((()=>{var e,i;return null!=(e=null==(i=t.data)?void 0:i.widget_type)?e:"vertical_list"}),[t]),g=React.useMemo((()=>i.map((e=>`${e.option_id}_${e.value_id}`))),[i]),_=u.colorTitle.includes("#")?"custom":u.colorTitle,v=u.colorActive.includes("#")?"custom":u.colorActive;React.useEffect((()=>{((e,t)=>{e.filter("[data-tooltipstered]").each(((e,t)=>{flexbe_cli.tip.destroy(t)})),e.each(((e,i)=>{const o=$(i),n=o.attr("data-option-id"),s=t.find((e=>e.optionId===n)),a=s.tipText;if(o.removeClass("disabled locked"),o.addClass(s.exceptionClass),o.is("[data-tip]")){const e=o.attr("data-tip"),t=o.attr("data-radio"),n=t?`<div class="zone-products-option-tip__title">${e}</div><div class="zone-products-option-tip__status">${a}</div>`:a,s=e&&a?n:t?e:"";s&&flexbe_cli.tip.init(i,{interactive:!1,content:s,triggerOpen:{click:!0,touchstart:!1,mouseenter:!0}})}else o.find(".option-state")[0].innerHTML=a}))})($(d.current).find(".element-option"),n)}),[n]),React.useEffect((()=>{(({selectBlock:e,selectOption:t,optionsSize:i})=>{if(e.current){const o={optionSelector:".zone-products-option__select-item",attrValue:"data-option-id",dropdownClass:`products-select products-select__${i}`,position:"under",title:!0},n=$(e.current).find(".zone-products-option__select-block"),s=e=>{$(e.target).attr("disabled")||t(e.target.dataset.optionId)},a=()=>{n.removeClass("active")},r=()=>{n.addClass("active"),n.siblings(".zone-products-option__select-content").removeClass("active")};$(e.current).find(".dropdown-container").remove(),St.create({element:n[0],config:o,onSelect:s,onActivate:r,onCollapse:a})}})({selectBlock:c,selectOption:o,optionsSize:u.size})}),[o]);const b=e=>{const t=e.target;$(t).hasClass("disabled")||$(t).hasClass("active")||o(t.dataset.optionId)};return React.h(React.Fragment,null,React.h("div",{className:`zone-products-option__title ${u.showTitle?"":"hidden-desktop"} ${m?"":"hidden-mobile"}`,"data-color":_},t.name),React.h("div",{ref:d,className:`zone-products-option__content ${"vertical_list"!==f?"zone-products-option__content-radio":""} option-size--${u.size}`,"data-color":v},"vertical_list"!==f?t.values.map((e=>{var i,o;const n=`option-style--${u.style}`,s=null!=(i=null!=(o=e.data.contrastFixed)?o:e.data.contrast)?i:"dark",a={background:e.data.color};return React.h("div",{className:`element-option zone-products-option ${g.includes(`${t.id}_${e.id}`)?"active selected":""} zone-products-option--${f} ${"radio"!==f&&n}`,"data-option-id":`${t.id}_${e.id}`,"data-tip":"radio"===f||"vertical_block"===f?Rt(e.name):null,"data-tooltipstered":"radio"===f||"vertical_block"===f||null,"data-radio":"radio"===f||null,onClick:b},"color"===t.data.type&&"radio"===f?React.h("span",{className:"option-color-item__substrate"}):"","color"===t.data.type?React.h("span",{className:"option-color-item",style:a}):"","radio"===f?React.h("i",{className:"","data-contrast":s}):"","radio"!==f?React.h("span",{className:"option-name-item"},Rt(e.name)):"","radio"!==f&&"horizon_block"===f?React.h("span",{className:"option-state"}):"")})):React.h("div",{ref:c,className:`zone-products-option__select-content option-style--${u.style}`},React.h("div",{className:"form-field-select"},React.h("div",{className:"select-outer"},React.h("div",{"data-type":"select",className:"zone-products-option__select-block"},t.values.map((e=>{const i={background:e.data.color};return React.h("div",{className:"element-option zone-products-option__select-item "+(g.includes(`${t.id}_${e.id}`)?"active selected":""),"data-title":Rt(e.name),"data-option-id":`${t.id}_${e.id}`},"color"===t.data.type?React.h("span",{className:"option-color-item",style:i}):"",React.h("div",{className:"option-text-block"},React.h("span",{className:"option-name"},Rt(e.name)),React.h("span",{className:"option-state"})))}))))))))}function zt({options:e,activeOption:t,combinationOptionsList:i,style:o,padding:n,cardStylesAdaptive:s,selectOption:a}){return React.h("div",{className:"zone-products__element zone-products__options",style:null!=n?n:null},e.map((e=>React.h(Ot,{option:e,combinationOptionsList:i,activeOption:t,style:o,cardStylesAdaptive:s,selectOption:a}))))}function Tt(e){var t,i,o;const n=e.style.color||"contrast",s=null!=(t=e.style.opacity)?t:100,a=null!=(i=e.padding)?i:10,r={"--elementPadding":`${a}px`,"--elementPaddingAdaptive":`${null!=(o=null==e?void 0:e.paddingAdaptive)?o:a}px`,"--colorOpacity":`${s}%`},l=e.fixToBottom||0,c=e.style.no_gutter||0;return React.h("div",{className:`zone-products__element products-hr ${c?"no-gutter":""} ${l?"zone-products__button-to-bottom":""}`,style:r,"data-color":n})}function It(e){var t,i,o;const n=null!=(t=e.padding)?t:10,s={"--elementPadding":`${n}px`,"--elementPaddingAdaptive":`${null!=(i=null==e?void 0:e.paddingAdaptive)?i:n}px`},a=Se(e.variant.article),r=null!=(o=e.style.show_article_value_only)&&o?a:flexbe_cli.locale.tr("ecommerce.article",{article:a}),l=React.useMemo((()=>{const t=e.style.color||"contrast";return t.includes("#")?"custom":t}),[e.style]);return React.h("div",{className:"zone-products__element zone-products__article active",style:s,"data-color":l},r)}const Et=e=>{try{Ce(e)||(e=Se(e))}catch(e){}return e=e.replace(/\n/g,"<br>")};function Pt(e){var t,i;const o=null!=(t=e.padding)?t:10,n={"--elementPadding":`${o}px`,"--elementPaddingAdaptive":`${null!=(i=null==e?void 0:e.paddingAdaptive)?i:o}px`},s=e.style.color||"contrast",a=s.includes("#")?"custom":s;return React.h("div",{className:"zone-products__element zone-products__desc",style:n,"data-color":a,dangerouslySetInnerHTML:{__html:Et(e.description)}})}function Mt(e){var t,i;const o=null!=(t=e.padding)?t:10,n={"--elementPadding":`${o}px`,"--elementPaddingAdaptive":`${null!=(i=null==e?void 0:e.paddingAdaptive)?i:o}px`},s=e.style.color.includes("#")?"custom":e.style.color||"contrast",a=e.style.colored_statuses||0,r=flexbe_cli.vars._group.ecommerce.in_stock_status||"none",l=flexbe_cli.vars._group.ecommerce.out_of_stock_status||"none",c=flexbe_cli.vars._group.ecommerce.out_of_stock_action||"forbid_preorder",d=!e.variant.quantity&&-1!==e.variant.quantity;let u="",p="hide";return"none"!==r&&(u=-1===e.variant.quantity||"in_stock"===r?flexbe_cli.locale.tr("cart.quantity_status.in_stock"):flexbe_cli.locale.tr("cart.quantity_status.items_in_stock",{count:e.variant.quantity}),p="in_stock"),d&&"none"!==l&&("allow_preorder"===c&&(u="in_stock"===l?flexbe_cli.locale.tr("cart.quantity_status.in_stock"):flexbe_cli.locale.tr("cart.quantity_status.preorder"),p="in_stock"===l?"in_stock":"preorder"),"out_of_stock"===l&&(u=flexbe_cli.locale.tr("cart.quantity_status.out_of_stock"),p="not-available")),React.h(React.Fragment,null,u?React.h("div",{className:`zone-products__element zone-products__available active ${a?"colored-status":""} ${p}`,style:n,"data-color":s},u):"")}function Dt(e){var t;const i=null!=(t=e.padding)?t:10,o=()=>{if(null===e.variant.price)return flexbe_cli.locale.tr("ecommerce.card.price.empty")||"ecommerce::card::price::empty";const t="free"===flexbe_cli.vars._group.ecommerce.zero_price;return flexbe_cli.locale.formatMoney(e.variant.price,{freeLabel:t})},n=React.useMemo((()=>{var t;return{padding:{"--elementPadding":`${i}px`,"--elementPaddingAdaptive":`${null!=(t=null==e?void 0:e.paddingAdaptive)?t:i}px`},classes:e.classes||"",price:o(),color:e.style.color||"contrast",class:e.class||"",colorOldPrice:e.style.old_price_color||"contrast",hideOldPriceDesktop:e.hideOldPriceDesktop||!1,hideOldPriceAdaptive:void 0===e.hideOldPriceAdaptive||"inherit"===e.hideOldPriceAdaptive?e.hideOldPriceDesktop:e.hideOldPriceAdaptive}}),[e]),s=React.useMemo((()=>!!e.variant.oldPrice&&flexbe_cli.locale.formatMoney(e.variant.oldPrice)),[e]),a=n.color.includes("#")||n.color.includes("rgba")?"custom":n.color,r=n.colorOldPrice.includes("#")||n.colorOldPrice.includes("rgba")?"custom":n.colorOldPrice,l=React.useMemo((()=>e.usePriceOld&&!n.hideOldPriceDesktop),[e]),c=React.useMemo((()=>e.usePriceOld&&!n.hideOldPriceAdaptive),[e]);return React.h("div",{className:`zone-products__element zone-products__price-container active ${n.classes}`,style:n.padding,"data-color":a},React.h("s",{className:`\n                ecommerce-old-price\n                ${l&&s?"priceMr10-desktop":"hidden-desktop"} \n                ${c&&s?"priceMr10-mobile":"hidden-mobile"}\n            `,"data-color":r},s),React.h("span",{className:"ecommerce-price"},n.price))}function Nt({fillType:e,isLazyLoading:t,fillData:i,borderData:o}){const n=flexbe_cli.vars._group.images,s=React.useMemo((()=>{var t,o,s;return"image"===e&&i.image?{id:i.image.id,ext:i.image.ext,width:i.image.width,animated:null!=(t=i.image.animated)?t:0,transparent:null!=(o=i.image.transparent)?o:0,proportion:null!=(s=i.image.proportion)?s:0,url:R(i.image,1400,n)}:{}}),[i,e]),a=React.useMemo((()=>t?{}:{"background-image":`url(${s.url})`}),[t,s]);return React.h(React.Fragment,null,o.color?React.h("div",{className:`bg-element__border_hover is-${Ae(o.color)}`}):"","color"===e?React.h("div",{className:"bg-element__fill_hover bg-element__fill_hover--color"}):"","image"===e&&s.id?React.h("div",{className:"bg-element__fill_hover bg-element__fill_hover--image","data-id":s.id,"data-ext":s.ext,"data-width":s.width,"data-animated":s.animated,"data-transparent":s.transparent,"data-hover-type":e,"data-proportion":s.proportion,style:a}):"")}function Lt({background:e,transitions:t}){var i,o,n,s,a,r;const l=flexbe_cli.vars._globals.isMobile,c=flexbe_cli.vars._globals.isEditor,d=flexbe_cli.vars._group.optimization.critical_css&&!c,u=flexbe_cli.vars._group.images,p=u.lazy&&!d,h=React.useMemo((()=>({hover:t.hover.enabled?t.hover:{}})),[t.hover]),m=React.useMemo((()=>{var t,i,o,n,s,a,r,l;return{type:e.type||"none",shadowEnabled:e.shadow_enabled||(null==(t=e.shadow)?void 0:t.enabled)||(null==h||null==(i=h.hover.shadow)?void 0:i.enabled),borderEnabled:e.border_enabled||e.border>0||(null==(o=h.hover)||null==(n=o.border)?void 0:n.enabled),glareEnabled:null==(s=h.hover)||null==(a=s.glare)?void 0:a.enabled,borderColorType:Ae(null!=(r=e.border_color)?r:null==(l=h.hover.border)?void 0:l.color),image:p?e.image:R(e.image)}}),[e,h.hover]),f=null!=(i=h.hover.fill)?i:{},g=null!=(o=h.hover.border)?o:{},_=null!=(n=g.enabled)&&n,v=f.type||"none",b=u.effect,y="image"===m.type&&m.image.id?{id:m.image.id,ext:m.image.ext,width:m.image.width,animated:null!=(s=m.image.animated)?s:0,transparent:null!=(a=m.image.transparent)?a:0,proportion:null!=(r=m.image.proportion)?r:0,preview:m.image.preview}:{},w=l?800:1400,x=R(m.image,w,u),A=bt(m.image,p,b),$=p?{}:{"background-image":x},k="blur"===b?{"background-image":`url(data:image/webp;base64, ${y.preview})`}:{};return React.h(React.Fragment,null,m.shadowEnabled?React.h("div",{className:"bg-element__shadow"}):"",m.borderEnabled?React.h("div",{className:`bg-element__border is-${m.borderColorType}`}):"",m.glareEnabled?React.h("div",{className:"bg-element__glare"}):"","color"===m.type?React.h("div",{className:"bg-element__fill bg-element__fill--color","data-type":m.type}):"","image"===m.type&&m.image.id?React.h("div",{className:"bg-element__border"}):"","image"===m.type&&m.image.id?React.h("div",{className:"bg-element__fill bg-element__fill--image","data-type":m.type,"data-id":y.id,"data-ext":y.ext,"data-width":y.width,"data-animated":y.animated,"data-transparent":y.transparent,"data-proportion":y.proportion,"data-has-placeholder":A,"data-lazy":p,"data-loaded":!p,style:$}):"",A?React.h("div",{className:`bg-element__preview effect--${b}`,style:k}):"","none"!==v||_?React.h(Nt,{fillType:v,isLazyLoading:p,fillData:f,borderData:g}):"")}function qt({icon:e}){const t=React.useMemo((()=>{var t;return{size:null!=(t=e.size)?t:"medium",outline:e.outline,isProcessedSvg:String(e.url).includes("/_s/images/svg/")||e.is_flexbe||e.is_noun,backgroundImage:{"background-image":`url(${e.url})`}}}),[e]),i=React.useMemo((()=>{const i={};var o;"custom"===t.size&&(i["--iconSize"]=`${null!=(o=e.size_custom)?o:16}px`);return t.outline&&(i["--stroke"]=t.outline),i}),[e,t]);return React.h("div",{className:`component-icon component-ico size--${t.size} style--none color--contrast border--none shape--none scale--contain`,style:i,"data-component":"icon","data-img-url":"{ icon.url }"},React.h("div",{className:"icon-wrap"},t.isProcessedSvg?React.h("svg",{className:"icon vector-icon",viewBox:"0 0 50 50"},React.h("use",{href:`${e.url}#icon`})):React.h("div",{className:"icon custom-icon",style:t.backgroundImage})))}const Ft=e=>{try{return Ce(e)||(e=Se(e)),flexbe_cli.run.is_ios&&(e+="&#8205;"),e}catch(t){return e}},Vt=({background:e,transitions:t})=>{const i=["bg-element",`bg-element--${e.type}`,"js-hover"],o=!(!t.hover||!t.hover.enabled)&&t.hover;return o&&i.push("bg-element--hover"),(e.border_enabled||e.border>0)&&i.push("bg-element--border"),(e.underline_enabled||e.underline>0)&&i.push("bg-element--underline"),o&&((o.text&&o.text.enabled||o.fill&&o.fill.enabled)&&i.push("bg-element--hover-text"),o.border&&o.border.enabled&&i.push("bg-element--hover-border"),o.fill&&o.fill.enabled&&("circle"===o.fill.style?i.push("bg-element--hover-fill_circle"):"rectangle"===o.fill.style?i.push("bg-element--hover-fill_rectangle"):i.push("bg-element--hover-fill_fade")),o.scale&&o.scale.enabled&&i.push("bg-element--hover-scale"),o.shift&&o.shift.enabled&&i.push("bg-element--hover-shift"),o.fadein&&o.fadein.enabled&&i.push("bg-element--hover-fadein"),o.shadow&&o.shadow.enabled&&i.push("bg-element--hover-shadow"),o.opacity&&o.opacity.enabled&&i.push("bg-element--hover-opacity"),o.underline&&o.underline.enabled&&("underlined"===o.underline.type?i.push("bg-element--hover-underline_underlined"):"animated"===o.underline.type?i.push("bg-element--hover-underline_animated"):"change"===o.underline.type&&i.push("bg-element--hover-underline_change"))),i.join(" ")};function Bt({buttonStyle:e,action:t,buttonClick:i,disabled:o,price:n,productData:s,productKey:a,type:r,positionType:l}){var c,d;if(!e.is_new){var u,p;const o=React.useRef(null),l=React.useMemo((()=>{var t,i,o,n,s,a,r,l,c,d;return{style:null!=(t=e.style)?t:["filled","squared"],size:null!=(i=e.size)?i:"medium",weight:null!=(o=e.weight)?o:"medium",lineSize:null!=(n=e.line_size)?n:"small",wide:null!=(s=e.wide)?s:0,color:null!=(a=e.color)?a:"#FFFFFF",colorText:null!=(r=e.color_text)?r:"auto",lang:null!=(l=e.lang)?l:"",showIcon:null!=(c=e.show_icon)?c:0,icon:e.icon,order:null!=(d=e.content_order)?d:""}}),[e]),c=React.useMemo((()=>"price_in_button"===r?n:e.submit.replace(/{\s?price\s?}/,n)||""),[r,e]),d=React.useMemo((()=>{var t;return!l.style.includes("bordered")||e.effect&&"opacity"!==e.effect?null!=(t=e.effect)?t:"opacity":"fill"}),[e]),h=c.length,m=Ae(l.color),f=["component-button","is-old-button",""+(l.wide?"wide":""),`background--${m}`,`text--${l.colorText}`,`effect--${d}`,`line_size--${l.lineSize}`,`weight--${l.weight}`,`size--${l.size}`,"js-hover",...l.style].join(" ");React.useEffect((()=>{if(null!==o.current){const e=$(o.current),t=e.attr("data-product");t&&(e.removeAttr("data-product"),e.data("product",JSON.parse(t)))}}));const g=e=>{e.preventDefault(),e.stopPropagation(),i(e)};return React.h("button",{className:f,"data-action-target":!0},["cart"].includes(t)?React.h("a",{ref:o,"data-action":"cart","data-product":JSON.stringify(s)}):React.h("a",{onClick:g,id:a,className:"modal-options-actions"}),React.h("div",{className:"loader-products"},React.h("svg",{className:"circular-loader infinite",viewBox:"25 25 50 50"},React.h("circle",{className:"circular-loader--path",cx:"50",cy:"50",r:"19"}))),React.h("span",{className:`btn-content ${l.showIcon&&h?"btn-content-icon-text":l.showIcon?"btn-content-icon":"btn-content-text"} ${l.showIcon&&"from_right"===l.order?"icon-on-right":"icon-on-left"}`},React.h("svg",{className:"btn-icon success-icon",viewBox:"0 0 18 14"},React.h("path",{d:"M 2.205 5.77223L 0 7.92347L 6.3 14L 18 2.15124L 15.795 0L 6.3 9.74699L 2.205 5.77223Z"})),l.showIcon&&null!=(u=l.icon)&&u.url?React.h(qt,{icon:l.icon}):"",h||null!=(p=l.lang)&&p.length?React.h("span",{className:"btn-text",dangerouslySetInnerHTML:{__html:l.lang?flexbe_cli.locale.tr(l.lang):Ft(c)}}):""))}const h=React.useRef(null),m=React.useMemo((()=>{var t,i,o,n,s,a,r,c,d,u,p,h,m,f,g,_,v,b,y;return{fillEnabled:!!e.fill.enabled,borderEnabled:!!e.border.enabled,shadowEnabled:!!e.shadow.enabled,wide:"free"===l||!!e.wide,high:"free"===l||!!e.high,action:null!=(t=e.action)?t:"none",transitions:null!=(i=e.transitions)?i:{},fillContrast:null!=(o=e.fill.contrast)?o:"dark",fillOpacity:null!=(n=e.fill.opacity)?n:100,borderColor:null!=(s=e.border.color)?s:"#ffffff",textColor:null!=(a=e.text.color)?a:"#ffffff",hoverTextColor:null!=(r=null==(c=e.transitions)||null==(d=c.hover)||null==(u=d.text)?void 0:u.color)?r:"#ffffff",underlineEnabled:null==(p=e.underline)?void 0:p.enabled,hoverUnderlineEnabled:null==(h=e.transitions)||null==(m=h.hover)||null==(f=m.underline)?void 0:f.enabled,underlineType:null==(g=e.transitions)||null==(_=g.hover)||null==(v=_.underline)?void 0:v.type,showIcon:null!=(b=e.icon.enabled)&&b,icon:e.icon,iconOrder:null!=(y=e.icon.position)?y:"left",lang:e.lang}}),[e,l]),f=React.useMemo((()=>"price_in_button"===r?n:e.submit.replace(/{\s?price\s?}/,n)||""),[r,e]),g=React.useMemo((()=>["light","dark"].includes(e.textColor)?e.textColor:e.fillContrast),[e]),_=[Ae(m.borderEnabled&&!(m.fillEnabled||0===m.fillOpacity)&&"auto"===m.textColor?m.borderColor:m.textColor),Ae(m.hoverTextColor)].includes("gradient")?"gradient":"color",v=f.length,b={type:"color",border_enabled:m.borderEnabled,shadow_enabled:m.shadowEnabled,border_color:m.borderColor,underline_enabled:m.underlineEnabled,underline_type:m.underlineType},y=["component-button","scale-only-bg-layers",""+(m.wide?"wide":""),""+(m.high?"high":""),""+(o?"disabled":""),"js-hover",`${Vt({background:b,transitions:m.transitions})}`].join(" ");React.useEffect((()=>{if(null!==h.current){const e=$(h.current),t=e.attr("data-product");t&&(e.removeAttr("data-product"),e.data("product",JSON.parse(t)))}}));return React.h("button",{className:y,"data-action-target":!0,"data-contrast":g},React.h(Lt,{background:b,transitions:m.transitions}),["cart"].includes(t)?React.h("a",{ref:h,"data-action":"cart","data-product":JSON.stringify(s)}):React.h("a",{onClick:e=>{e.preventDefault(),e.stopPropagation(),i(e)},id:a,className:"modal-options-actions"}),React.h("div",{className:"circular-loader"},React.h("svg",{className:"circular-loader infinite",viewBox:"25 25 50 50"},React.h("circle",{className:"circular-loader--path",cx:"50",cy:"50",r:"19"}))),React.h("span",{className:`btn-content text-${_} ${m.showIcon&&v?"btn-content-icon-text":m.showIcon?"btn-content-icon":"btn-content-text"} ${m.showIcon&&"right"===m.iconOrder?"icon-on-right":"icon-on-left"}`},React.h("svg",{className:"btn-icon success-icon",viewBox:"0 0 18 14"},React.h("path",{d:"M 2.205 5.77223L 0 7.92347L 6.3 14L 18 2.15124L 15.795 0L 6.3 9.74699L 2.205 5.77223Z"})),m.showIcon&&null!=(c=m.icon)&&c.url?React.h(qt,{icon:m.icon}):"",v||null!=(d=m.lang)&&d.length?React.h("span",{className:"btn-text-wrapper"},m.underlineEnabled||m.hoverUnderlineEnabled?React.h("div",{className:`bg-element__underline is-${m.underlineType}`}):"",React.h("span",{className:"btn-text",dangerouslySetInnerHTML:{__html:m.lang?flexbe_cli.locale.tr(m.lang):Ft(f)}})):""))}function jt(e){var t,i,o,n;const s=React.useRef(null);React.useEffect((()=>{if(!flexbe_cli.is_admin){const e=$(s.current).find(".button-toltipster_container");e.attr("data-tip")?flexbe_cli.tip.init(e[0],{interactive:!1,triggerOpen:{click:!0,touchstart:!1,mouseenter:!0}}):e.hasClass("tooltipstered")&&flexbe_cli.tip.destroy(e[0])}}),[e]);const a=["button","price_in_button"].includes(e.type),r="allow_preorder"===(flexbe_cli.vars._group.ecommerce.out_of_stock_action||"forbid_preorder"),l=null!=(t=e.buttonAdaptive)?t:{},c=null!=(i=e.positionType)?i:"static",d=(null==l?void 0:l.price)||{},u=null==d?void 0:d.hide_old_price,p=React.useMemo((()=>{var t,i;return{style:null!=(t=e.style)?t:{},settings:null!=(i=e.settings)?i:{},locked:!r&&!e.variant.quantity&&-1!==e.variant.quantity&&e.hasOptions,disabled:!e.variant.visible&&e.hasOptions||null===e.variant.price}}),[e]),h=(null==(o=p.settings.options)?void 0:o.fix_to_bottom)||0,m="free"===c||p.style.wide||0,f=flexbe_cli.locale.tr("ecommerce.option.locked")||"ecommerce::option::locked",g=flexbe_cli.locale.tr("ecommerce.option.disabled")||"ecommerce::option::disabled",_=p.settings.price||{},v=p.settings.available||{},b=e.variant.getPrice("text"),y=(null==_?void 0:_.hide_old_price)||!1,w="button_with_available"===e.type||v.show,x="button_with_price"===e.type||_.show;return React.h(React.Fragment,null,React.h("div",{ref:s,className:`zone-products__button active ${a?"zone-products__element":""} ${h?"zone-products__button-to-bottom":""} ${!m||w||x?"":"zone-products__button-stretch"} ${p.disabled||p.locked?"disabled":""}`,style:null!=(n=e.padding)?n:null},React.h("div",{className:"button-toltipster_container "+(m?"button-toltipster_strench":""),"data-tip":p.disabled&&g||p.locked&&f||null,"data-tooltipstered":p.disabled},React.h(Bt,{disabled:p.disabled||p.locked,buttonStyle:p.style,price:b,action:e.cardAction,productData:e.productData,productKey:e.productKey,buttonClick:e.buttonClick,type:e.type,positionType:c}))),w||x?React.h("div",{className:"zone-products__other-container"},w?React.h(Mt,{variant:e.variant,style:v,padding:0}):"",x?React.h(Dt,{hideOldPriceAdaptive:u,hideOldPriceDesktop:y,usePriceOld:e.product.isOldPrice,variant:e.variant,style:_,padding:0,classes:"button-with-price"}):""):React.h(React.Fragment,null))}function Ht(e){var t,i,o,n,s,a,r,l,c,d,u,p;const h=null!=(t=e.settings)?t:{},m=null!=(i=e.buttonAdaptive)?i:{},f=null!=(o=e.positionType)?o:"static",g=null!=(n=null!=(s=null==(a=h.options)?void 0:a.reverse)?s:"right"===h.style.position)?n:0,_=(null==(r=h.options)?void 0:r.fix_to_bottom)||0,v=["button_with_available","button_with_price"].includes(e.type)||(null==(l=e.settings)||null==(c=l.price)?void 0:c.show)||(null==(d=e.settings)||null==(u=d.available)?void 0:u.show);return React.h(React.Fragment,null,v?React.h("div",{className:`zone-products__element zone-products__button-container ${_?"zone-products__button-container-to-bottom":""} ${g?"revert-block":""}`,style:null!=(p=e.padding)?p:null},React.h(jt,{product:e.product,hasOptions:e.hasOptions,variant:e.variant,type:e.type,style:e.style,buttonAdaptive:m,settings:e.settings,cardAction:e.cardAction,productData:e.productData,productKey:e.productKey,buttonClick:e.buttonClick,positionType:f})):React.h(jt,{product:e.product,hasOptions:e.hasOptions,variant:e.variant,type:e.type,style:e.style,buttonAdaptive:m,settings:e.settings,padding:e.padding,cardAction:e.cardAction,productData:e.productData,productKey:e.productKey,buttonClick:e.buttonClick,positionType:f}))}function Wt({product:e,styleCard:t,typeCard:i,params:o,isModal:n}){var s,a,r,l,c,d,u,p,h,m,f,g,_,v,b;const[y,w]=React.useState(e.currentOptions()),[x,A]=React.useState(e.currentVariant()),$=React.useMemo((()=>{var e,i;return{transitions:null!=(e=t.transitions)?e:{},elementsStyles:null!=(i=t.elements_styles)?i:{},justifyCard:t.justify,elementsList:t.elements_list}}),[t]),k=React.useMemo((()=>{var e,i;return{elementsStyles:null!=(e=null==(i=t.adaptive)?void 0:i.elements_styles)?e:{}}}),[t]),C=React.useMemo((()=>{var e,t;const i=null!=(e=null==(t=o.products_proportions)?void 0:t.split("|"))?e:[12,12];return{colImage:o.products_swap?i[1]:i[0],colContent:o.products_swap?i[0]:i[1]}}),[o]),S=$.elementsStyles,R=null!=(s=null==k?void 0:k.elementsStyles)?s:{},O=null!=(a=S.media)?a:{},z=null!=(r=S.article)?r:{},T=null!=(l=S.available)?l:{},I=null!=(c=S.divider)?c:{},E=null!=(d=S.description)?d:{},P=null!=(u=S.name)?u:{},M=null!=(p=S.options)?p:{},D=null!=(h=S.price)?h:{},N=null!=(m=null==R?void 0:R.price)?m:{},L=null!=(f=S.button)?f:{},q=null!=(g=null==R?void 0:R.button)?g:{},F=null!=(_=L.style)?_:{},V=null!=(v=D.hide_old_price)&&v,B=null!=(b=N.hide_old_price)?b:V,j=$.elementsList.find((e=>"options"===e.key)),H=e.hasVariants,W=!j&&H?"modal":"cart",U=flexbe_cli.vars._group.ecommerce.out_of_stock_action||"forbid_preorder",G="allow_preorder"===U,K=React.useMemo((()=>({locked:!G&&!x.quantity&&-1!==x.quantity&&j,disabled:!x.visible&&j})),[x,U,j]),Y=React.useMemo((()=>{var e,t;return!K.disabled&&!K.locked||"cart"!==(null==(e=O.image)?void 0:e.action)&&"cart"!==(null==(t=O.slider)?void 0:t.action)?O:{...O,image:{action:"none"},slider:{...O.slider,action:"none"}}}),[K]),J=React.useMemo((()=>e.combinationOptionsList(M,n)),[e,y,M]),Q=t=>{e.selectOption(t)};flexbe_cli.events.on(`update_${e.id}`,(()=>{w(e.currentOptions()),A(e.currentVariant())}));const X=e=>{const t=e.currentTarget.id;flexbe_cli.ecommerce.productsStore.showModalOptions(t)},Z=React.useMemo((()=>e=>{var t;return React.h($t,{defaultImg:null!=(t=x.defaultImageId)?t:0,images:x.getImages(O.type),style:Y,proportion:C.colImage,typeCard:i,productData:x.getCartData(O.type),productKey:x.productKey,action:W,padding:0,openOptionModal:X,...e})}),[x]),ee=({className:t})=>React.h("div",{className:t,"data-cols":"double"===i&&C.colContent,"data-justify":$.justifyCard},$.elementsList.map((t=>{var o,n,s,a,r,l,c;if("media"===t.key&&"single"===i)return React.h(Z,{padding:t.padding_top,paddingAdaptive:null==(o=t.adaptive)?void 0:o.padding_top});if("name"===t.key)return React.h(kt,{name:e.title,style:P,padding:t.padding_top,paddingAdaptive:null==(n=t.adaptive)?void 0:n.padding_top});if("options"===t.key&&e.hasOptions){var d,u,p;const i=null!=(d=t.padding_top)?d:10,o={"--elementPadding":`${i}px`,"--elementPaddingAdaptive":`${null!=(u=null==(p=t.adaptive)?void 0:p.padding_top)?u:i}px`};return React.h(zt,{options:e.options,activeOption:y,combinationOptionsList:J,style:M,padding:o,cardStylesAdaptive:k,selectOption:Q})}if("divider"===t.key)return React.h(Tt,{style:I,fixToBottom:t.fix_to_bottom,padding:t.padding_top,paddingAdaptive:null==(s=t.adaptive)?void 0:s.padding_top});if("article"===t.key&&x.article.length)return React.h(It,{variant:x,style:z,padding:t.padding_top,paddingAdaptive:null==(a=t.adaptive)?void 0:a.padding_top});if("description"===t.key&&e.description.length)return React.h(Pt,{description:e.description,style:E,padding:t.padding_top,paddingAdaptive:null==(r=t.adaptive)?void 0:r.padding_top});if("available"===t.key)return React.h(Mt,{variant:x,style:T,padding:t.padding_top,paddingAdaptive:null==(l=t.adaptive)?void 0:l.padding_top});if("price"===t.key)return React.h(Dt,{class:"price",usePriceOld:e.isOldPrice,variant:x,style:D,padding:t.padding_top,paddingAdaptive:null==(c=t.adaptive)?void 0:c.padding_top,hideOldPriceDesktop:V,hideOldPriceAdaptive:B});if("button"===t.key){var h,m,f;const i=null!=(h=t.padding_top)?h:10,o={"--elementPadding":`${i}px`,"--elementPaddingAdaptive":`${null!=(m=null==(f=t.adaptive)?void 0:f.padding_top)?m:i}px`};return React.h(Ht,{product:e,hasOptions:j||!e.hasOptions,variant:x,type:t.id,style:F,buttonAdaptive:q,settings:L,padding:o,cardAction:W,productData:x.getCartData(O.type),productKey:x.productKey,images:x.getImages(O.type),hideOldPriceDesktop:V,hideOldPriceAdaptive:B,buttonClick:X})}return React.h(React.Fragment,null)})));return"double"===i?React.h("div",{className:"zone-products__card"},React.h(Z,null),React.h(ee,{className:"zone-products__content"})):React.h(ee,{className:"zone-products__card zone-products__content"})}let Ut;class Gt{constructor(){this.styleCard=void 0,this.styleCard={transitions:{hover:[]},background:{color:"#FFFFFF",shading:50,shading_color:"#1d1d1d",contrast:"dark",text:"contrast",image:{position:{x:"50%",y:"50%"}},opacity:100,type:"color",shadow:{enabled:0,preset:"small",x:0,y:7,blur:32,color:"rgba(0, 0, 0, 0.07)"},border:0,border_enabled:!1,border_color:"#CCCCCC",enable:1,radius:0,position:{x:"50%",y:"50%"}},justify:"flex-start",elements_list:[{id:"name",key:"name",padding_top:40},{id:"options",key:"options",padding_top:20},{id:"divider_7021066",key:"divider",padding_top:20,fix_to_bottom:!1},{id:"button_with_price",key:"button",padding_top:20}],elements_styles:{button:{type:"button_with_price",style:{action:"cart",color:"#1B1B1C",color_text:"auto",effect:"opacity",icon_size:16,line_size:"medium",product:[],show_icon:!1,size:"small",style:["filled","squared"],weight:"medium",wide:!1,submit:flexbe_cli.locale.tr("modal.options.button.text")||"modal::options::button::text",radius_style:"squared"},available:{color:"contrast",line_height:137,opacity:100,size:14,weight:400,colored_statuses:!0},price:{color:"contrast",hide_old_price:!1,line_height:137,old_price_color:"contrast",opacity:100,size:14,weight:400},options:{fix_to_bottom:!0,justify:"flex-start",reverse:!0},padding_default:0},divider:{color:"contrast",height:1,no_gutter:!1,opacity:10},name:{color:"contrast",line_height:137,opacity:100,size:22,weight:500},options:{color:"contrast",padding_default:20,size:100,style:"transparent",label:{color:"contrast",opacity:100},show_available:!0,show_in_stock_statuses:!0}}}}show(e){const t={typeCard:"single",styleCard:this.styleCard,params:{},isModal:!0,product:e};if(!Ut){const e=$('\n                <div class="m_modal m_OPTIONS_modal" data-is="modal" data-id="OPTIONS_modal" data-m-id="OPTIONS">\n                    <div class="modal-data">\n                        <div class="component-bg" data-type="color" data-component="background">\n                            <div class="layer2 overlay"></div>\n                        </div>\n\n                        <div class="modal-content" data-contrast="dark" data-v="1" data-as="1"> \n                            <div class="close close-times"></div>\n                            <div class="flexbe-products">\n                                <div class="zone-products" data-product-item="true" data-hover-contrast="dark" data-color="contrast" data-contrast="dark">                            \n                                    <div class="product-options-modal-content"></div>\n                                </div>\n                            </div>                            \n                        </div>\n                    </div>\n                </div>\n            ');flexbe_cli.modal.$list.append(e),Ut=flexbe_cli.entity.bind(e[0])}const i=Ut.$area.find(".product-options-modal-content");flexbe_cli.events.trigger("ui_modal_open",{id:"OPTIONS_modal",options:{hash:!1,rise:!0,onClose:()=>{}}}),React.unmountComponentAtNode(i[0]),React.render(React.h(Wt,{...t}),i[0])}}class Kt extends m{constructor(){super(),this.products=void 0,this.modalOptions=void 0,this.products=new Map,this.init()}init(){const e=document.getElementById("flexbe-products-store");if(e){try{const t=JSON.parse(e.getAttribute("data-store"));this.addToStore(t)}catch(e){}e.parentNode.removeChild(e)}}addToStore(e){e.forEach((e=>this.products.set(String(e.id),new dt(e))))}getProducts(e){return e.map((e=>this.products.get(String(e)))).filter((e=>e))}getDummyProduct(){return mt}initModalOptions(){this.modalOptions||(this.modalOptions=new Gt)}showModalOptions(e){if(!this.modalOptions||!e)return;const[t]=e.split("_"),i=this.getProducts([Number(t)])[0];this.modalOptions.show(i)}async loadProducts({showType:e,productIds:t,categoryIds:i,limit:o,hideEndedProducts:n}){const s={showType:e,limit:o,productIds:null,categoryIds:null,hideEndedProducts:null};"select_products"===e&&(s.productIds=null!=t?t:[]),"select_category"===e&&(s.categoryIds=null!=i?i:[]),void 0!==n&&(s.hideEndedProducts=n);const{products:a,categories:r}=await new Promise(((e,t)=>$.ajax({url:"/api/ecommerce/products/",type:"GET",dataType:"json",data:s}).done((t=>{e(t)})).fail((e=>{t(e)}))));return this.addToStore(a),{categories:r,products:a}}}var Yt=new class{constructor(){this.cartStore=null,this.deliveryStore=null,this.promotionStore=null,this.productsStore=null,this.getProductInfo=ut}get cartSettings(){var e,t,i,o;const n=I._group.ecommerce,s=n.cart,a=null!=(e=n.out_of_stock_action)?e:"forbid_preorder",r="allow_preorder"===a,l=s.use_total&&s.total>0;return{useMinTotal:l,minTotal:l?s.total:0,autoOpen:null!=(t=s.auto_open)&&t,inStockStatus:null!=(i=n.in_stock_status)?i:"in_stock",outOfStockStatus:null!=(o=n.out_of_stock_status)?o:"out_of_stock",outOfStockAction:a,allowPreorder:r}}init({enableDelivery:e=!1,enablePromotions:t=!1,enableProducts:i=!1}){this.cartStore=new gt,t&&(this.promotionStore=new vt({getTotal:this.cartStore.getTotal,needUpdateWithLS:!flexbe_cli.is_admin})),e&&(this.deliveryStore=new _t),i&&(this.productsStore=new Kt)}};void 0===window.flexbe_cli&&(window.flexbe_cli={}),flexbe_cli.helpers=te,flexbe_cli.vars=I,flexbe_cli.run=P,flexbe_cli.stat=ae,flexbe_cli.events=f,flexbe_cli.locale=ce,flexbe_cli.adaptive=ue,flexbe_cli.scroll=q,flexbe_cli.resize=D,flexbe_cli.tip=he,flexbe_cli.transitions=ne,flexbe_cli.require=L,flexbe_cli.fixed=Me,flexbe_cli.entity=nt,flexbe_cli.block=st,flexbe_cli.modal=at,flexbe_cli.widget={},flexbe_cli.ecommerce=Yt,function(e=(()=>{})){let t=!1;function i(){t||("undefined"!=typeof $&&$.debounce?(t=!0,requestAnimationFrame((async()=>{$("body").removeClass("noanimate").addClass("DOMContentLoaded"),await e(),flexbe_cli.is_service||(H(),setTimeout((()=>H()),1e3),window.addEventListener("popstate",H)),flexbe_cli.isInited=!0}))):setTimeout(i,10))}["complete","loaded"].includes(document.readyState)?i():document.addEventListener("DOMContentLoaded",(()=>i()))}((async()=>{I.init(),await P.init(),q.init(),D.init(),ue.init(),flexbe_cli.components&&flexbe_cli.components.init(),De((()=>ae.init())),De((()=>Yt.init({enableDelivery:!0,enablePromotions:!0,enableProducts:!0}))),De((()=>nt.init())),De((()=>st.init())),De((()=>at.init())),De((()=>ge.init())),De((()=>Me.init()),200)}))}();
