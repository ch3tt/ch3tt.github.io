flexbe_cli.entity.setClientJs("modal","PAY",{types:{},pay_id:"",hash:"",onLoad(){this.$content=this.$modal.find(".action-container"),this.start(),flexbe_cli.events.on("pay",(e=>{e&&("init"===e.action?this.start():"success"===e.action&&this.showSuccessAlert(e.withoutPay))}))},onClose(){try{window.history.pushState(null,null,window.location.pathname)}catch(e){}},start(){const e=this.getPayStatus();if(e){switch(e){case"success":this.showSuccessAlert();break;case"fail":this.showFailAlert();break;case"pay":this.getBill()}setTimeout((()=>{flexbe_cli.events.trigger("ui_modal_open",{id:"pay"})}),200)}},getPayStatus(){let e=!1;try{const t=new URL(window.location.href);e=[...t.searchParams.entries()].reduce(((e,[t,a])=>({...e,[t]:a})),{})}catch(e){return console.error(e),!1}return!(!e||!e.pay_id)&&(this.pay_id=e.pay_id,this.hash=e.h,e.pay_status||"pay")},getBillData(e){this.pay_id&&$.ajax({url:"/mod/pay/ajax",type:"GET",dataType:"json",data:{act:"payData",pay_id:this.pay_id,hash:this.hash}}).done((t=>{t.error&&3===t.status?this.showSuccessAlert(!0):"function"==typeof e&&e(t)}))},getBill(){this.pay_id&&!1!==this.pay_id&&this.getBillData((e=>{if(0===e.status)return setTimeout((()=>{flexbe_cli.events.trigger("ui_modal_close",{id:"pay"}),alert(e.error)}),200),!1;this.types=e.pay.support_types,2==+e.pay.pay_status?this.showAlreadyPayed(e.pay):this.cashonly()?this.showCashInstruction(e.pay):this.showBillForm(e.pay)}))},redirectToPayLink(e){"cash"!==e?window.location.href=`/mod/pay/?pay_type=${e}&pay_id=${this.pay_id}&h=${this.hash}`:this.showCashInstruction()},showBillForm(e){const t=Object.keys(this.types);this.renderView("bill");const a=this.$content,s=a.find(".pay-action"),i=a.find(".pay-methods-list-inner"),n=a.find(".component-button"),o={cash:"cash",bank_card:"cards",visa:"visa",mastercard:"mastercard",yandex:"yandex",qiwi:"qiwi",webmoney:"webmoney",webmoney_z:"webmoney",webmoney_u:"webmoney",mobile_megafon:"megafon",mobile_beeline:"bee",mobile_mts:"mts",mobile_tele2:"t2",sberbank:"sberbank",bank:"bank",w1:"w1",ibank_robo:"ibank_robo",yandex_kassa:"yandexkassa",yandexkassa:"yandexkassa",bank_company:"bank_company",paypal:"paypal"},c=t.reduce(((e,t,a)=>{const s=o[t],i=flexbe_cli.locale.tr(`pay.methods.${t}`);return`${e}<label class="item" title="${i}" for="${t}">\n                <input type="radio" name="form[pay_method]" value="${t}" id="${t}" ${0===a?'checked="checked"':""}>\n                <div class="item-inner">\n                        <span class="check"></span>\n\n                        <span class="icon">\n                            <img class="icon-inner" src="/_s/images/theme/res/pay/${s}.svg" />\n                        </span>\n\n                        <span class="item-name font-size-tiny">${i}</span>\n                </div>\n            </label>`}),"");i.html(c),s.find(".title > span.num").text(e.pay_id),s.find(".price").text(flexbe_cli.locale.formatMoney(e.pay_sum)),i.on("click",".item",(e=>(e.preventDefault(),$(e.currentTarget).find("input").prop("checked",!0),n.removeClass("disabled"),!1))),n.on("click",(e=>{const t=i.find("input:checked").val();if(!t)return i.removeClass("shake"),setTimeout((()=>{i.addClass("shake")}),30),!1;flexbe_cli.run.is_mobile&&flexbe_cli.run.is_OSX||$(e.currentTarget).addClass("submitting"),this.redirectToPayLink(t)}))},showCashInstruction(){this.renderView("loading"),$.ajax({url:"/mod/pay/ajax",type:"GET",dataType:"json",data:{act:"selectCash",pay_id:this.pay_id,hash:this.hash}}).done((e=>{e.link_redirect?window.location.href=e.link_redirect:(this.renderView("cash"),this.types.cash&&this.types.cash.instruction&&this.$content.find(".text").html(this.types.cash.instruction))}))},showAlreadyPayed(e){let t="";e.pay_time_done&&"0"!==e.pay_time_done&&e.pay_time_done_formatted&&(t=e.pay_time_done_formatted),this.renderView("already"),this.$content.find(".text > span.num").text(e.pay_id),this.$content.find(".title > span.num").text(e.pay_id),this.$content.find(".sub > span").text(t),this.$content.find(".price").text(flexbe_cli.locale.formatMoney(e.pay_sum))},showSuccessAlert(e=!1){setTimeout((()=>{flexbe_cli.stat.reachGoal(flexbe_cli.stat.getGoal("pay_done"))}),1e3),e?this.renderView("success"):this.renderView("pay_success")},showFailAlert(){this.renderView("fail"),this.getBillData((e=>{const t=this.$content.find(".pay-action");t.find(".title > span.num").text(e.pay.pay_id),t.find(".price").text(flexbe_cli.locale.formatMoney(e.pay.pay_sum)),this.$content.find(".component-button").off("click").on("click",(()=>{this.getBill()}))}))},cashonly(){return this.types.cash&&1===Object.keys(this.types).length},renderView(e){const t=this.$content,a=this.$area.find(`template[data-id=${e}]`)[0];t.attr("data-view",e).html(a.innerHTML)}});

flexbe_cli.entity.setClientJs("widget","ANCHORS",{require:["/_s/lib/anime/anime.min.js?321"],$list:null,onLoad(){this.$list=this.$widget.find(".anchors-list"),this.list="object"==typeof this.$list.data("anchors")&&this.$list.data("anchors").list||[];const t=this.list.reduce(((t,e)=>t+e.enabled),0)<2,e={style:1,show_title:0,...this.$list.data("anchors")};this.$list.toggleClass("is-empty",t),this.style=e.style,this.show_title=e.show_title,this.$list.removeAttr("data-anchors"),flexbe_cli.run.is_mobile||(this.drawList(),this.bindEvents(),flexbe_cli.is_admin&&(flexbe_cli.events.off("layout_change.anchors").on("layout_change.anchors",(t=>{"block"===t.is&&this.drawList()})),flexbe_cli.events.off("page-settings_update").on("page-settings_update",(t=>{t.p_data.p_data.show_bullets?this.$list.show():this.$list.hide()}))))},check(){const t=flexbe_cli.block.$blocks.not("[data-overlayed]");this.list=this.list.filter((e=>{const i=t.closest(`[data-id="${e.id}"]`),s=i.attr("data-hidden")||"none";return e.enabled&&i[0]&&["none","mobile"].includes(s)}))},drawList(){flexbe_cli.block.$blocks.length&&flexbe_cli.vars._page.showBullets||this.$list.hide(),this.check();let t="";flexbe_cli.is_admin&&this.list.length<2?t='<svg style="color: #adadad" width="18" height="98" viewBox="0 0 18 98" xmlns="http://www.w3.org/2000/svg">\n                <g fill="none" fill-rule="evenodd">\n                    <circle opacity=".05" cx="9" cy="5" r="5"/>\n                    <circle opacity=".2" cx="9" cy="25" r="5"/>\n                    <circle opacity=".2" cx="9" cy="73" r="5"/>\n                    <circle opacity=".05" cx="9" cy="93" r="5"/>\n                    <path d="M9 40a9 9 0 1 0 0 18 9 9 0 0 0 0-18zm5.126 9.626h-4.5v4.5H8.34v-4.5h-4.5V48.34h4.5v-4.5h1.286v4.5h4.5v1.286z" opacity=".45"/>\n                </g>\n            </svg>':this.list.length>=2&&(this.list.forEach((e=>{const i=this.show_title&&e.title?` data-title="${e.title}"`:"";t+=`<li${i}><a href="#${e.id}"></a></li>`})),t+='<li class="helper"><a></a></li>'),this.$list.find("ul").html(t),this.$helper=this.$list.find(".helper"),this.animateList()},animateList(){if(!(this.list.length<1)){if(flexbe_cli.is_admin)this.$helper.css({opacity:1,transform:`translateY(${24*this.index}px)`});else{const t=anime({targets:this.$list.find("li").not(this.$helper).get(),duration:350,opacity:[0,1],scale:[.8,1],translateY:[10,0],easing:"easeInOutQuad",autoplay:!1,delay:(t,e)=>30*e,complete:()=>{anime({targets:this.$helper.get(),duration:400,translateY:24*this.index,scale:[2.5,1],opacity:[0,1],easing:"easeInExpo"})}});this.$list.addClass("hide"),setTimeout((()=>{this.$list.removeClass("hide"),t.play()}),800)}this.$list.find("li").removeClass("active").eq(this.index).addClass("active")}},index:0,bindEvents(){flexbe_cli.events.off("entity_event.anchors").on("entity_event.anchors",(({type:t,core:e,params:i})=>{"focusing"===t&&i.state&&"block"===e.is&&this.setBlock(e)})),flexbe_cli.block.$blocks.each(((t,e)=>{const i=e._core;i&&i.inFocus&&this.setBlock(i)})),this.$list.on("click","li",(t=>{if(!$(t.target).is("a"))return $(t.currentTarget).find("[href]").trigger("click"),t.preventDefault(),!1}))},setBlock(t){let e=this.index,i="#6a6a6a";const s=t.content||t.$area.find(".container")[0];if(s){const t=s.closest("[data-contrast]").getAttribute("data-contrast");i=t?"light"===t?"#FFF":"#1B1B1C":getComputedStyle(s).color}this.$list.css("color",i),this.list.some(((i,s)=>i.id===t.id&&(e=s,!0))),e=Math.max(0,Math.min(this.list.length-1,e)),e!==this.index&&(this.animate(e),this.index=e)},animate(t){if(this.$list.find("li").removeClass("active"),this.$list.find("li").eq(t).addClass("active"),1==+this.style){const e=24*t,i=t-this.index>0?12:-12;anime.remove(this.$helper[0]),anime({targets:this.$helper[0],translateY:e-i,scaleY:2.5,scaleX:.6,duration:100,easing:"easeInQuad",complete:()=>{anime({targets:this.$helper[0],translateY:e,scaleY:1,scaleX:1,duration:100,easing:"easeOutQuad"})}})}}});

!function(){const e="hidden-mobile",t="mobile-navigation--created",a="nav-header-controls--cart",i="nav-header-controls--burger",n="provide-panel-safe-area",s=".b_block",o=".element-item",r=".mobile-navigation",l=".header-area",c=".layout-type-header",d=".w_widget .cart-button",h=".header-cart-icon",g=".nav-header-content",u=".nav-header-controls",b=".nav-menu",m=(t,a=!1)=>{let i=$(t);if(!i.is(o)){const e=i.closest(o);i=e.length?e:i}i.toggleClass(e,!a)};flexbe_cli.entity.setClientJs("widget","MENU01",{created:{},navbarStyle:null,overlayingHeader:null,isFloating:!1,onLoad(){requestAnimationFrame((()=>this.createWidget()));let e,t=flexbe_cli.resize.responsiveMode;$(window).on("resized",(()=>{clearTimeout(e),e=setTimeout((()=>{const e=flexbe_cli.resize.responsiveMode;t!==e&&"mobile"===e&&this.createWidget(),t=e}),50)}))},onMsg(e){"forceRecreate"===e&&(this.createWidget(),this.toggleMenu(!1))},createWidget(){this.clickEvent=flexbe_cli.is_admin?"click":"pointerdown",this.navbarStyle=!1,this.navmenuCreated=!1,this.isFloating=!1,this.overlayingHeader=null,this.created={},this.contrast="dark",this.background="#FFFFFF",this.opacity=1;const e=$(s),t=e.find(c);if(m(e,!0),m(t,!0),$(`.${n}`).removeClass(n),this.headersMap=e.not('[data-hidden="mobile"]').toArray().map(((e,t)=>{const a=$(e),i=a.find(c),n=i.hasClass("floating-header"),s=i.closest("[data-overlayed]").length>0,o=!!i.data("mobile-menu"),r=i[0]?i[0].closest("[data-abtest-active]"):null,l=i[0]?i[0].closest("[data-abtest-id]"):null,d=i.data("widget-color")||"auto",h=i.data("widget-contrast")||i.closest("[data-contrast]").attr("data-contrast"),g=+i.data("widget-opacity")/100;return{index:t,$block:a,$header:i,isFloating:n,isOverlaying:s,hasMobileMenu:o,widgetColor:d,widgetContrast:h,widgetOpacity:g,isActiveAbtest:r,isAbtest:l}})).filter((e=>e.hasMobileMenu&&(!e.isAbtest||e.isActiveAbtest))).sort(((e,t)=>Number(t.isFloating)-Number(e.isFloating))),this.$headers=$(this.headersMap.map((e=>e.$header[0]))),this.$nav=this.$area.find(r),this.$navmenu=this.$area.find(b),this.headersMap.length){const e=this.headersMap[0],t={dark:"#060607",light:"#FFFFFF"};e.isOverlaying&&0===e.index?this.overlayingHeader=this.headersMap[0]:(e.isOverlaying=!1,"auto"===e.widgetColor&&(e.widgetOpacity=100)),this.background=e.widgetColor,this.contrast=e.widgetContrast,this.opacity=e.widgetOpacity,["auto","contrast"].includes(this.background)?this.background="dark"===this.contrast?t.light:t.dark:t[this.background]&&(this.background=t[this.background]),this.isFloating=!flexbe_cli.is_admin&&this.headersMap[0].isFloating}if(this.fillNavMenu(),this.fillNavbar(),t.closest(".b_block").each(((e,t)=>{t._core&&t._core.updateTween()})),this.navbarStyle){if(this.background&&(a=this.background,!/^\s*(?:linear-gradient|repeat-linear-gradient|radial-gradient)\(.*\)/i.test(a))){const e=$('meta[name="theme-color"]');e.length?e.attr("content",this.background):$("head").append(`<meta name="theme-color" content="${this.background}"/>`)}this.isFloating=this.isFloating||"round"===this.navbarStyle,this.$nav.toggleClass("menu-fixed",this.isFloating),this.$nav.toggleClass("menu-static",!this.isFloating),this.hideUnnecessaryElements()}var a,i;(this.$area.css({"--background":this.background,"--opacity":this.opacity}),this.$area.attr("data-contrast",this.contrast),this.overlayingHeader)?null==(i=this.overlayingHeader)||i.$block.find(l).addClass(n):"panel"===this.navbarStyle&&flexbe_cli.block.$list.addClass(n);this.navmenuCreated&&(flexbe_cli.entity.initArea(this.$nav),flexbe_cli.events.off("ui_mobilemenu_open").on("ui_mobilemenu_open",(()=>{this.openMenu()})),flexbe_cli.events.off("ui_mobilemenu_close").on("ui_mobilemenu_close",(()=>{this.$nav.length&&[!0,"true"].includes(this.$nav.attr("data-opened"))&&this.closeMenu()})));const o=flexbe_cli.components.getGlobalInstance("lazyLoading");o&&(o.loadInArea(this.$area[0],"inline"),o.loadInArea(this.$area[0],"lazy"))},hideUnnecessaryElements(){this.$nav.removeClass("header-style-round header-style-panel"),this.$nav.addClass(`${t} header-style-${this.navbarStyle}`),this.headersMap.forEach((e=>{const t=e.$header,a=e.$block,i=t.find(".element-item").toArray().some((e=>e.offsetHeight));m(t,i),a.toggleClass("mobile-menu-occupied",!i)}))},fillNavbar(){const e=this,{created:t,$area:n,$headers:s,navmenuCreated:o}=this,r=n.find(g),l=n.find(u);r.empty(),l.empty();const c=[],b=[];!function(){const i=$(d).eq(0),n=e.$headers.find(h).eq(0);if(n.length||i.length){t.cart=!0,b.push("cart");const s=i.find(".cart-button-icon"),o=i.find(".cart-button-count"),r=n.find(".header-cart-button-icon"),c=n.find(".header-cart-button-count");let d,h,g;d=r.length?r.html():s.html(),c.length?(h=c.css("color"),g=c.css("background-color"),"rgba(0, 0, 0, 0)"===g&&(h="rgb(255, 255, 255, 1)",g="rgb(234, 127, 84, 1)")):(h=o.css("color"),g=o.css("background-color"));const u=`\n                        <li class="${a}${n.length?"":" cart-optional"}">\n                            <div class="cart-button">\n                                <svg class="cart-button-icon">\n                                    ${d}\n                                </svg>\n                                <div class="cart-button-count" style="color: ${h}; background: ${g}">0</div>\n                            </div>\n                        </li>`;e.$cart=$(u),l.append(e.$cart),n.length||e.background||(e.color=i.css("color"),e.background=i.css("background-color"))}else t.cart=!1;if(t.cart){const t=e.$area.find(".cart-button"),a=t.find(".cart-button-count"),i=flexbe_cli.ecommerce.cartStore.getCount();l.toggleClass("cart-empty",!i),a.text(i),e.$cart.on(e.clickEvent,(()=>{e.toggleMenu(!1),flexbe_cli.events.trigger("ui_cart_open")})),setTimeout((()=>{flexbe_cli.ecommerce.cartStore.on("dispatch.mobilemenu",(({name:e})=>{const i=flexbe_cli.ecommerce.cartStore.getCount();l.toggleClass("cart-empty",!i),a.text(i),"addItem"===e&&(t.addClass("blink"),setTimeout((()=>{t.removeClass("blink")}),300))}))}))}t.cart}(),function(){o?(e.$burger=$(`<li class="${i}"><i></i><i></i><i></i></li>`),l.append(e.$burger),b.push("burger"),e.$burger.on(e.clickEvent,(()=>{e.toggleMenu()})),t.burger=!0):t.burger=!1;t.burger}(),this.$nav.attr("data-enabled",!!b.length),b.length&&function(){const e=s.map(((e,t)=>t.querySelector(".component-logo"))).eq(0),a=e.find(".component-logo-img");if(e.length){let i=a.prop("width"),n=a.prop("height");i instanceof SVGAnimatedLength&&(i=i.baseVal.value),n instanceof SVGAnimatedLength&&(n=n.baseVal.value),i||(i=a.innerWidth()||e.innerWidth()),n||(n=a.innerHeight()||e.innerHeight());const s=Math.max(.25,n/i||0),o=`${Math.round(50/s)}px`,l=e.clone();t.logo=!0,l.css({maxWidth:o}),r.append(l),r.attr("data-id",e.closest("[data-id]").attr("data-id")),c.push("logo"),m(e,!1)}else t.logo=!1;t.logo}(),c.length&&b.length||b.length>1?this.navbarStyle="panel":0===c.length&&1===b.length?(this.navbarStyle="round",this.isFloating=!0):this.navbarStyle=!1},fillNavMenu(){const{created:e,$navmenu:t,$headers:a}=this;return["header_cart","header_spacer"].forEach((e=>{const t=a.find(`[data-e-id="${e}"]`);m(t,!1)})),["header_menu","header_text","header_contacts","header_social","header_lang_menu","header_button","header_html"].forEach((i=>{const n=t.find(`[data-element=${i}]`),s=a.find(`[data-e-id="${i}"]`),o=s.length;if(n.empty(),o){const t=s.clone();t.find('[class^="editor-"]').remove(),t.attr("data-cloned",!0),n.append(t),n.find("[data-direction]").attr("data-direction","column").attr("data-direction-adaptive","column").attr("data-rollup-adaptive","true"),n.find(".nowrap-list").removeClass("nowrap-list"),n.find(".element-content").removeClass("justify-content-center justify-content-end").addClass("justify-content-start"),m(s,!1),m(t,!0),e[i]=e[i]?e[i]+o:o}})),this.navmenuCreated=Object.keys(e).length,this.navmenuCreated},toggleMenu(e){this[(e=void 0===e?!(e=[!0,"true"].includes(this.$nav.attr("data-opened"))):!!e)?"openMenu":"closeMenu"]()},openMenu(){this.isOpen=!0,this.$area.addClass("show"),this.$nav.outerHeight(),this.$nav.attr("data-opened",!0),this.$navmenu.addClass("active"),this.$burger&&this.$burger.addClass("active"),flexbe_cli.is_admin||flexbe_cli.scroll.scrollLock.lock(),this.setAreaSize(),this._onOpen(),$(window).on("resized.mobilemenu",(()=>{this.setAreaSize()})),"mobile"===flexbe_cli.resize.responsiveMode&&($("body").addClass("is-widget-open"),this.isFloating||$("body, html").scrollTop(0))},closeMenu(){this.isOpen=!1,Array.from(this.$navmenu.find(".folder-item")).forEach((e=>{$(e).removeClass("show"),$(e.lastElementChild).slideUp(0)})),$("body").removeClass("is-widget-open"),this.$area.removeClass("show"),this.$area.css("height",""),this.$nav.attr("data-opened",!1),this.$navmenu.removeClass("active"),this.$burger&&this.$burger.removeClass("active"),flexbe_cli.is_admin||flexbe_cli.scroll.scrollLock.unlock(),$(window).off("resized.mobilemenu"),this._onClose()},setAreaSize(){const e=this.isOpen?`${flexbe_cli.resize.viewportHeight}px`:"";this.$area.css("height",e)}})}();

flexbe_cli.entity.setClientJs("element","header_menu",{components:["menu"]});

flexbe_cli.entity.setClientJs("element","icon01",{components:["image","icon"]});

flexbe_cli.entity.setClientJs("element","media01",{components:["image","video","slider"]});

flexbe_cli.entity.setClientJs("element","menu01",{components:["menu"]});

flexbe_cli.entity.setClientJs("element","rotator01",{require:["/_s/lib/typed/typed.min.js","/_s/lib/anime/anime.min.js?321"],$rotator:null,$list:null,$animationElement:null,eventId:null,animation:null,animationId:null,speed:null,delay:null,loop:null,animationSet:!1,animationStarted:!1,completedEvent:null,animeFunction:null,typedFunction:null,maxHeight:0,documentHidden:null,documentVisibilityChange:null,onInit(){this.events(),this.setInitParams()},onLoad(){!this.inView||this.animationSet||this.animationStarted||(this.animationSet=!0,this.setInitParams(),this.startAnimation())},onView(t){const i=this.animationSet&&this.animationStarted;this.loaded&&(t&&!i?(this.animationSet=!0,this.clearAnimation(),this.setInitParams(),this.startAnimation()):t&&i?this.restartAnimation():!t&&i&&this.pauseAnimation())},onResize(){this.setMaxHeight(),this.loaded&&0!==this.maxHeight&&(this.clearAnimation(),this.startAnimation())},onUpdate(){this.clearAnimation(),this.setInitParams()},events(){void 0!==document.hidden?(this.documentHidden="hidden",this.documentVisibilityChange="visibilitychange"):void 0!==document.msHidden?(this.documentHidden="msHidden",this.documentVisibilityChange="msvisibilitychange"):void 0!==document.webkitHidden&&(this.documentHidden="webkitHidden",this.documentVisibilityChange="webkitvisibilitychange"),document.addEventListener(this.documentVisibilityChange,this.handleVisibilityChange.bind(this),!1),flexbe_cli.events.on(`font_changed.${this.eventId}`,(()=>{this.setMaxHeight()}))},handleVisibilityChange(){this.animationSet&&this.animationStarted&&(document[this.documentHidden]?this.pauseAnimation():setTimeout((()=>this.restartAnimation()),100))},setInitParams(){this.$rotator=this.$area.find(".text-rotator"),this.$animationElement=this.$rotator.find(".text-animation"),this.animationId=this.$animationElement.attr("data-id"),this.eventId=`anim_${this.id}`,this.maxHeight=0,this.$rotator.addClass(this.eventId),this.setList(),this.setMaxHeight()},setList(){this.$list=this.$area.find(".animation-container").filter(((t,i)=>!!$(i).find(".animate")[0].innerText&&i)).each(((t,i)=>{const n=$(i).find(".animate")[0],e=n.innerText;n.innerHTML=e.replace(/(<[^>]+>)/g,"")}))},setMaxHeight(){null!=this.$list&&this.$list.length>0?(this.maxHeight=0,this.$list.each(((t,i)=>{const n=this.$area.closest(".modal-content").length>0,e=$(i).find(".animate")[0],a=e.innerText;n&&!this.inView?this.maxHeight="auto":"typing"!==this.animationId||this.animation?("counter"!==this.animationId&&this.breakToWordsAndLetters($(i)),this.maxHeight=Math.max(this.maxHeight,$(i).height()),e.innerHTML=a):(e.innerText=`${i.innerText}|`,this.maxHeight=Math.max(this.maxHeight,$(i).height()),e.innerText=i.innerText.slice(0,i.innerText.length-1))}))):this.maxHeight=+this.$rotator.attr("data-size"),this.$area.find(".rotator-holder").css("height",this.maxHeight)},setAnimationParams(){this.$rotator.removeClass("animation-stopped"),this.$rotator.addClass("to-animate"),this.speed=1/+this.$animationElement.attr("data-speed"),this.delay=1e3*+this.$animationElement.attr("data-delay"),this.loop="true"===this.$animationElement.attr("data-loop"),this.animation=this.parseAnimation()},startAnimation(){this.setAnimationParams();const t=this.$list&&this.$list.length>0||!1,i=this.animation&&this.animation.id||!1,n=this.animeFunction&&this.animeFunction.children||!1,e=this.typedFunction&&this.typedFunction.strings||!1;t&&i&&!this.animationStarted&&this.maxHeight>0&&(this.animationStarted=!0,"typing"===this.animation.id||n?e||this.startTypingAnimation():(this.$rotator.removeClass("to-animate"),this.playListItem(0)))},pauseAnimation(){const t=this.animeFunction&&this.animeFunction.children||!1,i=this.typedFunction&&this.typedFunction.strings||!1;"typing"===this.animationId&&i?this.typedFunction.stop():t&&this.animeFunction.pause()},restartAnimation(){const t=this.animeFunction&&this.animeFunction.children||!1,i=this.typedFunction&&this.typedFunction.strings||!1;"typing"===this.animationId&&i?this.typedFunction.start():t&&this.animeFunction.play()},playListItem(t){const i=$(this.$list[t]);i.addClass("active"),this.onAnimationStart({index:t,$target:i})},onAnimationStart({index:t,$target:i}){if(this.animation.steps&&this.animation.steps.length){const n=`.text-rotator.${this.eventId} .animation-container.active`;if(this.animation.replaceString){const t=i.find(".animate")[0],n=t.innerText;t.innerHTML=n.replace(/({.+})|(\[([^\]]+)])|(\S*\(([^)]+)\)\S{0,1})|\S+/g,"<span class='word'>$&</span>");const e="(?:[✀-➿]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[#-9]️?⃣|㊙|㊗|〽|〰|Ⓜ|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|🆎|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|[\ud83c[\ude01-\ude02]|🈚|🈯|[\ud83c[\ude32-\ude3a]|[\ud83c[\ude50-\ude51]|‼|⁉|[▪-▫]|▶|◀|[◻-◾]|©|®|™|ℹ|🀄|[☀-⛿]|⬅|⬆|⬇|⬛|⬜|⭐|⭕|⌚|⌛|⌨|⏏|[⏩-⏳]|[⏸-⏺]|🃏|⤴|⤵|[←-⇿])",a=new RegExp(e,"g");let s;s=a.test(n)?new RegExp(`${e}|([^\\s])`,"g"):new RegExp("[^\\s]","g"),i.find(".word").each(((t,i)=>{i.innerHTML=i.innerText.replace(s,"<span class='letter'>$&</span>")}))}this.animeFunction=anime.timeline({loop:1}),this.animeFunction.id=this.eventId;const e=this.animation.steps.map((t=>this.parseStep({step:t,container:n})));this.loop||t!==this.$list.length-1||e.splice(1),e.forEach((t=>{this.animeFunction.add(t)})),this.animeFunction.play(),this.animeFunction.finished.then((()=>this.onAnimationFinished({index:t,$target:i}))).catch((t=>console.error(t)))}},onAnimationFinished({index:t,$target:i}){if("typing"!==this.animationId){const n=t>=this.$list.length-1;this.purgeCurrentInstance(),i.removeAttr("style"),i.find(".animate").removeAttr("style"),this.$rotator.find(".animation-container").removeClass("active"),n?this.loop?this.playListItem(0):(i.addClass("active"),this.clearAnimation(!1,"animation stop")):this.playListItem(t+1)}},startTypingAnimation(){if("function"!=typeof Typed)return;const t=`.text-rotator.${this.eventId} .typing.active .animate`,i=[],n=new RegExp("(?:[✀-➿]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[#-9]️?⃣|㊙|㊗|〽|〰|Ⓜ|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|🆎|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|[\ud83c[\ude01-\ude02]|🈚|🈯|[\ud83c[\ude32-\ude3a]|[\ud83c[\ude50-\ude51]|‼|⁉|[▪-▫]|▶|◀|[◻-◾]|©|®|™|ℹ|🀄|[☀-⛿]|⬅|⬆|⬇|⬛|⬜|⭐|⭕|⌚|⌛|⌨|⏏|[⏩-⏳]|[⏸-⏺]|🃏|⤴|⤵|[←-⇿])","g");this.$list.find(".animate").each(((t,e)=>{const a=e.innerText;n.test(a)&&(e.innerHTML=a.replace(n,"`$&`")),i.push(e.innerText)})),this.$list.first().removeClass("active").clone().addClass("typing active").appendTo(this.$rotator),this.setList();const e={...this.animation,strings:i};this.typedFunction=new window.Typed(t,e)},clearAnimation(t=!0){const i=this.animeFunction&&this.animeFunction.children||!1,n=this.typedFunction&&this.typedFunction.strings||!1;if(this.loaded&&"typing"!==this.animationId&&this.purgeCurrentInstance(),i&&(this.animeFunction=null),n&&(this.$rotator.find(".typing").remove(),this.setList(),this.typedFunction.destroy(),this.typedFunction=null),this.animation&&this.animation.id&&(this.animation=null,this.animationSet=!1),this.$rotator.length){const i=this.$rotator.find(".animation-container");this.$rotator.css("opacity",""),this.$rotator.addClass("animation-stopped"),i.length&&(i.removeClass("active"),t?(this.animationStarted=!1,i.first().addClass("active")):i.last().addClass("active"))}},purgeCurrentInstance(){const t=anime.running;let i;t.forEach(((t,n)=>{t.id===this.eventId&&(i=n)})),"number"==typeof i&&t.splice(i,1)},parseAnimation(){let t;if(this.$animationElement.attr("data-steps")){const i=this.$animationElement.attr("data-default-speed");if("typing"===this.animationId){const n=JSON.parse(JSON.parse(this.$animationElement.attr("data-steps")))[0];t={id:this.animationId,loop:this.loop,typeSpeed:Math.round(this.speed*n.typeSpeedFactor*i),backSpeed:Math.round(this.speed*n.backSpeedFactor*i),backDelay:Math.round(this.delay*n.backDelayFactor),contentType:null,preStringTyped:()=>{this.$rotator.removeClass("to-animate")},onStringTyped:t=>{this.loop||t!==this.$list.length-2||setTimeout((()=>{this.clearAnimation(!1)}),180)}}}else t={defaultSpeed:i,steps:JSON.parse(JSON.parse(this.$animationElement.attr("data-steps"))),speed:this.speed,delay:this.delay,id:this.animationId,loop:this.loop,replaceString:"true"===this.$animationElement.attr("data-replace")}}return t},parseStep({step:t,container:i}){return{...t,targets:`${i} ${t.targets}`,duration:this.getStepDuration(t),delay:this.getStepDelay(t)}},getStepDuration(t){return 0===t.duration?0:Math.round(this.speed*(t.durationFactor?t.durationFactor:t.duration)*this.animation.defaultSpeed)},getStepDelay(t){if(0===t.delay)return 0;const i=t.delayFactor?t.delayFactor:1;if(t.delay&&t.delay instanceof Object){const i=this.getStepDuration(t)*t.delay.factor;return t.delay.increment&&t.delay.add?(n,e)=>t.delay.add+i*(e+t.delay.incrementBy):t.delay.increment?(n,e)=>i*(e+t.delay.incrementBy):t.delay.add?(n,e)=>t.delay.add+i*e:(t,n)=>i*n}return Math.round(this.delay*i)},breakToWordsAndLetters(t){const i=t.find(".animate")[0],n=i.innerText;i.innerHTML=n.replace(/({.+})|(\[([^\]]+)])|(\S*\(([^)]+)\)\S{0,1})|\S+/g,"<span class='word'>$&</span>");const e="(?:[✀-➿]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[#-9]️?⃣|㊙|㊗|〽|〰|Ⓜ|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|🆎|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|[\ud83c[\ude01-\ude02]|🈚|🈯|[\ud83c[\ude32-\ude3a]|[\ud83c[\ude50-\ude51]|‼|⁉|[▪-▫]|▶|◀|[◻-◾]|©|®|™|ℹ|🀄|[☀-⛿]|⬅|⬆|⬇|⬛|⬜|⭐|⭕|⌚|⌛|⌨|⏏|[⏩-⏳]|[⏸-⏺]|🃏|⤴|⤵|[←-⇿])",a=new RegExp(e,"g");let s;s=a.test(n)?new RegExp(`${e}|([^\\s])`,"g"):new RegExp("[^\\s]","g"),t.find(".word").each(((t,i)=>{i.innerHTML=i.innerText.replace(s,"<span class='letter'>$&</span>")}))}});

flexbe_cli.entity.setClientJs("element","zone_gallery",{components:["cards","image","video"],onUpdate(e={}){setTimeout((()=>{var s;const t=null==(s=flexbe_cli.components.getInstances(this).filter((e=>"cards"===e.is)))?void 0:s[0],i=t&&t.swiper;if(!i)return!1;if(e&&"items_add"===e.reason){const s=i.realIndex,t=e.reasonData.to;let n=s;s+i.params.slidesPerView<=t&&(n=t-i.params.slidesPerView+1),n!==s&&i.slideTo(n)}e.styleRendered&&requestAnimationFrame((()=>i.update(!1)))}),100)}});

flexbe_cli.entity.setClientJs("element","zone",{components:["backgroundElement"],onInit(){this.setMeta()},onUpdate(){this.setMeta()},setMeta(){const i=this.lastViewport,e=this.lastVisibility;this.lastViewport=flexbe_cli.resize.viewportWidth,this.lastVisibility=flexbe_cli.is_admin&&$("body").hasClass("show-hidden"),this.needFixOrder=this.needFixOrder||this.lastViewport!==i||this.lastVisibility!==e},onResize(){this.inScreen&&this.isVisible&&this.fixElementOrder()},fixElementOrder(){if(this.setMeta(),!this.needFixOrder)return;this.needFixOrder=!1;const i=this.$area.find(".elements-list");i.find("[data-hidden]").length&&i.each(((i,e)=>{const t=$(e).find(".element-item--static"),s=t.filter(":visible");t.removeClass("is-first-child is-last-child"),s.first().addClass("is-first-child"),s.last().addClass("is-last-child")}))}});

flexbe_cli.entity.setClientJs("modal","BASIC",{components:["background","icon"],onOpen(){this.$scroll=this.$area.find(".scroller"),this.$content=this.$area.find(".modal-content"),this.$close=this.$scroll.find("> .close--outside"),this.dispatchClasses(),this.$scroll.on("scroll.close-check",$.throttle((()=>{this.dispatchClasses()}),60))},onClose(){this.$scroll.off("scroll.close-check")},dispatchClasses(){if("mobile"!==flexbe_cli.resize.responsiveMode||!this.$close.length)return;const s=this.$scroll[0].scrollTop,e=this.$content[0].offsetTop,l=this.$close[0].offsetHeight;this.$close.toggleClass("stuck",e-s<l)}});

!function(){class t{get isOnScreen(){if(!this.$tabsList)return!1;const{top:t,height:i}=this.$tabsList[0].getBoundingClientRect();return t>0&&t+i<flexbe_cli.resize.viewportHeight}constructor(t){if(this.inited=!1,this.interacted=!1,this.opts=void 0,this.$area=void 0,this.uidAttr=void 0,this.classContainer=void 0,this.activeUid=void 0,this.$activeTab=void 0,this.$activeSection=void 0,this.$mainContainer=void 0,this.$tabsContainer=void 0,this.$tabsList=void 0,this.$swiperHelper=void 0,this.$tabs=void 0,this.$sections=void 0,this.opts=t,this.$area=t.$area,this.uidAttr=t.uidAttr||"data-tab-uid",this.classContainer=t.classContainer,this.initTabs(),t.activeUid)this.selectTab(t.activeUid);else if(window.location.hash){const t=window.location.hash.replace("#",""),i=$(`._anchor[name="${t}" i]`),e=i.length?i.closest("[data-id]"):$(`[data-id="${t}" i]`),s=i[0]||e[0];s&&this.selectTabFromTarget(s)}this.$area.on("bringIntoView",(t=>this.selectTabFromTarget(t.target)))}initTabs(){if(this.$mainContainer="self"===this.classContainer?this.$area:this.$area.find(this.classContainer),this.$tabsContainer=this.$area.find(".container-tabs"),this.$tabsList=this.$area.find('[role="tablist"]'),this.$swiperHelper=this.$area.find(".tab-swiper-helper"),this.inited=!!this.$tabsList.length,this.inited&&(this.$tabs=this.$tabsList.find('[role="tab"]'),this.$sections=this.$mainContainer.find('[role="tabpanel"]'),this.normalizeLines(),setTimeout((()=>{this.$mainContainer.addClass("main-area--tabs-inited")}),50),this.$tabsContainer.on("click",".tab",(t=>{const i=$(t.currentTarget).closest(`[${this.uidAttr}]`).attr(`${this.uidAttr}`);i&&this.selectTab(i)})),this.$tabsList.on("wheel",(t=>{flexbe_cli.run.is_pointer&&0===t.originalEvent.wheelDeltaX&&0!==t.originalEvent.wheelDeltaY&&(t.preventDefault(),this.$tabsList[0].scrollLeft+=t.originalEvent.wheelDeltaY)})),this.$tabsList.on("touchstart",(()=>{this.interacted=!0,this.destroySwipeAnimation()})),flexbe_cli.is_admin)){let t;this.$tabsContainer.on("mouseenter",".tab",(i=>{1===i.buttons&&document.body.classList.contains("state--in-move")&&(clearTimeout(t),t=setTimeout((()=>{const t=$(i.target).closest(`[${this.uidAttr}]`).attr(`${this.uidAttr}`);this.selectTab(t)}),700))})),this.$tabsContainer.on("mouseleave",".tab",(()=>{clearTimeout(t)}))}}swipeAnimationController(){if(!this.inited)return;const t=this.$tabsList[0]&&this.$tabsList[0].scrollWidth>this.$tabsList[0].clientWidth,i=this.isOnScreen;t&&i?this.initSwiperAnimation():i||this.destroySwipeAnimation()}initSwiperAnimation(){this.$swiperHelper.hasClass("show")||this.interacted||this.$swiperHelper.addClass("show")}destroySwipeAnimation(){this.$swiperHelper.hasClass("show")&&this.$swiperHelper.removeClass("show")}selectTabFromIndex(t){const i=this.$tabs.get(t);this.selectTabFromTarget(i)}selectTabFromTarget(t){const i=$(t).closest(`[${this.uidAttr}]`).attr(`${this.uidAttr}`);this.selectTab(i)}selectTab(t,{force:i}={}){var e,s;if(!t||!i&&this.activeUid===t)return;this.inited||this.initTabs();const a=null!=(e=null==(s=this.$tabs)?void 0:s.filter(`[${this.uidAttr}="${t}"]`))?e:[];if(!a.length)return;const n=this.$sections.filter(".active"),o=n[0]&&n[0].offsetTop,r=this.$sections.filter(`[${this.uidAttr}="${t}"]`);this.scrollToTab(a),this.$tabs.removeClass("active").attr("aria-selected",!1).attr("tabindex",-1),a.addClass("active").attr("aria-selected",!0).attr("tabindex",0),this.$sections.removeClass("active").prop("hidden",!0),r.addClass("active").prop("hidden",!1);const l=r[0]&&r[0].offsetTop;if(this.activeUid=t,this.$activeTab=a,this.$activeSection=r,n[0].dispatchEvent(new CustomEvent("element-become-hidden")),r[0].dispatchEvent(new CustomEvent("element-become-visible")),"function"==typeof this.opts.onSelectTab&&this.opts.onSelectTab({uid:t,$tab:a}),!flexbe_cli.run.is_mobile&&null!=o&&null!=l&&Math.abs(o-l)>0&&"undefined"!=typeof anime){const t=this.$mainContainer,i=o-l;t.css("will-change","transform"),anime({targets:t[0],translateY:[i,0],duration:250,easing:"easeOutCubic",complete:()=>{t.css({transform:"","will-change":""})}})}}normalizeLines(){if(!this.inited)return;let t;const i=this.$tabs;this.$tabsList.find(".tab-spacer").remove(),i.removeClass("first-in-line last-in-line"),i.first().addClass("first-in-line"),i.last().addClass("last-in-line"),i.each(((i,e)=>{t&&t.offsetTop!==e.offsetTop&&($(e).addClass("first-in-line"),$(t).addClass("last-in-line"),$(t).after('<span class="tab-spacer"></span>')),t=e}))}scrollToTab(t){if(!this.inited)return;const i=this.$tabsList,e=i[0].scrollWidth;if(e>i[0].offsetWidth){const s=t[0].offsetLeft,a=t[0].getBoundingClientRect(),n=flexbe_cli.resize.viewportWidth;let o;a.width>n||a.left<20?o=s-20:a.right>n-20&&(o=s-(n-20-a.width)),null!=o&&(o=Math.max(0,Math.min(e-n,o)),i.animate({scrollLeft:o},{duration:250}))}}resetHash(){if(!this.inited)return;String(window.location.hash).replace(/^#{1,2}(tab)?/,"")===this.activeUid&&(flexbe_cli.lockPopstate=!0,window.history.replaceState(null,null,window.location.pathname),flexbe_cli.lockPopstate=!1)}}flexbe_cli.entity.setClientJs("block","BUNDLE",{components:["background"],tabsController:void 0,shouldInitTabs:!0,onUpdate({templateRendered:t,reasonData:i}){t&&(this.shouldInitTabs=!0),["create","copy"].includes(i.source)&&requestAnimationFrame((()=>this.tabsController.selectTabFromIndex(i.to)))},onResize(){this.tabsController&&this.tabsController.normalizeLines()},onBeside(t){t&&this.shouldInitTabs&&this.createTabs()},onScreen(t){this.tabsController&&(t||(this.tabsController.swipeAnimationController(),this.tabsController.resetHash()))},onFocus(t){this.tabsController&&t&&this.tabsController.swipeAnimationController()},createTabs(){this.shouldInitTabs=!1,this.$area.find('[role="tabpanel"]').length?this.tabsController=new t({$area:this.$area,classContainer:".main-area",activeUid:this.selectedTabUid,onSelectTab:({uid:t})=>{this.selectedTabUid=t,this.updateTween()}}):this.tabsController=null}})}();

flexbe_cli.entity.setClientJs("block","FOOTER",{components:["background"]});

flexbe_cli.entity.setClientJs("element","avatar01",{components:["icon","image"]});

flexbe_cli.entity.setClientJs("element","button01",{components:["icon","button"]});

flexbe_cli.entity.setClientJs("element","figure",{components:["image"]});

flexbe_cli.entity.setClientJs("element","form01",{components:["form","icon","button"]});
